!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="8253f70d-4c5b-4a92-9d7d-a4f997aa7d47",e._sentryDebugIdIdentifier="sentry-dbid-8253f70d-4c5b-4a92-9d7d-a4f997aa7d47")}catch(e){}}(),(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[92432],{848683:function(e,t,n){"use strict";n.d(t,{D:function(){return u}});var r=n(58168),i=n(198587),a=n(399488),s=n(474848),o=["title","titleId"],d=function(e){var t=e.title,n=e.titleId,a=(0,i.A)(e,o);return(0,s.jsxs)("svg",(0,r.A)({width:20,height:20,viewBox:"0 0 20 20","aria-labelledby":n},a,{children:[t?(0,s.jsx)("title",{id:n,children:t}):null,(0,s.jsx)("path",{fillRule:"evenodd",d:"M13.192 14.606a7 7 0 1 1 1.414-1.414l3.101 3.1-1.414 1.415-3.1-3.1zM14 9A5 5 0 1 1 4 9a5 5 0 0 1 10 0z",clipRule:"evenodd"})]}))};d.displayName="SourceIconNavSearch";var u=(0,a.S)(d)},267751:function(e,t,n){"use strict";n.d(t,{D:function(){return m}});var r=n(58168),i=n(848683),a=n(441427),s=n(28974),o=n(27346),d=n(72127),u=n(296540),l=n(216042),c=n(914421),f=n(529747),h=n(927784),p=n(474848),D=function(e,t){var n=(0,a.$)(e.id);return(0,p.jsxs)("div",(0,r.A)({className:(0,s.cn)("tw-search-input")},(0,o.Fh)(e),{children:[(0,p.jsx)(l.S,{display:c.nl.HideAccessible,children:(0,p.jsx)("label",{htmlFor:n,children:"Search"})}),(0,p.jsx)(h.pd,(0,r.A)({"aria-invalid":(0,f.pP)({$error:e.error,$status:e.status})},(0,d.g)(e),{ref:t,autoCapitalize:e.autoCapitalize,autoFocus:e.autoFocus,autoComplete:e.autoComplete||"off",disabled:e.disabled,error:e.error,status:e.status,icon:i.D,id:n,maxLength:e.maxLength,name:e.name,onBlur:e.onBlur,onChange:e.onChange,onFocus:e.onFocus,onKeyDown:e.onKeyDown,placeholder:e.placeholder,rounding:e.rounding,spellCheck:e.spellCheck,tabIndex:e.tabIndex,size:e.size,type:h.NZ.Search,value:e.value,overlay:e.overlay}))]}))};D.displayName="SearchInput";var m=(0,u.forwardRef)(D);m.displayName=D.displayName},73703:function(e,t,n){"use strict";n.d(t,{O:function(){return o}});var r=n(364467),i=n(285459);function a(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?a(Object(n),!0).forEach((function(t){(0,r.A)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):a(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return(0,i.$)(e,s(s({},t),{},{cacheKey:JSON.stringify}))}},649815:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WhispersSearchUsersQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"userQuery"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"searchUsers"},arguments:[{kind:"Argument",name:{kind:"Name",value:"userQuery"},value:{kind:"Variable",name:{kind:"Name",value:"userQuery"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"50"}}],directives:[]}]}}]}}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var r=e.type;"NamedType"===r.kind&&t.add(r.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var r={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),r[e.name.value]=t}})),e.exports=t},661403:function(e,t,n){"use strict";n.d(t,{R8:function(){return r},SD:function(){return i},Ub:function(){return s},V_:function(){return a}});var r=[{id:"profile_image_001",urlSlug:"bb97f7e6-f11a-4194-9708-52bf5a5125e8"},{id:"profile_image_002",urlSlug:"27103734-3cda-44d6-a384-f2ab71e4bb85"},{id:"profile_image_003",urlSlug:"49988c7b-57bc-4dee-bd4f-6df4ad215d3a"},{id:"profile_image_004",urlSlug:"0ecbb6c3-fecb-4016-8115-aa467b7c36ed"},{id:"profile_image_005",urlSlug:"cd618d3e-f14d-4960-b7cf-094231b04735"},{id:"profile_image_006",urlSlug:"4cbf10f1-bb9f-4f57-90e1-15bf06cfe6f5"},{id:"profile_image_007",urlSlug:"b83b1794-7df9-4878-916c-88c2ad2e4f9f"}],i=function(){return Math.floor(Math.random()*r.length)};function a(e,t){var n=70;return 300===t?n=300:96!==t&&80!==t||(n=150),"https://static-cdn.jtvnw.net/user-default-pictures/".concat(e.urlSlug,"-profile_image-").concat(n,"x").concat(n,".jpg")}function s(e,t){var n=parseInt(e,10)%r.length;return a(r[n],t)}},855078:function(e,t,n){"use strict";n.d(t,{$C:function(){return s},DU:function(){return D},Dx:function(){return l},FF:function(){return r},HO:function(){return a},MI:function(){return i},Ug:function(){return d},e$:function(){return f},m7:function(){return m},nE:function(){return c},tO:function(){return u},tV:function(){return o},xe:function(){return h},y$:function(){return p}});var r="whispers.THREAD_OPENED",i="whispers.THREAD_CLOSED",a="whispers.THREAD_COLLAPSED",s="whispers.THREAD_EXPANDED",o="whispers.THREAD_FOCUSED",d="whispers.THREAD_UNFOCUSED",u="whispers.CONTENT_RESIZED";function l(e,t){return{type:r,data:e,contentWidth:t}}function c(e,t){return{type:i,threadID:e,contentWidth:t}}function f(e,t){return{type:a,threadID:e,contentWidth:t}}function h(e,t){return{type:s,threadID:e,contentWidth:t}}function p(e){return{type:u,contentWidth:e}}function D(e,t){return{type:o,threadID:e,contentWidth:t}}function m(e,t){return{type:d,threadID:e,contentWidth:t}}},928582:function(e,t,n){"use strict";n.d(t,{h:function(){return r},y:function(){return i}});var r="whisperNotifications.WHISPER_THREAD_NOTIFIED";function i(e,t,n){return{type:r,threadID:e,afterMessageID:n,content:t}}},463493:function(e,t,n){"use strict";n.d(t,{a:function(){return y}});var r=n(331635),i=n(474848),a=n(959340),s=n(914421),o=n(216042),d=n(792486),u=n(990768),l=n(312663),c=n(216378),f=n(97774),h=n(731667),p=n(912800),D=n(335e3),m=n(296540),I=n(452088),g=n(403672),v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleThreadClick=function(){t.props.selectThread(t.props.threadID)},t.handleArchiveClick=function(e){e.stopPropagation(),t.props.archiveThread(t.props.threadID)},t}return(0,r.__extends)(t,e),t.prototype.render=function(){var e,t,n,r,m=this.props.user,v=this.props.lastMessage?(0,g.aR)(this.props.lastMessage.content.content||"",this.props.lastMessage.content.emotes||[]):null,y=this.props.unreadMessageCount,b=(0,I.hw)("Unknown","ThreadListItem");return m?((t=m.displayName||m.login)||(t=b),n=m.login||b,r=m.profileImageURL):(t=b,n=b,r=null),(0,i.jsxs)(a.P,{className:"whispers-list-item ".concat(this.props.isSelected?"whispers-list-item--selected":""),position:s.yX.Relative,children:[(0,i.jsx)(a.P,{position:s.yX.Relative,borderBottom:!0,fullWidth:!0,display:s.nl.Flex,alignItems:s.k2.Center,children:(0,i.jsx)(o.S,{fullWidth:!0,children:(0,i.jsx)(d.M,{onClick:this.handleThreadClick,role:"listitem","data-a-target":"whisper-with-".concat(n),children:(0,i.jsxs)(a.P,{padding:1,display:s.nl.Flex,flexWrap:s.I4.NoWrap,fullWidth:!0,alignItems:s.k2.Center,children:[(0,i.jsx)(a.P,{className:"whispers-list-item__avatar",margin:{right:.5},flexShrink:0,children:(0,i.jsx)(u.e,{size:30,alt:(0,I.hw)("{interlocutorName}'s Avatar",{interlocutorName:t},"WhisperThreadListItem"),src:r,onLoad:this.props.avatarOnLoadCallback,userLogin:null===(e=this.props.user)||void 0===e?void 0:e.login})}),(0,i.jsxs)(a.P,{fullWidth:!0,display:s.nl.Inline,children:[(0,i.jsx)(l.N,{className:"whispers-list-item__user-name",fontSize:s.Z4.Size5,bold:!0,italic:t===b,ellipsis:!0,children:t}),(0,i.jsx)(a.P,{className:"whispers-list-item__last-message",ellipsis:!0,children:v})]})]})})})}),(0,i.jsxs)(a.P,{className:"whispers-list-item__visible-icons",children:[y>0&&!this.props.muted&&(0,i.jsx)(a.P,{className:"whispers-list-item__unread-icon",display:s.nl.Flex,justifyContent:s.A9.Center,position:s.yX.Absolute,alignItems:s.k2.Center,margin:{right:1},borderBottom:!0,children:(0,i.jsx)(c.h,{value:y})}),this.props.muted&&(0,i.jsx)(a.P,{className:"whispers-list-item__muted-icon",display:s.nl.Flex,justifyContent:s.A9.Center,position:s.yX.Absolute,alignItems:s.k2.Center,margin:{right:1},borderRadius:f.Z.Small,borderBottom:!0,children:(0,i.jsx)(h.t,{type:h.H.Alt2,asset:p.t.WhisperMuted})})]}),(0,i.jsx)(a.P,{className:"whispers-list-item__archive",display:s.nl.Flex,alignItems:s.k2.Center,position:s.yX.Absolute,justifyContent:s.A9.Start,borderBottom:!0,attachTop:!0,attachBottom:!0,children:(0,i.jsx)(d.M,{className:"whispers-list-item__archive-button","data-a-target":"whispers-list-item__archive-button","data-click-out-id":"whispers-list-item__archive-button",title:(0,I.hw)("Archive Thread","WhisperThreadListItem"),onClick:this.handleArchiveClick,children:(0,i.jsx)(D.E,{})})})]})},t}(m.Component),y=v},884637:function(e,t,n){"use strict";n.d(t,{W:function(){return c}});var r=n(474848),i=n(792486),a=n(959340),s=n(914421),o=n(990768),d=n(312663),u=(n(296540),n(661403)),l=n(92495),c=function(e){var t=e.user,n=e.index,c=e.selectResult,f=(0,l._0)(t.displayName),h=t.profileImageURL||(0,u.Ub)(t.id,30);return(0,r.jsx)(i.M,{onClick:function(){return c(t,n)},children:(0,r.jsxs)(a.P,{className:"whispers-list-item","data-a-target":"whisper-search-result-".concat(t.login),padding:1,display:s.nl.Flex,flexDirection:s.bo.Row,flexWrap:s.I4.NoWrap,alignItems:s.k2.Center,borderBottom:!0,fullWidth:!0,children:[(0,r.jsx)(a.P,{margin:{right:.5},flexShrink:0,children:(0,r.jsx)(o.e,{size:30,src:h,alt:f,userLogin:t.login})}),(0,r.jsx)(a.P,{display:s.nl.Flex,flexDirection:s.bo.Column,fullWidth:!0,children:(0,r.jsx)(d.N,{fontSize:s.Z4.Size5,bold:!0,children:t.displayName||t.login})})]})},"searchResult:".concat(t.id))}},81830:function(e,t,n){"use strict";n.d(t,{Gw:function(){return y},H6:function(){return g}});var r=n(868238),i=n(452088),a=n(331635),s=n(973421),o=n.n(s),d=n(855078),u=234,l=310;function c(e){if(0===e.openedIDs.length)return 0;for(var t=0,n=0,r=e.openedIDs;n<r.length;n++){var i=r[n],a=e.byID[i];a.hidden||(t+=a.collapsed?u:l)}return t}function f(e){var t=(0,a.__spreadArray)([],e.openedIDs,!0),n=t.pop();return n&&e.focusedID===n&&t.length>0&&(t.pop(),t.push(n)),o()(e,(function(e){return e.openedIDs}),(function(){return t}))}function h(e,t){var n=e.orderedIDs.filter((function(t){return!e.openedIDs.includes(t)}));return n.length>0?p(e,n[0],t):e}function p(e,t,n){var r=n-c(e),i=(0,a.__assign)({},e);return i.openedIDs.includes(t)||(r<l&&(i=f(i)),i=o()(i,(function(e){return e.openedIDs}),(function(e){return e.push(t),e}))),i}function D(e,t,n){if(!e.byID[t])return e;var r=o()(e,(function(e){return e.byID}),(function(e){return e[t].collapsed=!1,e}));return r.focusedID=t,c(e)>n&&(r=f(r)),r}var m=n(928582);var I=(0,r.HY)({display:function(e,t){switch(void 0===e&&(e={byID:{},orderedIDs:[],openedIDs:[],focusedID:""}),t.type){case d.FF:var n=(i=(0,a.__assign)({},e)).byID[t.data.threadID],r=i.openedIDs.includes(t.data.threadID);return n||(i=o()(i,(function(e){return e.orderedIDs}),(function(e){return e.push(t.data.threadID),e})),i=o()(i,(function(e){return e.byID}),(function(e){return e[t.data.threadID]=t.data,e}))),i.openedIDs.includes(t.data.threadID)&&!i.byID[t.data.threadID].hidden||(i.byID[t.data.threadID].hidden=t.data.hidden),t.data.ignoreCollapseIfOpen||t.data.collapsed||(i.focusedID=t.data.threadID),i=p(i,t.data.threadID,t.contentWidth),(!r||r&&!t.data.ignoreCollapseIfOpen)&&(t.data.collapsed||(i=D(i,t.data.threadID,t.contentWidth))),i;case d.MI:if(!e.byID[t.threadID])return e;var i=o()(e,(function(e){return e.byID}),(function(e){return delete e[t.threadID],e}));return i=o()(i,(function(e){return e.orderedIDs}),(function(e){return e.filter((function(e){return e!==t.threadID}))})),i=o()(i,(function(e){return e.openedIDs}),(function(e){return e.filter((function(e){return e!==t.threadID}))})),e.focusedID===t.threadID&&(i.focusedID=i.openedIDs[0]),h(i,t.contentWidth);case d.HO:return e.byID[t.threadID]?(e.focusedID===t.threadID&&(e.focusedID=""),o()(e,(function(e){return e.byID}),(function(e){return e[t.threadID].collapsed=!0,e}))):e;case d.$C:return D(e,t.threadID,t.contentWidth);case d.tV:return o()(e,(function(e){return e.focusedID}),(function(){return t.threadID}));case d.Ug:return o()(e,(function(e){return e.focusedID}),(function(e){return e===t.threadID?"":e}));case d.tO:var s=c(e);if(s>t.contentWidth){if(e.openedIDs.length<=1)return e;for(var u=(0,a.__assign)({},e);s>t.contentWidth&&u.openedIDs.length>1;)s=c(u=f(u));return u}if(t.contentWidth-s>=l){var m=Math.floor((t.contentWidth-s)/l),I=Math.min(m,e.orderedIDs.length-e.openedIDs.length);if(0===I)return e;u=(0,a.__assign)({},e);for(var g=0;g<I;g++)if((u=h(u,t.contentWidth)).openedIDs.length>1)for(var v=u.openedIDs,y=v.length,b=0,_=u.orderedIDs;b<_.length;b++){var k=_[b];if(v[y-1]===k){var w=v.splice(y-2,1);v.push(w[0]);break}if(v[y-2]===k)break}return u}return e;default:return e}},notifications:function(e,t){return void 0===e&&(e={byThreadID:{}}),t.type===m.h?e.byThreadID[t.threadID]?o()(e,(function(e){return e.byThreadID[t.threadID]}),(function(e){return(0,a.__spreadArray)([{threadID:t.threadID,afterMessageID:t.afterMessageID,content:t.content}],e,!0)})):o()(e,(function(e){return e.byThreadID}),(function(e){var n;return(0,a.__assign)(((n={})[t.threadID]=[{threadID:t.threadID,afterMessageID:t.afterMessageID,content:t.content}],n),e)})):e}});function g(e,t){return e.whispers?e.whispers.display.byID[t]:null}var v=[];function y(e,t){return e.whispers.notifications.byThreadID[t]||v}i.x2.store.registerReducer("whispers",I)},434285:function(e,t,n){"use strict";n.d(t,{L:function(){return a},M:function(){return s}});var r=null,i=1e3;function a(e){r=e}function s(){return r?+window.getComputedStyle(r).getPropertyValue("width").replace("px",""):i}}}]);