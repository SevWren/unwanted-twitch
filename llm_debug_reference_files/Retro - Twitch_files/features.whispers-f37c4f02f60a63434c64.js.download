!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=(new e.Error).stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="06a852c0-07b1-483e-908c-0f5c1492c4d9",e._sentryDebugIdIdentifier="sentry-dbid-06a852c0-07b1-483e-908c-0f5c1492c4d9")}catch(e){}}(),(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[31813],{897120:function(e,t,n){"use strict";n.d(t,{S:function(){return l}});var i=n(58168),r=n(198587),a=n(399488),s=n(474848),o=["title","titleId"],d=function(e){var t=e.title,n=e.titleId,a=(0,r.A)(e,o);return(0,s.jsxs)("svg",(0,i.A)({width:20,height:20,viewBox:"0 0 20 20","aria-labelledby":n},a,{children:[t?(0,s.jsx)("title",{id:n,children:t}):null,(0,s.jsx)("path",{fillRule:"evenodd",d:"m3 12 7-10 7 10-7 6-7-6zm2.678-.338L10 5.487l4.322 6.173-.85.728L10 11l-3.473 1.39-.849-.729z",clipRule:"evenodd"})]}))};d.displayName="SourceIconBits";var l=(0,a.S)(d)},850138:function(e,t,n){"use strict";n.d(t,{q:function(){return l}});var i=n(58168),r=n(198587),a=n(399488),s=n(474848),o=["title","titleId"],d=function(e){var t=e.title,n=e.titleId,a=(0,r.A)(e,o);return(0,s.jsxs)("svg",(0,i.A)({width:20,height:20,viewBox:"0 0 20 20","aria-labelledby":n},a,{children:[t?(0,s.jsx)("title",{id:n,children:t}):null,(0,s.jsx)("path",{d:"M10 6a4 4 0 0 1 4 4h-2a2 2 0 0 0-2-2V6z"}),(0,s.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0zm-2 0a6 6 0 1 1-12 0 6 6 0 0 1 12 0z",clipRule:"evenodd"})]}))};d.displayName="SourceIconChannelPoints";var l=(0,a.S)(d)},48935:function(e,t,n){"use strict";n.d(t,{f:function(){return l}});var i=n(58168),r=n(198587),a=n(399488),s=n(474848),o=["title","titleId"],d=function(e){var t=e.title,n=e.titleId,a=(0,r.A)(e,o);return(0,s.jsxs)("svg",(0,i.A)({width:20,height:20,viewBox:"0 0 20 20","aria-labelledby":n},a,{children:[t?(0,s.jsx)("title",{id:n,children:t}):null,(0,s.jsx)("path",{d:"M10 8a2 2 0 1 0 0 4 2 2 0 0 0 0-4z"}),(0,s.jsx)("path",{fillRule:"evenodd",d:"M9 2h2a2.01 2.01 0 0 0 1.235 1.855l.53.22a2.01 2.01 0 0 0 2.185-.439l1.414 1.414a2.01 2.01 0 0 0-.439 2.185l.22.53A2.01 2.01 0 0 0 18 9v2a2.01 2.01 0 0 0-1.855 1.235l-.22.53a2.01 2.01 0 0 0 .44 2.185l-1.415 1.414a2.01 2.01 0 0 0-2.184-.439l-.531.22A2.01 2.01 0 0 0 11 18H9a2.01 2.01 0 0 0-1.235-1.854l-.53-.22a2.009 2.009 0 0 0-2.185.438L3.636 14.95a2.009 2.009 0 0 0 .438-2.184l-.22-.531A2.01 2.01 0 0 0 2 11V9c.809 0 1.545-.487 1.854-1.235l.22-.53a2.009 2.009 0 0 0-.438-2.185L5.05 3.636a2.01 2.01 0 0 0 2.185.438l.53-.22A2.01 2.01 0 0 0 9 2zm-4 8 1.464 3.536L10 15l3.535-1.464L15 10l-1.465-3.536L10 5 6.464 6.464 5 10z",clipRule:"evenodd"})]}))};d.displayName="SourceIconGear";var l=(0,a.S)(d)},335e3:function(e,t,n){"use strict";n.d(t,{E:function(){return l}});var i=n(58168),r=n(198587),a=n(399488),s=n(474848),o=["title","titleId"],d=function(e){var t=e.title,n=e.titleId,a=(0,r.A)(e,o);return(0,s.jsxs)("svg",(0,i.A)({width:20,height:20,viewBox:"0 0 20 20","aria-labelledby":n},a,{children:[t?(0,s.jsx)("title",{id:n,children:t}):null,(0,s.jsx)("path",{d:"M12 2H8v1H3v2h14V3h-5V2zM4 7v9a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V7h-2v9H6V7H4z"}),(0,s.jsx)("path",{d:"M11 7H9v7h2V7z"})]}))};d.displayName="SourceIconTrash";var l=(0,a.S)(d)},668460:function(e,t,n){"use strict";n.d(t,{_:function(){return l}});var i=n(58168),r=n(198587),a=n(399488),s=n(474848),o=["title","titleId"],d=function(e){var t=e.title,n=e.titleId,a=(0,r.A)(e,o);return(0,s.jsxs)("svg",(0,i.A)({width:20,height:20,viewBox:"0 0 20 20","aria-labelledby":n},a,{children:[t?(0,s.jsx)("title",{id:n,children:t}):null,(0,s.jsx)("path",{fillRule:"evenodd",d:"M7.828 13 10 15.172 12.172 13H15V5H5v8h2.828zM10 18l-3-3H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2l-3 3z",clipRule:"evenodd"})]}))};d.displayName="SourceIconWhisper";var l=(0,a.S)(d)},216378:function(e,t,n){"use strict";n.d(t,{h:function(){return f}});var i=n(58168),r=n(198587),a=n(292740),s=n(153477),o=n(659480),d=n(959340),l=n(914421),u=n(474848),c=["children","formatValue","mask","value"],m=(0,a.I4)(d.P).withConfig({displayName:"ScNumberBadgeMask",componentId:"sc-qi0rbw-0"})(["display:inline-flex;position:relative;background:inherit;padding:0.2rem;pointer-events:none;border-radius:",";"],(0,s.C)("border-radius-rounded")),h=a.I4.div.withConfig({displayName:"ScNumberBadge",componentId:"sc-qi0rbw-1"})(["position:relative;padding:0 0.6rem;line-height:1.6;font-size:",";font-variant-numeric:tabular-nums;pointer-events:none;border-radius:",";background-color:",";color:",";"],(0,o.b)("font-size-7"),(0,s.C)("border-radius-rounded"),(0,s.C)("color-red-9"),(0,o.b)("color-text-overlay")),p=a.I4.div.withConfig({displayName:"ScNumberBadgeWrapper",componentId:"sc-qi0rbw-2"})(["position:absolute;transform:translateX(50%) translateY(-50%);top:0.2rem;right:0.2rem;pointer-events:none;"]),f=function(e){var t=e.children,n=e.formatValue,a=e.mask,s=e.value,o=(0,r.A)(e,c),f=(0,u.jsx)(m,(0,i.A)({className:"tw-number-badge",background:a||l.VS.Base},o,{children:(0,u.jsx)(h,{className:"tw-number-badge__badge",children:n?n(s):s})}));return t?(0,u.jsxs)(d.P,{display:l.nl.InlineFlex,position:l.yX.Relative,children:[t,(0,u.jsx)(p,{className:"tw-number-badge__container",children:f})]}):f};f.displayName="NumberBadge"},591252:function(e,t,n){"use strict";n.d(t,{M:function(){return b},p:function(){return r}});var i,r,a=n(58168),s=n(198587),o=n(292740),d=n(659480),l=n(922267),u=n(27346),c=n(72127),m=n(96012),h=n(235233),p=n(973474),f=n(959340),v=n(474848),g=["size"];!function(e){e.Default="tw-card-img--size-default",e.Size2="tw-card-img--size-2",e.Size3="tw-card-img--size-3",e.Size4="tw-card-img--size-4",e.Size6="tw-card-img--size-6",e.Size8="tw-card-img--size-8",e.Size12="tw-card-img--size-12",e.Size16="tw-card-img--size-16",e.Size24="tw-card-img--size-24",e.Size32="tw-card-img--size-32"}(r||(r={}));var k=(0,o.I4)(f.P).withConfig({displayName:"ScCardImage",componentId:"sc-1ww5dnj-0"})(["flex-shrink:0;background-color:",";overflow:hidden;width:",";"],(0,d.b)("color-background-placeholder"),(0,l.H)("$size",((i={})[r.Default]="100%",i[r.Size2]="2rem",i[r.Size3]="3rem",i[r.Size4]="4rem",i[r.Size6]="6rem",i[r.Size8]="8rem",i[r.Size12]="12rem",i[r.Size16]="16rem",i[r.Size24]="24rem",i[r.Size32]="32rem",i))),b=function(e){var t=e.size,n=void 0===t?r.Default:t,i=(0,s.A)(e,g);return(0,v.jsxs)(k,(0,a.A)({$size:n,className:"tw-card-image",borderRadius:i.borderRadius},(0,u.Fh)(i),(0,c.g)(i),{children:[(0,v.jsx)(h.j$,{ratio:i.aspect?i.aspect:h.gl.Aspect16x9,overflow:i.overflow,children:(0,v.jsx)(p.L,(0,a.A)({},(0,m.u)(i)))}),i.children]}))};b.displayName="CardImage"},61604:function(e,t,n){"use strict";n.d(t,{O:function(){return a}});var i=n(734371),r=n(324602),a=(0,i.k)(r.fK,{role:"dialog","aria-modal":!1})},734371:function(e,t,n){"use strict";n.d(t,{k:function(){return d}});var i=n(58168),r=n(198587),a=n(401967),s=n(474848),o=["show","anchorRef","options","popperRef","popperArrow","onRequestClose","onEnterComplete","onExitComplete","transitionType","transitionDelay","transitionDuration","disableAriaHideApp","disableCloseOnClickOut","disableCloseOnEsc","disableFocusAfterRender","disableReturnFocusAfterClose","focusableCloseAtEnd","keyboardArrowFocus","portalClassName","role","aria-modal","aria-label","aria-labelledby","aria-describedby"];function d(e,t){var n=function(n){var d,l=n.show,u=n.anchorRef,c=n.options,m=n.popperRef,h=n.popperArrow,p=n.onRequestClose,f=n.onEnterComplete,v=n.onExitComplete,g=n.transitionType,k=n.transitionDelay,b=n.transitionDuration,y=n.disableAriaHideApp,S=n.disableCloseOnClickOut,w=n.disableCloseOnEsc,x=n.disableFocusAfterRender,C=n.disableReturnFocusAfterClose,N=n.focusableCloseAtEnd,_=n.keyboardArrowFocus,A=n.portalClassName,D=n.role,I=n["aria-modal"],F=n["aria-label"],M=n["aria-labelledby"],T=n["aria-describedby"],R=(0,r.A)(n,o);return(0,s.jsx)(a.Y,{show:l,anchorRef:u,options:(0,i.A)({},null==t?void 0:t.options,c),popperRef:m,popperArrow:null===h?null:null==t?void 0:t.popperArrow,onRequestClose:p,onEnterComplete:f,onExitComplete:v,transitionType:g,transitionDuration:b,transitionDelay:k,disableAriaHideApp:y,disableCloseOnClickOut:null!=S?S:null==t?void 0:t.disableCloseOnClickOut,disableCloseOnEsc:w,disableFocusAfterRender:x,disableReturnFocusAfterClose:C,focusableCloseAtEnd:null!=N?N:null==t?void 0:t.focusableCloseAtEnd,keyboardArrowFocus:null!=_?_:null==t?void 0:t.keyboardArrowFocus,portalClassName:A,role:null!=(d=null!=D?D:null==t?void 0:t.role)?d:null,"aria-label":F,"aria-labelledby":R.popoverId?R.popoverId+"-header":M,"aria-describedby":R.popoverId?R.popoverId+"-body":T,"aria-modal":null===I?void 0:null!=I?I:null==t?void 0:t["aria-modal"],children:(0,s.jsx)(e,(0,i.A)({},R))})};return n.displayName="withDialogLayer("+(e.displayName||e.name)+")",n}},573264:function(e,t,n){"use strict";n.d(t,{A:function(){return f}});var i=n(58168),r=n(777387),a=n(364467),s=n(72127),o=n(27346),d=n(296540),l=n(959340),u=n(914421),c=n(324602),m=n(337051),h=n(368972),p=n(474848),f=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.A)(t,e),t.prototype.render=function(){var e=[];return this.props.items&&this.props.items.map((function(t,n){t.type?e.push((0,d.createElement)(m.G,(0,i.A)({},t,{key:n}))):e.push((0,p.jsx)(h.i,(0,i.A)({},t),n))})),(0,p.jsx)(c.fK,(0,i.A)({elevation:this.props.elevation,size:this.props.size?this.props.size:c.$V.Small,background:this.props.background,overlay:this.props.overlay},(0,s.g)(this.props),{children:(0,p.jsx)(l.P,{display:u.nl.Flex,flexDirection:u.bo.Column,maxHeight:this.props.maxHeight,children:(0,p.jsxs)(l.P,(0,i.A)({overflow:u.nE.Auto,padding:1},(0,o.Fh)(this.props),{children:[e,this.props.children]}))})}))},t}(d.Component);(0,a.A)(f,"displayName",void 0),f.displayName="DropDownMenuWrapper"},632606:function(e,t,n){"use strict";n.d(t,{A:function(){return a}});var i=n(734371),r=n(746442),a=(0,i.k)(r.N,{role:"dialog","aria-modal":!0})},746442:function(e,t,n){"use strict";n.d(t,{N:function(){return h}});var i=n(58168),r=n(777387),a=n(364467),s=n(27346),o=n(72127),d=n(296540),l=n(959340),u=n(914421),c=n(324602),m=n(474848),h=function(e){function t(){return e.apply(this,arguments)||this}return(0,r.A)(t,e),t.prototype.render=function(){return(0,m.jsx)(c.fK,(0,i.A)({},(0,s.Fh)(this.props),(0,o.g)(this.props),{elevation:this.props.elevation,size:this.props.size?this.props.size:c.$V.Large,background:this.props.background,children:(0,m.jsx)(l.P,{display:u.nl.Flex,flexDirection:u.bo.Column,maxHeight:this.props.maxHeight,children:this.props.children})}))},t}(d.Component);(0,a.A)(h,"displayName",void 0),h.displayName="PopoverWrapper"},258077:function(e,t,n){"use strict";n.d(t,{d:function(){return p}});var i=n(58168),r=n(737656),a=n(441427),s=n(18461),o=n(296540),d=n(959340),l=n(757170),u=n(950962),c=n(382521),m=n(474848),h=function(e){var t=e.id,n=e.children,r=e.legend,h=e.error,p=e.inputSpacing,f=void 0===p?.5:p,v=e.orientation,g=e.overlay,k=(0,a.$)(t),b=k+"-label",y=k+"-error",S=(0,o.isValidElement)(r)?r:(0,m.jsx)(c.ZS,{as:"div",$overlay:g,children:r}),w=(0,m.jsx)(d.P,{display:"flex",flexDirection:"column",style:{gap:(0,s.Hz)(f)||void 0},children:n}),x="container-"+k;return(0,m.jsx)(d.P,(0,i.A)({flexGrow:1},"auto"===v?{containerName:x,containerType:"inline-size",width:"100%"}:void 0,{children:(0,m.jsxs)(d.P,{as:"fieldset",role:"group",id:k,"aria-labelledby":b,"aria-describedby":y,flexGrow:1,containerQueries:"auto"===v?[{containerName:x,minWidth:"768px",props:{flexDirection:"row",gap:1}}]:void 0,children:[(0,m.jsx)(d.P,{as:"legend",style:"horizontal"===v?{float:"left"}:void 0,id:b,padding:"horizontal"===v?{right:2}:void 0,width:"horizontal"===v?u.e0:void 0,margin:{bottom:.5},containerQueries:"auto"===v?[{containerName:x,minWidth:"768px",props:{width:u.e0},style:{float:"left"}}]:void 0,children:S}),w,h&&(0,m.jsx)(d.P,{margin:{top:.5},children:(0,o.isValidElement)(h)?(0,o.cloneElement)(h,{id:y}):"string"==typeof h?(0,m.jsx)(l.j,{errorMessage:h,id:y}):h})]})}))};h.displayName="FormFieldset";var p=(0,r.i)(h)},927784:function(e,t,n){"use strict";n.d(t,{NZ:function(){return s},jg:function(){return o},pd:function(){return R}});var i,r,a,s,o,d=n(58168),l=n(198587),u=n(737656),c=n(292740),m=n(922267),h=n(659480),p=n(153477),f=n(111742),v=n(28974),g=n(27346),k=n(72127),b=n(296540),y=n(652147),S=n(959340),w=n(914421),x=n(216042),C=n(529747),N=n(292644),_=n(504358),A=n(474848),D=["size","padding","id"];!function(e){e.Text="text",e.Number="number",e.Email="email",e.Password="password",e.Search="search",e.Date="date",e.DateTimeLocal="datetime-local",e.Month="month",e.Tel="tel",e.Time="time",e.Url="url",e.Week="week"}(s||(s={})),function(e){e.Default="default",e.Left="left",e.Right="right"}(o||(o={}));var I=(0,c.I4)(C.ys).withConfig({displayName:"ScInput",componentId:"sc-19xfhag-0"})(["display:flex;width:100%;height:",";font-size:",";border-radius:",";border-top-left-radius:",";border-bottom-left-radius:",";border-top-right-radius:",";border-bottom-right-radius:",";padding:",';@media (pointer:coarse){font-size:1.6rem;}&[type="number"]{&::-webkit-inner-spin-button{-webkit-appearance:none;}&::-webkit-outer-spin-button{-webkit-appearance:none;margin:0;}-moz-appearance:textfield;}&[type="search"],&[type="date"],&[type="datetime-local"],&[type="time"],&[type="week"],&[type="month"]{color-scheme:',";&::-webkit-calendar-picker-indicator,&::-webkit-search-cancel-button{appearance:none;-webkit-appearance:none;width:",";height:",";background-repeat:no-repeat;background-position:center;background-size:100%;position:absolute;right:",';}&::-webkit-datetime-edit,&::-webkit-datetime-edit-fields-wrapper{padding:0;display:flex;align-items:center;}}&[type="search"]{&::-webkit-search-cancel-button{background-image:url("data:image/svg+xml,%3Csvg%20viewBox%3D%220%200%2020%2020%22%20version%3D%221.1%22%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%3E%0A%20%20%3Cpath%20fill%3D%22','%22%20d%3D%22M8.5%2010L4%205.5%205.5%204%2010%208.5%2014.5%204%2016%205.5%2011.5%2010l4.5%204.5-1.5%201.5-4.5-4.5L5.5%2016%204%2014.5%208.5%2010z%22%20%2F%3E%0A%3C%2Fsvg%3E");}}&[type="date"],&[type="datetime-local"],&[type="week"],&[type="month"]{&::-webkit-calendar-picker-indicator{background-image:url("data:image/svg+xml,%3Csvg xmlns=\'http://www.w3.org/2000/svg\' width=\'20\' height=\'20\' viewBox=\'0 0 20 20\' fill=\'',"'%3E%3Cpath d='M6 9v2h2V9H6zm5 0H9v2h2V9zm1 0v2h2V9h-2zm-1 3H9v2h2v-2zm-5 0v2h2v-2H6zm6 0v2h2v-2h-2z'/%3E%3Cpath fill-rule='evenodd' d='M5 2h2v1h6V2h2v1h1a2 2 0 0 1 2 2v11a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h1V2zm11 5H4v9h12V7z' clip-rule='evenodd'/%3E%3C/svg%3E\");}}&[type=\"time\"]{&::-webkit-calendar-picker-indicator{background-image:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 20 20' fill='","'%3E%3Cpath d='M11 9.586V6H9v4.414l2.293 2.293 1.414-1.414L11 9.586z'/%3E%3Cpath fill-rule='evenodd' d='M18 10a8 8 0 1 1-16 0 8 8 0 0 1 16 0zm-2 0a6 6 0 1 1-12 0 6 6 0 0 1 12 0z' clip-rule='evenodd'/%3E%3C/svg%3E\");}}"],(0,m.H)("$size",((i={})[N.Y.Small]=(0,h.b)("input-size-small"),i[N.Y.Default]=(0,h.b)("input-size-default"),i[N.Y.Large]=(0,h.b)("input-size-large"),i)),(0,m.H)("$size",((r={})[N.Y.Small]=(0,h.b)("input-text-small"),r[N.Y.Default]=(0,h.b)("input-text-default"),r[N.Y.Large]=(0,h.b)("input-text-large"),r)),(0,m.H)("$size",((a={})[N.Y.Small]=(0,h.b)("input-border-radius-small"),a[N.Y.Default]=(0,h.b)("input-border-radius-default"),a[N.Y.Large]=(0,h.b)("input-border-radius-large"),a)),(function(e){return e.$rounding===o.Right?0:void 0}),(function(e){return e.$rounding===o.Right?0:void 0}),(function(e){return e.$rounding===o.Left?0:void 0}),(function(e){return e.$rounding===o.Left?0:void 0}),(function(e){if(e.$size===N.Y.Small)return"0.2rem 0"}),(function(e){return e.$nativeUiColorScheme}),(function(e){var t=e.$size;return t===N.Y.Large?(0,h.b)("input-icon-size-large"):t===N.Y.Small?(0,h.b)("input-icon-size-small"):(0,h.b)("input-icon-size-default")}),(function(e){var t=e.$size;return t===N.Y.Large?(0,h.b)("input-icon-size-large"):t===N.Y.Small?(0,h.b)("input-icon-size-small"):(0,h.b)("input-icon-size-default")}),(0,p.C)("space-05"),C.AC,C.AC,C.AC),F=c.I4.div.withConfig({displayName:"ScInputIconWrapper",componentId:"sc-19xfhag-1"})(["display:flex;align-items:center;justify-content:center;height:100%;min-width:3rem;position:absolute;top:0;right:",";left:",";color:",";opacity:",";"],(function(e){return e.$iconRight?0:void 0}),(function(e){return e.$iconRight?void 0:0}),(function(e){var t=e.$overlay;return(0,h.b)(t?"color-text-input-placeholder-overlay":"color-text-alt-2")}),(function(e){return e.$disabled&&.5})),M=function(e,t){var n,i=e.size,r=void 0===i?N.Y.Default:i,a=e.padding,o=e.id,u=(0,l.A)(e,D),c=(0,f.DP)(),m=(0,_.l)(o),h={"tw-input":!0,"tw-input--small":r===N.Y.Small,"tw-input--large":r===N.Y.Large,"tw-input--error":u.error||"error"===u.status,"tw-input--overlay":u.overlay,"tw-input--password":u.type===s.Password};return u.icon&&(n=(0,A.jsx)(F,{className:(0,v.cn)({"tw-input__icon":!0,"tw-input__icon--overlay":u.overlay}),$overlay:u.overlay,$iconRight:u.iconRight,$disabled:u.disabled,children:(0,y.s)(u.icon)})),(0,A.jsx)(C.UT,{children:(0,A.jsxs)(S.P,(0,d.A)({position:w.yX.Relative},(0,g.Fh)(u),{children:[n,(0,A.jsx)(x.S,{padding:null!=a?a:{left:u.icon&&!u.iconRight?3:1,right:u.iconRight?3:1,y:r===N.Y.Small?void 0:.5},textAlign:u.textAlign,children:(0,A.jsx)(I,(0,d.A)({"aria-invalid":(0,C.pP)({$error:u.error,$status:u.status})},m,(0,k.g)(u),{ref:t,type:u.type,className:(0,v.cn)(h),placeholder:u.placeholder,autoCapitalize:u.autoCapitalize?"on":"off",autoCorrect:u.autoCorrect?"on":"off",autoComplete:u.autoComplete,autoFocus:u.autoFocus,"data-a-target":"tw-input",defaultValue:u.defaultValue,disabled:u.disabled,inputMode:u.inputMode,list:u.list,name:u.name,onBlur:u.onBlur,onChange:u.onChange,onClick:u.onClick,onFocus:function(e){u.onFocusSelectContent&&e.currentTarget.select();u.onFocus&&u.onFocus(e)},onKeyDown:u.onKeyDown,pattern:u.pattern,max:u.max,maxLength:u.maxLength,min:u.min,readOnly:u.readOnly,required:u.required,spellCheck:u.spellCheck,step:u.step,tabIndex:u.tabIndex,value:u.value,$error:u.error,$overlay:u.overlay,$status:u.status,$size:r,$nativeUiColorScheme:c.colorScheme,$rounding:u.rounding}))})]}))})};M.displayName="Input";var T=(0,b.forwardRef)(M);T.displayName=M.displayName;var R=(0,u.i)(T)},26538:function(e,t,n){"use strict";n.d(t,{a:function(){return y},y:function(){return a}});var i,r,a,s=n(58168),o=n(198587),d=n(922267),l=n(659480),u=n(292740),c=n(312663),m=n(588702),h=n(914421),p=n(474848),f=["label","transform","type"];!function(e){e.Default="default",e.Notification="notification",e.Brand="brand",e.Info="info",e.Live="live",e.Alert="alert",e.Success="success",e.Overlay="overlay",e.Warn="warn",e.New="new",e.Subtle="subtle"}(a||(a={}));var v=(0,d.H)("$pillType",((i={})[a.Default]=(0,l.b)("color-background-pill"),i[a.Notification]=(0,l.b)("color-background-pill-notification"),i[a.Brand]=(0,l.b)("color-background-brand"),i[a.Info]=(0,l.b)("color-background-info"),i[a.Live]=(0,l.b)("color-fill-live"),i[a.Alert]=(0,l.b)("color-background-error"),i[a.Success]=(0,l.b)("color-background-success"),i[a.Overlay]=(0,l.b)("color-background-overlay-alt"),i[a.Warn]=(0,l.b)("color-background-warn"),i[a.New]=(0,l.b)("color-background-pill-new"),i[a.Subtle]=(0,l.b)("color-background-pill-subtle"),i)),g=(0,l.b)("color-text-overlay"),k=(0,d.H)("$pillType",((r={})[a.Default]=g,r[a.Notification]=g,r[a.Brand]=(0,l.b)("color-text-pill"),r[a.Info]=(0,l.b)("color-text-pill"),r[a.Live]=g,r[a.Alert]=(0,l.b)("color-text-pill"),r[a.Success]=(0,l.b)("color-text-pill"),r[a.Overlay]=g,r[a.Warn]=(0,l.b)("color-text-pill"),r[a.New]=(0,l.b)("color-text-pill"),r[a.Subtle]=(0,l.b)("color-text-pill"),r)),b=(0,u.I4)(c.N).withConfig({displayName:"ScPill",componentId:"sc-uwplbb-0"})(["color:",";background-color:",";display:inline-block;position:relative;line-height:initial;text-align:center;white-space:nowrap;border-radius:1000px;padding:0.3rem 0.8em;font-size:75%;&:empty{display:none;}"],k,v),y=function(e){var t=e.label,n=e.transform,i=void 0===n?m.Ms.Uppercase:n,r=e.type,d=void 0===r?a.Info:r,l=(0,o.A)(e,f);return(0,p.jsx)(b,(0,s.A)({$pillType:d,className:"tw-pill",type:m.M2.Span,transform:i,fontWeight:h.IT.SemiBold},l,{children:t}))};y.displayName="Pill"},731667:function(e,t,n){"use strict";n.d(t,{H:function(){return i},t:function(){return f}});var i,r=n(58168),a=n(198587),s=n(292740),o=n(659480),d=n(27346),l=n(72127),u=n(912800),c=n(474848),m=["role"];!function(e){e.Inherit="color-fill-current",e.Alt="color-fill-alt",e.Alt2="color-fill-alt-2",e.Brand="color-fill-brand",e.Live="color-text-accessible-red",e.Warn="color-fill-warn",e.Alert="color-fill-alert",e.Success="color-fill-success",e.Prime="color-fill-prime",e.Placeholder="color-background-placeholder",e.OverlayPlaceholder="color-background-overlay-placeholder"}(i||(i={}));var h=s.I4.figure.withConfig({displayName:"ScFigure",componentId:"sc-1hrsqw6-0"})(["align-items:center;display:inline-flex;height:",";width:",";"],(function(e){return e.$size}),(function(e){return e.$size})),p=s.I4.svg.withConfig({displayName:"ScSvg",componentId:"sc-1hrsqw6-1"})(["fill:",";"],(function(e){var t=e.$type;return(0,o.b)(t)})),f=function(e){var t=e.role,n=(0,a.A)(e,m),s=n.fillParent||n.fill;return(0,c.jsx)(h,(0,r.A)({className:"tw-svg",$size:s?"100%":void 0},(0,d.Fh)(n),(0,l.g)(n),{children:(0,c.jsxs)(p,{$type:n.type||i.Inherit,width:s?"100%":(n.width||20)+"px",height:s?"100%":(n.height||20)+"px",version:"1.1",viewBox:"0 0 "+u.w[n.asset].width+" "+u.w[n.asset].height,x:"0px",y:"0px",role:t||n.title&&"img",children:[n.title&&(0,c.jsx)("title",{children:n.title}),u.w[n.asset].path]})}))};f.displayName="SVG"},332832:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"bitsCheermoteCampaign"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteCampaign"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brandImageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brandName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thresholds"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"minimumBits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"matchedPercent"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"minimumBitsAmount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsTotal"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsUsed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsPercentageRemaining"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userLimit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsUsed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canBeSponsored"},arguments:[],directives:[]}]}}]}}]}},986704:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"neoCheermote"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Cheermote"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefix"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"campaign"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"bitsCheermoteCampaign"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tiers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"canShowInBitsCard"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"cheermoteGroup"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteGroup"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"templateURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"neoCheermote"},directives:[]}]}}]}}]},r={};i.definitions=i.definitions.concat(n(332832).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))),e.exports=i},417914:function(e,t,n){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"cheerDisplayConfig"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"CheermoteDisplayConfig"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgrounds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"colors"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"bits"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"order"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scales"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"types"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"animation"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"globalCheerInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Query"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cheerConfig"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayConfig"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"cheerDisplayConfig"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"groups"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"cheermoteGroup"},directives:[]}]}}]}}]}}]},r={};i.definitions=i.definitions.concat(n(986704).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var t=e.name.value;return!r[t]&&(r[t]=!0,!0)}))),e.exports=i},816280:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SyncedSettingsSetEmoteAnimations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetEmoteAnimationsEnabledInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setEmoteAnimationsEnabled"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEmoteAnimationsEnabled"},arguments:[],directives:[]}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},906435:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SyncedSettingsEmoteAnimations"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"chatUISettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEmoteAnimationsEnabled"},arguments:[],directives:[]}]}}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},947779:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"subProductOfferFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Offer"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tplr"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"eligibility"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"benefitsStartAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEligible"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tagBindings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"key"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"giftType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"listing"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"chargeModel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"internal"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"previewPrice"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"currency"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"exponent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"price"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"total"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"plan"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"interval"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unit"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"renewalPolicy"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"promotion"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promoDisplay"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"discountPercent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"discountType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"priority"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"promoType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"quantity"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"min"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"max"},arguments:[],directives:[]}]}}]}}]}},1333:function(e){var t={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WhisperThread"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"whisperThread"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"userLastMessageRead"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"unreadMessagesCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"messages"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"20"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonce"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"content"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emotes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"emoteID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"setID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"to"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"from"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sentAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"editedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deletedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]}]}}]}}]};function n(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&t.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){n(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){n(e,t)})),e.definitions&&e.definitions.forEach((function(e){n(e,t)}))}var i={};t.definitions.forEach((function(e){if(e.name){var t=new Set;n(e,t),i[e.name.value]=t}})),e.exports=t},536315:function(e,t,n){"use strict";n.d(t,{iG:function(){return c},Wz:function(){return i}});var i,r=n(331635),a=n(474848),s=n(246942),o=n.n(s),d=n(296540),l=n(959385);!function(e){e[e.Up=0]="Up",e[e.Down=1]="Down"}(i||(i={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={hasPendingLoadMoreRequest:!1,loadedMore:!0},t.element=null,t.wrapElement=null,t.isTriggerVisible=function(e,t){var n=t.top,i=t.top+t.height;return!(e.bottom<n||e.top>i)},t.getOrientation=function(){return void 0===t.props.orientation?i.Up:t.props.orientation},t.setWrapRef=function(e){return t.wrapElement=e},t.setRef=function(e){return t.element=e},t}return(0,r.__extends)(t,e),t.prototype.render=function(){var e=this.getOrientation(),t=o()({"scrollable-trigger__trigger-area":!0,"scrollable-trigger__trigger-area--up":e===i.Up,"scrollable-trigger__trigger-area--down":e===i.Down}),n={height:this.props.pixelThreshold||100};return(0,a.jsx)("div",{className:"scrollable-trigger__wrapper",ref:this.setWrapRef,children:(0,a.jsx)("div",{className:t,ref:this.setRef,style:n})})},t.prototype.componentDidMount=function(){this.unregister=this.props.registerReceiver(this)},t.prototype.componentWillUnmount=function(){var e;null===(e=this.unregister)||void 0===e||e.call(this)},t.prototype.componentDidUpdate=function(e){return!e.enabled&&this.props.enabled&&this.props.requestVisibilityCheck(this),null},t.prototype.checkVisible=function(e,t,n){return(0,r.__awaiter)(this,void 0,void 0,(function(){var t,i,a,s,o=this;return(0,r.__generator)(this,(function(r){switch(r.label){case 0:if(void 0===n&&(n=this.props.requestCap||5),!(this.wrapElement&&this.element&&(this.state.loadedMore||this.props.forceLoadMoreContent)&&!this.state.hasPendingLoadMoreRequest&&this.props.enabled&&n>0))return[3,4];if(t=this.element.getBoundingClientRect(),i=this.props.contentLength,a=this.wrapElement.offsetTop,!this.isTriggerVisible(t,e))return[3,4];this.setState({hasPendingLoadMoreRequest:!0}),r.label=1;case 1:return r.trys.push([1,3,,4]),[4,this.props.loadMore()];case 2:return r.sent(),this.setState({hasPendingLoadMoreRequest:!1}),requestAnimationFrame((function(){var t;o.element&&(t=void 0!==o.props.contentLength&&void 0!==i?o.props.contentLength>i:o.wrapElement.offsetTop>a,o.setState({loadedMore:t}),n&&(t||o.props.forceLoadMoreContent)&&o.checkVisible(e,void 0,n-1))})),[3,4];case 3:throw s=r.sent(),this.element&&this.setState({hasPendingLoadMoreRequest:!1}),s;case 4:return[2]}}))}))},t}(d.Component),c=(0,l.UJ)((function(e){return{registerReceiver:e.registerReceiver,requestVisibilityCheck:e.requestVisibilityCheck}}))(u)},309759:function(e,t,n){"use strict";n.d(t,{n:function(){return s}});var i=n(331635),r=n(474848),a=(n(296540),n(611407));function s(e){return function(t){return function(n){return(0,a.C)(e(n)),(0,r.jsx)(t,(0,i.__assign)({},n))}}}},798999:function(e,t,n){"use strict";n.d(t,{E:function(){return s},d:function(){return a}});var i=n(474848),r=(n(296540),/^[\x00-\x7F]*$/),a=function(e,t,n){return void 0===n&&(n=!1),t&&e&&!s(t)?n?"".concat(t," (").concat(e,")"):(0,i.jsxs)("span",{children:[t," ",(0,i.jsx)("span",{className:"intl-login",children:"(".concat(e,")")})]}):t||(e||"")};function s(e){return r.test(e)}},702671:function(e,t,n){"use strict";n.d(t,{Ds:function(){return o},VC:function(){return u},a3:function(){return d},n$:function(){return c},wg:function(){return i}});var i,r=n(452088);function a(e,t){switch(e){case"second":return(0,r.hw)("{secondCount, plural, one {# second} other {# seconds}}",{secondCount:t},"formatDuration");case"minute":return(0,r.hw)("{minuteCount, plural, one {# minute} other {# minutes}}",{minuteCount:t},"formatDuration");case"hour":return(0,r.hw)("{hourCount, plural, one {# hour} other {# hours}}",{hourCount:t},"formatDuration");case"day":return(0,r.hw)("{dayCount, plural, one {# day} other {# days}}",{dayCount:t},"formatDuration");case"week":return(0,r.hw)("{weekCount, plural, one {# week} other {# weeks}}",{weekCount:t},"formatDuration");case"month":return(0,r.hw)("{monthCount, plural, one {# month} other {# months}}",{monthCount:t},"formatDuration");default:return""}}function s(e,t){switch(e){case"second":return(0,r.hw)("{secondCount}s",{secondCount:t},"formatDuration");case"minute":return(0,r.hw)("{minuteCount}m",{minuteCount:t},"formatDuration");case"hour":return(0,r.hw)("{hourCount}h",{hourCount:t},"formatDuration");case"day":return(0,r.hw)("{dayCount}d",{dayCount:t},"formatDuration");case"week":return(0,r.hw)("{weekCount}w",{weekCount:t},"formatDuration");case"month":return(0,r.hw)("{monthCount}mo",{monthCount:t},"formatDuration");default:return""}}function o(e,t){void 0===t&&(t="month");var n={};return n.seconds=e,e<60||"second"===t?n:(n.minutes=Math.floor(e/60),n.seconds=e%60,n.minutes<60||"minute"===t?n:(n.hours=Math.floor(n.minutes/60),n.minutes=n.minutes%60,n.hours<24||"hour"===t?n:(n.days=Math.floor(n.hours/24),n.hours=n.hours%24,n.days<7||"day"===t?n:n.days<=26||"week"===t?(n.weeks=Math.floor(n.days/7),n.days=n.days%7,n):(n.months=Math.round((n.days+3)/30),n))))}function d(e,t,n){switch(void 0===t&&(t=i.Humanized),t===i.ClockAuto&&(t=e>=3600?i.ClockHMS:i.ClockMS),t){case i.ClockHM:case i.ClockHMS:n="hour";break;case i.ClockMS:n="minute"}var a=2;t===i.ClockHMS&&(a=3);var s=o(e,n),d=Object.keys(s);if(d.forEach((function(e,n){t!==i.Humanized&&t!==i.HumanizedShort||s[e]||delete s[e],n<d.length-a&&delete s[e]})),t===i.Humanized)return u(s);if(t===i.HumanizedShort)return c(s);var m=":",h=!1;switch(r.x2.intl.getLanguageCode()){case"cy":case"da":case"fi":case"id":case"nb":case"si":m=".";break;case"af":case"fr":case"lt":h=!0}var p=s.seconds||0,f=s.minutes||0,v=s.hours||0;switch(t){case i.ClockHM:case i.ClockHMS:var g=(h?l(v,2):v)+m+l(f,2);return t===i.ClockHMS&&(g+=m+l(p,2)),g;case i.ClockMS:return(h?l(f,2):f)+m+l(p,2)}}function l(e,t){var n=e.toString();return n.length<t?"0".repeat(t-n.length)+n:n}function u(e){return void 0!==e.months?a("month",e.months):void 0!==e.weeks&&void 0!==e.days?"".concat(a("week",e.weeks)," ").concat(a("day",e.days)):void 0!==e.weeks?a("week",e.weeks):void 0!==e.days&&void 0!==e.hours?"".concat(a("day",e.days)," ").concat(a("hour",e.hours)):void 0!==e.days?a("day",e.days):void 0!==e.hours&&void 0!==e.minutes?"".concat(a("hour",e.hours)," ").concat(a("minute",e.minutes)):void 0!==e.hours?a("hour",e.hours):void 0!==e.minutes&&void 0!==e.seconds?"".concat(a("minute",e.minutes)," ").concat(a("second",e.seconds)):void 0!==e.minutes?a("minute",e.minutes):a("second",e.seconds||0)}function c(e){return void 0!==e.months?s("month",e.months):void 0!==e.weeks&&void 0!==e.days?"".concat(s("week",e.weeks)," ").concat(s("day",e.days)):void 0!==e.weeks?s("week",e.weeks):void 0!==e.days&&void 0!==e.hours?"".concat(s("day",e.days)," ").concat(s("hour",e.hours)):void 0!==e.days?s("day",e.days):void 0!==e.hours&&void 0!==e.minutes?"".concat(s("hour",e.hours)," ").concat(s("minute",e.minutes)):void 0!==e.hours?s("hour",e.hours):void 0!==e.minutes&&void 0!==e.seconds?"".concat(s("minute",e.minutes)," ").concat(s("second",e.seconds)):void 0!==e.minutes?s("minute",e.minutes):s("second",e.seconds||0)}!function(e){e[e.Humanized=0]="Humanized",e[e.HumanizedShort=1]="HumanizedShort",e[e.ClockAuto=2]="ClockAuto",e[e.ClockHM=3]="ClockHM",e[e.ClockMS=4]="ClockMS",e[e.ClockHMS=5]="ClockHMS"}(i||(i={}))},380226:function(e,t,n){"use strict";var i;n.d(t,{r:function(){return i}}),function(e){e[e.Gray=1]="Gray",e[e.Purple=100]="Purple",e[e.Green=1e3]="Green",e[e.Blue=5e3]="Blue",e[e.Red=1e4]="Red",e[e.Yellow=1e5]="Yellow"}(i||(i={}))},195824:function(e,t,n){"use strict";n.d(t,{A_:function(){return l},By:function(){return c},C4:function(){return w},D_:function(){return y},Fh:function(){return o},Hk:function(){return x},IU:function(){return u},J_:function(){return f},Jl:function(){return p},Nx:function(){return h},Vp:function(){return s},aN:function(){return k},fB:function(){return v},jW:function(){return d},jq:function(){return g},mj:function(){return S},rQ:function(){return b},sZ:function(){return a},yP:function(){return m}});var i,r=n(380226),a={ERROR_DISPLAY_TIMEOUT:5e3,GET_BALANCE_RATE_LIMIT:5e3,UNDO_PROMPT_DURATION:5e3},s="https://d3aqoihi2n8ty8.cloudfront.net",o="".concat(s,"/cheer"),d="".concat(s,"/actions"),l="".concat(d,"/PREFIX/BACKGROUND/ANIMATION/TIER/SCALE.EXTENSION"),u="bonus",c=1e5,m=25e4,h=500,p=1e3,f="cheer",v=r.r.Purple,g=((i={})[r.r.Gray]="#979797",i[r.r.Purple]="#9c3ee8",i[r.r.Green]="#1db2a5",i[r.r.Blue]="#0099fe",i[r.r.Red]="#f43021",i[r.r.Yellow]="#f3a71a",i),k="AnAnonymousCheerer",b="ananonymouscheerer",y="407665396",S="lapsed_bits_user",w="lapsed_bits_user",x="mpu_portals"},854803:function(e,t,n){"use strict";n.d(t,{Fm:function(){return o},Je:function(){return d},Yj:function(){return c},j7:function(){return u},o7:function(){return l}});var i=n(267924),r=n(195824),a=n(251184),s=/^((?:[A-Za-z0-9]+)(?:[A-Za-z]))([\d]+)$/;function o(e,t,n){void 0===n&&(n=!0);var i=[],r=e.split(/\s+/);return r.forEach((function(e,s){var o=d(e,t,n);if(o)i.push(o);else{var l=i.length&&i[i.length-1],u="";if(s<r.length-1&&(u=" "),l&&l.type===a.X.Text)l.content+=e+u;else{var c="";s&&(c=" "),i.push({type:a.X.Text,content:c+e+u})}}})),i}function d(e,t,n){void 0===n&&(n=!0);var r=e.match(s);if(!r)return null;var o=r[1].toLowerCase(),d=Number(r[2]),l=t.indexedActions[o];if(l&&(l.type!==i.x2$.DISPLAY_ONLY||n)){var u=l.orderedTiers.find((function(e){return e.bits<=d}));!u&&d&&(u=l.orderedTiers[0]);var m=t.tiers.find((function(e){return e.bits===(null==u?void 0:u.bits)}));if(u)return{type:a.X.Emote,content:{images:c(l,u.bits),alt:l.prefix,cheerAmount:d,cheerColor:null==m?void 0:m.color}}}return null}function l(e,t){var n,i,a=(n=t,i=new Map,n.orderedActions.forEach((function(e){e.campaign&&i.set(e.prefix,e.campaign)})),i),s=new Map;e.forEach((function(e,t){if(e.alt&&a.has(e.alt))if(s.has(e.alt)){(n=s.get(e.alt))&&(n.total+=e.cheerAmount||0,n.lastAppearance=t)}else{var n={total:e.cheerAmount||0,lastAppearance:t,campaign:a.get(e.alt)};s.set(e.alt,n)}}));var o=1;return s.forEach((function(n){var i=0;n.campaign.thresholds.forEach((function(e){n.total>=e.minimumBits&&(i=e.matchedPercent)}));var a=Math.trunc(n.total*i);if(a>0){var s=d(r.IU+a,t,!0);s&&e.splice(n.lastAppearance+o++,0,s.content)}})),e}function u(e,t){return o(e,t,!0).reduce((function(e,t){return t.type===a.X.Emote&&e.push(t.content),e}),[]).some((function(e){var n=t.orderedActions.find((function(t){return!!e.alt&&e.alt===t.prefix}));return!!n&&n.type===i.x2$.DISPLAY_ONLY}))}function c(e,t,n,i){var r,a;void 0===i&&(i=!0);var s=i?"animated":"static";return n?{themed:!0,dark:(r={},r["".concat(n,"x")]=e.getImage("dark",s,t,n),r),light:(a={},a["".concat(n,"x")]=e.getImage("light",s,t,n),a)}:{themed:!0,dark:{"1x":e.getImage("dark",s,t,1),"1.5x":e.getImage("dark",s,t,1.5),"2x":e.getImage("dark",s,t,2),"3x":e.getImage("dark",s,t,3),"4x":e.getImage("dark",s,t,4)},light:{"1x":e.getImage("light",s,t,1),"1.5x":e.getImage("light",s,t,1.5),"2x":e.getImage("light",s,t,2),"3x":e.getImage("light",s,t,3),"4x":e.getImage("light",s,t,4)}}}},306445:function(e,t,n){"use strict";n.d(t,{Vt:function(){return p},mr:function(){return u},vs:function(){return c}});var i,r=n(267924),a=n(380226),s=n(195824),o=n(198365),d={Cheer:r.x2$.FIRST_PARTY,Kappa:r.x2$.FIRST_PARTY,Kreygasm:r.x2$.FIRST_PARTY,Muxy:r.x2$.THIRD_PARTY,Showlove:r.x2$.FIRST_PARTY,Streamlabs:r.x2$.THIRD_PARTY,SwiftRage:r.x2$.FIRST_PARTY,Uni:r.x2$.FIRST_PARTY,VoHiYo:r.x2$.FIRST_PARTY},l=[a.r.Red,a.r.Blue,a.r.Green,a.r.Purple,a.r.Gray],u={indexedActions:{},orderedActions:[],tiers:[],getImage:m};function c(){if(!i){var e=h("Cheer",r.x2$.DEFAULT);i={indexedActions:{cheer:e},orderedActions:[e],tiers:l.map((function(e){return{bits:e,color:s.jq[e]}})),getImage:m}}return i}function m(e,t,n,i,r){var a="animated"===n?"gif":"png";return(0,o.LZ)(s.A_,{prefix:e,background:t,animation:n,tier:i,scale:r,extension:a})}function h(e,t){var n=l.map((function(t){return{__typename:"CheermoteTier",bits:t,canShowInBitsCard:!0,id:"".concat(e,";").concat(t)}}));return{__typename:"Cheermote",campaign:null,id:e,prefix:e,type:t,tiers:n,orderedTiers:n,getImage:m.bind(void 0,e)}}function p(e){return h(e,d[e])}},198365:function(e,t,n){"use strict";n.d(t,{LZ:function(){return s},Vg:function(){return a},in:function(){return o}});var i=n(331635),r=n(579025);function a(e,t){var n={};function a(t,i,r,a,o){if(t=t.toLowerCase(),!n[t])return"";var d=n[t].template,l=e.types.find((function(e){return e.animation===r}));return l?s(d,{prefix:t,background:i,animation:r,tier:a,scale:o,extension:l.extension}):""}for(var o=e.order.reduce((function(e,t,n){return e[t]=n,e}),{}),d=new r.r((function(e,t){var n=o[e.type]-o[t.type];return 0!==n?n:e.tierBreakerOrder-t.tierBreakerOrder})),l=0,u=0,c=t;u<c.length;u++)for(var m=c[u],h=0,p=m.nodes;h<p.length;h++){var f=p[h],v=(0,i.__assign)((0,i.__assign)({},f),{orderedTiers:f.tiers.slice().sort((function(e,t){return t.bits-e.bits})),template:m.templateURL,getImage:a.bind(void 0,f.prefix),tierBreakerOrder:l});n[f.prefix.toLowerCase()]=v,d.push(v),l++}return{indexedActions:n,orderedActions:d.top(d.size()),tiers:e.colors.slice().sort((function(e,t){return t.bits-e.bits})),getImage:a}}function s(e,t){return e.replace("PREFIX",t.prefix.toLowerCase()).replace("BACKGROUND",t.background).replace("ANIMATION",t.animation).replace("TIER",t.tier.toString()).replace("SCALE",t.scale.toString()).replace("EXTENSION",t.extension)}function o(e,t){return{id:"".concat(t,"-").concat(e.entry_key),score:e.score,rank:e.rank,user:{__typename:"User",id:e.entry_key,login:"",displayName:""},__typename:"UserLeaderboardItem"}}},913262:function(e,t,n){"use strict";n.d(t,{AG:function(){return l},Bc:function(){return c},JR:function(){return o},MS:function(){return d},Wk:function(){return m},XP:function(){return u},dr:function(){return s}});var i=n(452088),r=n(337930),a=n(219729),s=function(){return(0,i.hw)("OFF","ChatSettings")},o=function(){return(0,i.hw)("Emotes-Only Chat","ChatSettings")},d=function(){return(0,i.hw)("Followers-Only Chat","ChatSettings")},l=function(){return(0,i.hw)("Subscribers-Only Chat","ChatSettings")},u=function(){return(0,i.hw)("Slow Mode","ChatSettings")},c=function(){return(0,i.hw)("Verified-Only Chat","ChatSettings")},m=function(){return(0,r.fX)(a.X)?(0,i.hw)("New Chatter Introduction","ChatSettings"):(0,i.hw)("Allow New Chatter Introductions","ChatSettings")}},651342:function(e,t,n){"use strict";n.d(t,{Ov:function(){return w},lv:function(){return N},nK:function(){return C},se:function(){return A}});var i=n(331635),r=n(474848),a=n(973421),s=n.n(a),o=n(296540),d=n(415044),l=n(868238),u=n(452088),c=n(928778),m=n(309759),h=n(982821),p=n(503472),f=n(456450),v=n(131883),g=n(397568),k=n(816280),b=n.n(k),y=n(906435),S=n.n(y),w="emoteAnimationsEnabled",x=(0,g.q)("EmoteAnimationsSettingContext",{setValue:function(){return null},value:!0}),C=x.context,N=x.withContext,_=function(e){function t(t){var n=e.call(this,t)||this;return n.setValue=function(e){if(n.setState({localOverride:e}),u.IG.set(w,e),n.props.isLoggedIn){var t=(0,i.__assign)((0,i.__assign)({},(0,p.AR)({isEmoteAnimationsEnabled:e})),{optimisticResponse:{setEmoteAnimationsEnabled:{__typename:"SetEmoteAnimationsEnabledPayload",isEmoteAnimationsEnabled:e}},update:function(t){var n;try{n=t.readQuery({query:S()})}catch(e){return}if(n&&n.currentUser&&n.currentUser.chatUISettings){var i=s()(n,(function(e){return e.currentUser.chatUISettings.isEmoteAnimationsEnabled}),(function(){return e}));t.writeQuery({query:S(),data:i})}}});n.props.setEmoteAnimations(t)}},n.state={},n}return(0,i.__extends)(t,e),t.prototype.render=function(){return(0,r.jsx)(C.Provider,{value:{setValue:this.setValue,value:this.value},children:this.props.children})},t.prototype.componentDidUpdate=function(e){var t,n,i;if(this.hasData(this.props)&&!this.hasData(e)){var r=null===(i=null===(n=null===(t=this.props.data)||void 0===t?void 0:t.currentUser)||void 0===n?void 0:n.chatUISettings)||void 0===i?void 0:i.isEmoteAnimationsEnabled;null!=r?u.IG.set(w,r):this.setValue(this.value)}},t.prototype.hasData=function(e){return e.data&&!e.data.error&&!e.data.loading&&e.data.currentUser&&e.data.currentUser.chatUISettings},Object.defineProperty(t.prototype,"value",{get:function(){var e,t,n;if(void 0!==this.state.localOverride)return this.state.localOverride;var i=null===(n=null===(t=null===(e=this.props.data)||void 0===e?void 0:e.currentUser)||void 0===t?void 0:t.chatUISettings)||void 0===n?void 0:n.isEmoteAnimationsEnabled;return null!=i?i:u.IG.get(w,!0)},enumerable:!1,configurable:!0}),t}(o.Component);var A=(0,l.Zz)((0,d.Ng)((function(e){return{isLoggedIn:(0,v.M3)(e)}})),(0,c._v)(S(),{skip:function(e){return!e.isLoggedIn}}),(0,m.n)((function(e){var t,n;return{query:S(),topic:(0,f.ew)((null===(n=null===(t=e.data)||void 0===t?void 0:t.currentUser)||void 0===n?void 0:n.id)||""),skip:!e.data||e.data.loading||!e.isLoggedIn,skipMessage:function(e){return e.type!==h.PD.UserPreferencesEmoteAnimations},type:h.PD.UserPreferencesEmoteAnimations,mutator:function(e,t){return t=s()(t,(function(e){return e.currentUser.chatUISettings.isEmoteAnimationsEnabled}),(function(){return e.new_value}))}}})),(0,c._v)(b(),{name:"setEmoteAnimations"}))(_)},917602:function(e,t,n){"use strict";n.d(t,{F:function(){return u}});var i=n(331635),r=n(474848),a=n(296540),s=n(415044),o=n(963423),d=n(691177),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(t,e),t.prototype.render=function(){var e=this.props,t=(e.defaultRes,e.sources),n=(e.darkModeEnabled,(0,i.__rest)(e,["defaultRes","sources","darkModeEnabled"])),a=this.props.darkModeEnabled?t.dark:t.light,s=Object.keys(a);delete n.dispatch;var o=(0,i.__assign)((0,i.__assign)({},n),{src:a[this.props.defaultRes||s[0]],srcSet:s.map((function(e){return"".concat(a[e]," ").concat(e)})).join(",")});return(0,r.jsx)("img",(0,i.__assign)({},o,{onLoad:this.props.onLoad}))},t}(a.Component);var u=(0,s.Ng)((function(e){return{darkModeEnabled:(0,d.iR)(e)===o.S.Dark}}))(l)},971485:function(e,t,n){"use strict";var i,r,a,s;n.d(t,{IF:function(){return r},ON:function(){return o},RB:function(){return a},ZW:function(){return i},sq:function(){return s}}),function(e){e[e.Message=0]="Message",e[e.ExtensionMessage=1]="ExtensionMessage",e[e.Moderation=2]="Moderation",e[e.ModerationAction=3]="ModerationAction",e[e.TargetedModerationAction=4]="TargetedModerationAction",e[e.AutoMod=5]="AutoMod",e[e.SubscriberOnlyMode=6]="SubscriberOnlyMode",e[e.FollowerOnlyMode=7]="FollowerOnlyMode",e[e.SlowMode=8]="SlowMode",e[e.EmoteOnlyMode=9]="EmoteOnlyMode",e[e.R9KMode=10]="R9KMode",e[e.Connected=11]="Connected",e[e.Disconnected=12]="Disconnected",e[e.Reconnect=13]="Reconnect",e[e.Subscription=14]="Subscription",e[e.Resubscription=15]="Resubscription",e[e.GiftPaidUpgrade=16]="GiftPaidUpgrade",e[e.AnonGiftPaidUpgrade=17]="AnonGiftPaidUpgrade",e[e.PrimePaidUpgrade=18]="PrimePaidUpgrade",e[e.PrimeCommunityGiftReceivedEvent=19]="PrimeCommunityGiftReceivedEvent",e[e.ExtendSubscription=20]="ExtendSubscription",e[e.SubGift=21]="SubGift",e[e.AnonSubGift=22]="AnonSubGift",e[e.Clear=23]="Clear",e[e.RoomMods=24]="RoomMods",e[e.RoomState=25]="RoomState",e[e.Raid=26]="Raid",e[e.Unraid=27]="Unraid",e[e.Notice=28]="Notice",e[e.Info=29]="Info",e[e.BadgesUpdated=30]="BadgesUpdated",e[e.Purchase=31]="Purchase",e[e.BitsCharity=32]="BitsCharity",e[e.CrateGift=33]="CrateGift",e[e.RewardGift=34]="RewardGift",e[e.SubMysteryGift=35]="SubMysteryGift",e[e.AnonSubMysteryGift=36]="AnonSubMysteryGift",e[e.StandardPayForward=37]="StandardPayForward",e[e.CommunityPayForward=38]="CommunityPayForward",e[e.FirstCheerMessage=39]="FirstCheerMessage",e[e.FirstMessageHighlight=40]="FirstMessageHighlight",e[e.BitsBadgeTierMessage=41]="BitsBadgeTierMessage",e[e.InlinePrivateCallout=42]="InlinePrivateCallout",e[e.ChannelPointsReward=43]="ChannelPointsReward",e[e.CommunityChallengeContribution=44]="CommunityChallengeContribution",e[e.LiveMessageSeparator=45]="LiveMessageSeparator",e[e.RestrictedLowTrustUserMessage=46]="RestrictedLowTrustUserMessage",e[e.CommunityIntroduction=47]="CommunityIntroduction",e[e.Shoutout=48]="Shoutout",e[e.AnnouncementMessage=49]="AnnouncementMessage",e[e.CharityDonation=50]="CharityDonation",e[e.MessageIdUpdate=51]="MessageIdUpdate",e[e.ViewerMilestone=52]="ViewerMilestone",e[e.GigantifiedEmote=53]="GigantifiedEmote",e[e.OneTapBreakpointAchieved=54]="OneTapBreakpointAchieved",e[e.OneTapStreakExpired=55]="OneTapStreakExpired"}(i||(i={})),function(e){e[e.Post=0]="Post",e[e.Action=1]="Action"}(r||(r={})),function(e){e[e.Ban=0]="Ban",e[e.Timeout=1]="Timeout",e[e.Delete=2]="Delete"}(a||(a={})),function(e){e[e.MessageRejectedPrompt=0]="MessageRejectedPrompt",e[e.CheerMessageRejectedPrompt=1]="CheerMessageRejectedPrompt",e[e.MessageRejected=2]="MessageRejected",e[e.MessageAllowed=3]="MessageAllowed",e[e.MessageDenied=4]="MessageDenied",e[e.CheerMessageDenied=5]="CheerMessageDenied",e[e.CheerMessageTimeout=6]="CheerMessageTimeout",e[e.MessageModApproved=7]="MessageModApproved",e[e.MessageModDenied=8]="MessageModDenied"}(s||(s={}));var o=new Set(["usage_clear","usage_commercial","usage_raid","usage_unraid","usage_slow_on","usage_slow_off","usage_followers_on","usage_followers_off","usage_emote_only_on","usage_emote_only_off","usage_subs_on","usage_subs_off","usage_r9k_on","usage_r9k_off","unrecognized_cmd"])},251184:function(e,t,n){"use strict";var i;n.d(t,{X:function(){return i}}),function(e){e[e.Text=0]="Text",e[e.ModeratedText=1]="ModeratedText",e[e.FlaggedSegment=2]="FlaggedSegment",e[e.CurrentUserHighlight=3]="CurrentUserHighlight",e[e.Mention=4]="Mention",e[e.Link=5]="Link",e[e.Emote=6]="Emote",e[e.ClipLink=7]="ClipLink",e[e.VideoLink=8]="VideoLink"}(i||(i={}))},219729:function(e,t,n){"use strict";n.d(t,{X:function(){return i}});var i="community-intros-15"},686751:function(e,t,n){"use strict";var i;n.d(t,{G:function(){return i}}),function(e){e[e.SMALL=0]="SMALL",e[e.MEDIUM=1]="MEDIUM",e[e.LARGE=2]="LARGE"}(i||(i={}))},551453:function(e,t,n){"use strict";n.d(t,{m:function(){return s},q:function(){return a}});var i=n(963423),r=n(686751);function a(e,t,n,r){void 0===n&&(n=!0),void 0===r&&(r=i.S.Light);var a=n?"default":"static",s=r===i.S.Light?"light":"dark";return"https://static-cdn.jtvnw.net/emoticons/v2/".concat(e,"/").concat(a,"/").concat(s,"/").concat(t,".0")}function s(e,t,n){void 0===n&&(n=!0);var s={dark:{},light:{},themed:!0};switch(t){case r.G.LARGE:s.dark={"1x":a(e,3,n,i.S.Dark)},s.light={"1x":a(e,3,n,i.S.Light)};break;case r.G.MEDIUM:s.dark={"1x":a(e,2,n,i.S.Dark),"2x":a(e,3,n,i.S.Dark)},s.light={"1x":a(e,2,n,i.S.Light),"2x":a(e,3,n,i.S.Light)};break;default:s.dark={"1x":a(e,1,n,i.S.Dark),"2x":a(e,2,n,i.S.Dark),"4x":a(e,3,n,i.S.Dark)},s.light={"1x":a(e,1,n,i.S.Light),"2x":a(e,2,n,i.S.Light),"4x":a(e,3,n,i.S.Light)}}return s}},302618:function(e,t,n){"use strict";n.d(t,{Yr:function(){return u},mk:function(){return c}});var i=n(331635),r=n(474848),a=n(959340),s=n(914421),o=n(296540),d=n(995566),l=n(403672),u="separator",c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(t,e),t.prototype.render=function(){var e=this.props.message;switch(e.type){case d.v.Timestamp:return(0,r.jsx)(a.P,{className:"thread-message__timestamp",color:s.Q1.Alt2,fontSize:s.Z4.Size7,children:(0,l.CF)(e)});case d.v.Warning:return(0,r.jsx)(a.P,{className:"thread-message__warning",color:s.Q1.Alt2,children:(0,l.km)()});case d.v.InactiveUserNotice:return(0,r.jsx)(a.P,{className:"thread-message__inactive-user",color:s.Q1.Alt2,children:(0,l.qv)()});case d.v.Whisper:return this.props.reportOutgoingWhisperRendered&&this.props.reportOutgoingWhisperRendered(e.content),(0,r.jsx)(a.P,{className:"thread-message__message","data-a-target":"whisper-message","data-test-selector":"whisper-message",children:(0,l._C)(e,this.props.onUserClick)});case d.v.NewMessages:return(0,r.jsx)(a.P,{className:"thread-message__new-messages",color:s.Q1.Alt,fontSize:s.Z4.Size7,children:(0,l.C7)()});case d.v.Notification:return(0,r.jsx)(a.P,{className:"thread-message__notification",children:(0,l.M2)(e)});default:return null}},t}(o.Component)},403672:function(e,t,n){"use strict";n.d(t,{C7:function(){return x},CF:function(){return S},M2:function(){return w},_C:function(){return k},aR:function(){return g},km:function(){return b},qv:function(){return y}});var i=n(331635),r=n(474848),a=n(216042),s=n(312663),o=n(588702),d=n(914421),l=n(70931),u=n(959340),c=(n(296540),n(452088)),m=n(664851),h=n(688499),p=n(364607),f=n(465824),v=n(302618);function g(e,t,n){return void 0===n&&(n={}),(0,p.Qi)((0,m.bY)(e,{emotes:{type:h.fr.Position,map:C(t)},links:{}}),n,!0)}var k=function(e,t){var n,m,h;if(e.deletedAt)return null;var p="/me "===e.content.substr(0,4);p&&(e.content=e.content.substr(4),e.emotes=e.emotes.map((function(e){return e&&e.from&&e.to?(0,i.__assign)((0,i.__assign)({},e),{from:e.from-4,to:e.to-4}):null})));var k=[(0,r.jsx)("span",{"data-test-selector":v.Yr,children:p?" ":": "},"str-separator")],b={messageAuthorID:e.from&&e.from.id||"",messageSourceID:e.id,emoteSourceType:f.bh.whisper};if(k.push.apply(k,g(e.content,e.emotes,b)),e.editedAt){var y=(0,c.hw)("edited","ThreadMessage"),S=(0,c.hw)("{timestamp, date, full} {timestamp, time, long}",{timestamp:new Date(e.editedAt)},"ThreadMessage");k.push((0,r.jsx)(a.S,{margin:{left:1},children:(0,r.jsx)(s.N,{type:o.M2.Span,className:"thread-message__message--edited",title:S,color:d.Q1.Alt2,children:"(".concat(y,")")})},"editedAt"))}var w=e.from&&e.from.chatColor||"",x=(0,c.hw)("Unknown","ThreadMessage"),C=e.from&&e.from.displayName||(0,r.jsx)(s.N,{type:o.M2.Span,italic:!0,children:x}),N=p?w:"",_=(null===(n=e.from)||void 0===n?void 0:n.login)&&t?(0,r.jsx)("span",{style:{color:w},children:(0,r.jsx)(l.Cb,{className:"thread-message__message--user-name","data-a-target":"whisper-message-name",variant:l.KD.Inherit,onClick:function(){var n;(null===(n=e.from)||void 0===n?void 0:n.login)&&(null==t||t(e.from.login))},"aria-label":(null===(m=e.from)||void 0===m?void 0:m.displayName)||x,hoverUnderlineNone:!0,hoverColorInherit:!0,underline:!1,children:C})}):(0,r.jsx)("span",{className:"thread-message__message--user-name","data-a-target":"whisper-message-name","aria-label":(null===(h=e.from)||void 0===h?void 0:h.displayName)||x,style:{color:w},children:C});return(0,r.jsxs)(u.P,{padding:{x:1,y:.5},children:[_,(0,r.jsx)("span",{style:{color:N},children:k})]})},b=function(){return(0,r.jsx)(u.P,{padding:{y:.5,x:1},children:(0,c.hw)("Please don't share passwords or personal information.","whispers")})},y=function(){return(0,r.jsx)(u.P,{padding:{y:.5,x:1},children:(0,c.hw)("This account is no longer active.","whispers")})},S=function(e){var t=new Date,n=new Date;n.setDate(n.getDate()-7);var a="",s={hour:"numeric",minute:"numeric",second:"numeric"},o=(0,i.__assign)((0,i.__assign)({},s),{year:"numeric",month:"numeric",day:"numeric"});a=e.timestamp.toDateString()===t.toDateString()?(0,c.hw)("Today, {timestamp, time, medium}",{timestamp:e.timestamp},"ThreadMessage"):e.timestamp<n?(0,c.fU)(e.timestamp,o):(0,c.fU)(e.timestamp,(0,i.__assign)((0,i.__assign)({},s),{weekday:"long"}));var l=(0,c.fU)(e.timestamp,(0,i.__assign)((0,i.__assign)({},o),{timeZoneName:"short"}));return(0,r.jsx)(u.P,{padding:{y:1},textAlign:d.nO.Center,children:(0,r.jsx)("span",{title:l,children:"".concat(a)})})},w=function(e){return(0,r.jsx)(u.P,{padding:{y:.5,x:1},children:(0,r.jsx)(s.N,{type:o.M2.Span,color:d.Q1.Alt2,children:e.content})})},x=function(){return(0,r.jsx)(u.P,{textAlign:d.nO.Center,padding:{y:.5},children:(0,c.hw)("New Whispers","whispers")})};function C(e){var t={};return e.forEach((function(e){e&&null!==e.from&&e.emoteID&&(t[e.from]={startIndex:e.from,endIndex:e.to,id:e.emoteID})})),t}},432983:function(e,t,n){"use strict";n.r(t),n.d(t,{Whispers:function(){return ge}});n(81830);var i,r=n(415044),a=n(691177),s=n(855078),o=n(434285),d=n(331635),l=n(474848),u=n(360791),c=n(79004),m=n(668460),h=n(959340),p=n(914421),f=n(73703),v=n(296540),g=n(868238),k=n(452088),b=n(191132),y=n(928778),S=n(309759),w=n(982821),x=n(503472),C=n(456450),N=n(216042),_=n(97774),A=n(632606),D=n(552400),I=n(216378),F=n(486489),M=n(312663),T=n(36935),R=n(48935),j=n(324602),E=n(953838),U=n(267751),P=n(959385),z=n(536315),L=n(784351),B=n(651342),W=n(82984),O=n(463493),V=n(884637),H=n(573264),$=n(368972),G=n(988224),Y=n(849141),q=n.n(Y);!function(e){e.DoNotDisturb="threads-box-settings__do-not-disturb",e.MarkAllAsRead="threads-box-settings__mark-all-as-read"}(i||(i={}));var Q=function(e){function t(t){var n=e.call(this,t)||this;return n.markAllWhispersAsRead=function(){var e=(0,x.AR)({markAllAsRead:!0});n.props.markAllWhispersAsRead&&((0,G._k)(),n.props.markAllWhispersAsRead(e)),n.props.onMarkAllMessagesRead&&n.props.onMarkAllMessagesRead()},n.toggleDoNotDisturb=function(){n.state.doNotDisturb?(k.VS.set("whisperDoNotDisturb",!1),(0,G.TF)(),n.setState({doNotDisturb:!1})):(k.VS.set("whisperDoNotDisturb",!0),(0,G.AK)(),n.setState({doNotDisturb:!0}))},n.state={doNotDisturb:k.VS.get("whisperDoNotDisturb",!1)},n}return(0,d.__extends)(t,e),t.prototype.render=function(){var e=this.state.doNotDisturb?(0,k.hw)("Disable Do Not Disturb","ThreadsBoxSettings"):(0,k.hw)("Enable Do Not Disturb","ThreadsBoxSettings"),t=(0,k.hw)("Mark All Whispers as Read","ThreadsBoxSettings");return(0,l.jsx)(h.P,{className:"threads-box-settings","data-thread-box":!0,children:(0,l.jsxs)(H.A,{children:[(0,l.jsx)($.i,{onClick:this.toggleDoNotDisturb,"aria-label":e,"data-test-selector":i.DoNotDisturb,children:(0,l.jsx)(M.N,{fontSize:p.Z4.Size5,children:e})}),(0,l.jsx)($.i,{onClick:this.markAllWhispersAsRead,"aria-label":t,"data-test-selector":i.MarkAllAsRead,children:(0,l.jsx)(M.N,{fontSize:p.Z4.Size5,children:t})})]})})},t}(v.Component),Z=(0,g.Zz)((0,y._v)(q(),{name:"markAllWhispersAsRead"}))(Q),X=n(251827),K=n(92495),J=n(649815),ee=n.n(J),te=n(514653),ne=function(e){function t(t){var n=e.call(this,t)||this;return n.saveButtonRef=function(e){return n.popoverButton=e},n.onMarkAllMessagesRead=function(){var e;null===(e=n.settingsMenu)||void 0===e||e.toggleBalloon(!1)},n.saveSettingsMenuRef=function(e){return n.settingsMenu=e},n.saveSettingsIconRef=function(e){return n.setState({settingsIconRef:e})},n.handleConversationsClick=function(){n.state.open||(n.props.latencyTracking.resetCustomEvents("Whispers"),n.whispersHistoryLatencyEvent=n.props.latencyTracking.registerCustomEvent({benchmark:200,group:"Whispers",key:"whispers-history",label:"History",start:"registration"})),n.setState((function(e){return{open:!e.open}}))},n.selectThread=function(e){n.handleClose(),n.clearSearchText(),n.props.selectThread(e)},n.handleClose=function(e){e&&e.target&&e.target.closest("[data-thread-box]")||n.setState((function(e){return e.open?{open:!1}:null}))},n.clearSearchText=function(){n.setState({searchText:"",searching:!1})},n.onSearchInputChange=function(e){return(0,d.__awaiter)(n,void 0,void 0,(function(){var t,n=this;return(0,d.__generator)(this,(function(i){return t=e.currentTarget.value,clearTimeout(this.inputTimeout),t&&0!==t.length?(this.setState({searchText:t,searching:!0}),this.inputTimeout=setTimeout((function(){n.search(n.state.searchText)}),200),[2]):(this.inputTimeout=0,this.clearSearchText(),[2])}))}))},n.handleUserSearchResultClick=function(e,t){return function(){var i=e.id;if(null!==n.props.currentUserID&&i!==n.props.currentUserID){n.handleClose(),n.clearSearchText();var r=(0,te.B)(n.props.currentUserID,i);(0,G._U)({threadID:r,targetUserlogin:e.login,searchResultRank:t}),(0,G.rZ)({searchResultRank:t,searchQuery:n.state.searchText,isConversation:!1}),n.props.selectThread(r)}}},n.filterExistingThreads=function(e){var t,i=e.toLowerCase(),r=null===(t=n.state.searchResults)||void 0===t?void 0:t.map((function(e){return e.id}));return n.props.orderedThreadIDs.filter((function(e){var t=(0,X.w)(n.props.threadsByID[e].participants,n.props.currentUserID);return!(!t||!t.displayName)&&(t.displayName.toLowerCase().indexOf(i)>=0||(null==r?void 0:r.includes(t.id)))}))},n.getWhispers=function(){return(0,k.hw)("Whispers","WhisperThreadsBoxLabel")},n.state={open:!1,searchText:"",searching:!1,settingsIconRef:null},n}return(0,d.__extends)(t,e),t.prototype.render=function(){return(0,l.jsxs)(l.Fragment,{children:[this.renderButton(),(0,l.jsx)(N.S,{className:"whispers-threads-box__container",display:p.nl.Flex,flexDirection:p.bo.Column,flexWrap:p.I4.NoWrap,background:p.VS.Base,"data-click-out-id":"threads-box","data-a-target":"threads-box-".concat(this.state.open?"open":"closed"),borderRadius:{topLeft:_.Z.Medium,topRight:_.Z.Medium},children:(0,l.jsx)(h.P,{position:p.yX.Relative,"aria-label":this.getWhispers(),role:"button",children:(0,l.jsxs)(A.A,{show:!!this.state.open,popoverId:"threads-box",onRequestClose:this.handleClose,anchorRef:this.popoverButton,children:[this.renderHeader(),this.renderSearch(),this.renderList()]})})})]})},t.prototype.renderButton=function(){return(0,l.jsxs)(h.P,{position:p.yX.Relative,display:p.nl.Flex,alignItems:p.k2.Center,justifyContent:p.A9.Center,children:[(0,l.jsx)(D.m,{label:this.getWhispers(),disabled:!!this.state.open,children:(0,l.jsx)(c.a2,{"aria-label":(0,k.hw)("Close Threads","WhisperThreadsBox"),"data-a-target":"whisper-box-button",icon:m._,onClick:this.handleConversationsClick,ref:this.saveButtonRef})}),this.renderUnreadCount()]})},t.prototype.renderUnreadCount=function(){var e=this;return this.props.unreadCount>0?(0,l.jsx)(h.P,{className:"whispers__pill",position:p.yX.Absolute,fontSize:p.Z4.Size7,attachTop:!0,attachRight:!0,children:(0,l.jsx)(I.h,{value:this.props.unreadCount,formatValue:function(t){return t>99?"99+":e.props.unreadCount.toString()}})}):null},t.prototype.renderList=function(){var e,t=this;if(!this.state.open)return null;var n=null;""!==this.state.searchText&&(n=(0,l.jsx)(h.P,{borderBottom:!0,padding:{x:1,y:.5},children:(0,K.Ib)()},"otherPeopleDivider"));var i=null;if(this.state.searching)i=(0,l.jsx)(h.P,{display:p.nl.Flex,flexDirection:p.bo.Column,margin:{top:4},alignItems:p.k2.Center,children:(0,l.jsx)(F.k,{delay:0})});else if(this.state.searchResults&&""!==this.state.searchText)if(this.state.searchResults.length>0){var r=this.props.orderedThreadIDs.map((function(e){var n=t.props.threadsByID[e],i=(0,X.w)(n.participants,t.props.currentUserID);if(i)return i.id})).filter((function(e){return e}));i=this.state.searchResults.filter((function(e){return e.id!==t.props.currentUserID&&!r.includes(e.id)})).map((function(e,n){return(0,l.jsx)(V.W,{user:e,selectResult:t.handleUserSearchResultClick(e,n)},"searchResult:".concat(e.id))}))}else i=(0,l.jsx)(h.P,{display:p.nl.Flex,flexDirection:p.bo.Column,margin:{top:4},alignItems:p.k2.Center,children:(0,l.jsx)(M.N,{color:p.Q1.Alt2,children:(0,K.kT)()})});if(this.props.error)e=(0,l.jsx)(h.P,{margin:{x:"auto"},display:p.nl.Flex,justifyContent:p.A9.Center,alignItems:p.k2.Center,fullHeight:!0,children:(0,l.jsx)(M.N,{color:p.Q1.Error,children:(0,K.up)()})});else if(this.props.loading)e=(0,l.jsx)(F.k,{});else{var a=this.props.orderedThreadIDs;""!==this.state.searchText&&(a=this.filterExistingThreads(this.state.searchText)),e=a.filter((function(e){return t.props.threadsByID[e]&&!t.props.threadsByID[e].archived})).map((function(e,n){var i=0===n?function(){t.props.latencyTracking.reportCustomEvent(t.whispersHistoryLatencyEvent)}:void 0,r=t.props.threadsByID[e],a=(0,X.w)(r.participants,t.props.currentUserID);return a?(0,l.jsx)(O.a,{user:a,threadID:r.id,lastMessage:r.lastMessage,archiveThread:t.props.archiveThread,selectThread:t.selectThread,unreadMessageCount:r.unreadMessagesCount,muted:r.muted,avatarOnLoadCallback:i},"whisperThread:".concat(r.id)):null}))}return(0,l.jsx)(B.se,{children:(0,l.jsx)(h.P,{className:"whispers-threads-box__scrollable-area",children:(0,l.jsx)(P.Vq,{suppressScrollX:!0,children:(0,l.jsxs)(h.P,{role:"list",display:p.nl.Flex,flexDirection:p.bo.Column,fullWidth:!0,children:[e,n,i,(0,l.jsx)(z.iG,{enabled:this.state.open,loadMore:this.props.loadMore,pixelThreshold:200})]})})})})},t.prototype.renderHeader=function(){return(0,l.jsxs)(h.P,{className:"whispers-threads-box__header","data-a-target":"whispers-threads-box__header",alignItems:p.k2.Center,borderBottom:!0,color:p.Q1.Base,display:this.state.open?p.nl.Flex:p.nl.Hide,flexDirection:p.bo.Row,flexGrow:0,flexShrink:0,fontSize:p.Z4.Size5,padding:{y:.5,x:1},"data-click-hide-id":"threads-box-header",children:[(0,l.jsx)(h.P,{flexGrow:1,display:p.nl.Flex,justifyContent:p.A9.Center,margin:{left:5},children:(0,l.jsx)(T.hE,{size:T.uM.ExtraSmall,children:(0,k.hw)("Whispers","WhisperThreadsBox")})}),(0,l.jsxs)(L.U,{ref:this.saveSettingsMenuRef,children:[(0,l.jsx)(c.a2,{"aria-label":(0,k.hw)("Settings","WhisperThreadsBox"),icon:R.f,"data-a-target":"whisper-settings-button",ref:this.saveSettingsIconRef}),(0,l.jsx)(j.fK,{size:j.$V.Small,children:(0,l.jsx)(Z,{onMarkAllMessagesRead:this.onMarkAllMessagesRead})})]}),(0,l.jsx)(h.P,{margin:{left:.5},children:(0,l.jsx)(c.a2,{"aria-label":(0,k.hw)("Close","WhisperThreadsBox"),icon:E.g,onClick:this.handleClose,"data-a-target":"whisper-close-button"})})]})},t.prototype.renderSearch=function(){return this.state.open?(0,l.jsx)(h.P,{display:p.nl.Flex,flexGrow:0,flexShrink:0,alignItems:p.k2.Center,borderBottom:!0,background:p.VS.Alt,children:(0,l.jsx)(h.P,{flexGrow:1,padding:{x:1,y:.5},children:(0,l.jsx)(U.D,{onChange:this.onSearchInputChange,value:this.state.searchText,placeholder:(0,K.f9)(),id:"threads-box-filter",autoFocus:!0,"data-a-target":"whisper-search-input"})})}):null},t.prototype.search=function(e){return(0,d.__awaiter)(this,void 0,void 0,(function(){var t,n,i,r,a;return(0,d.__generator)(this,(function(s){switch(s.label){case 0:return e?[4,k.x2.apollo.client.query({query:ee(),variables:{userQuery:e}})]:[2];case 1:return(t=s.sent()).error||t.errors?k.E5.trackAvailability({name:"Whispers_ThreadsBox",feature:"Whispers",category:"community",is_available:!1,reason:(null===(r=t.error)||void 0===r?void 0:r.message)||"error from GQL"}):k.E5.trackAvailability({name:"Whispers_ThreadsBox",feature:"Whispers",category:"community",is_available:!0}),(n=null===(a=t.data.searchUsers)||void 0===a?void 0:a.edges)?(i=n.map((function(e){return e.node})),this.setState({searchResults:i})):this.setState({searchResults:[]}),this.setState({searching:!1}),[2]}}))}))},t}(v.Component),ie=(0,W.W)("WhisperCenter",{autoReportInteractive:!0})(ne),re=n(120309),ae=n.n(re),se=n(121614),oe=n(294489),de=n(86859),le=n(457062),ue=n(171742),ce=n(136566),me=(0,b.U)({name:"Whispers",feature:"Whispers",category:"community"}),he=me.Available,pe=me.Unavailable,fe=function(e){function t(t){var n=e.call(this,t)||this;return n.erroredLoadingMore=!1,n.logger=k.vF.withCategory("whispers"),n.getThreadsById=(0,f.O)((function(e){return(0,le.p)(e)})),n.getOrderedThreadsIds=(0,f.O)((function(e){return e.map((function(e){return e.id}))})),n.getThreadsFromData=(0,f.O)((function(e){return e&&e.whisperThreads&&e.whisperThreads.edges.map((function(e){return e.node}))||[]})),n.archiveThread=function(e){var t=n.threadsByID[e];t&&(n.props.closeThread(e),n.props.data.currentUser&&(0,G.qt)(e),(0,se.x)(t))},n.selectThread=function(e){n.props.openThread({threadID:e,collapsed:!1})},n.loadMore=function(){return(0,d.__awaiter)(n,void 0,void 0,(function(){var e;return(0,d.__generator)(this,(function(t){switch(t.label){case 0:if(this.props.data.loading||this.props.data.error||this.erroredLoadingMore)return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.props.loadMore()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),this.logger.warn("Load more whisper threads failed",{error:e}),this.erroredLoadingMore=!0,[3,4];case 4:return[2]}}))}))},n.state={renderError:!1},n}return(0,d.__extends)(t,e),t.prototype.componentDidCatch=function(e,t){var n=this;this.setState({renderError:!0},(function(){k.x2.stats.recordComponentError("Whispers"),n.logger.errorAndReport(e,"A unhandled exception occurred in the component hierarchy",{info:t})}))},t.prototype.render=function(){var e,t=this.props.data;return t.loading?(0,l.jsx)(c.a2,{"aria-label":(0,k.hw)("Close Threads","Whispers"),icon:m._}):t.currentUser&&t.currentUser.id&&!this.state.renderError?this.props.isVisible?(0,l.jsx)(he,{children:(0,l.jsx)(h.P,{display:this.props.theatreModeEnabled&&this.props.rightColumnExpanded&&!this.props.rightColumnPositionedBeside?p.nl.Hide:p.nl.Block,children:(0,l.jsx)(ie,{currentUserID:t.currentUser.id,error:!!t.error,loading:t.loading,unreadCount:this.unreadCount,orderedThreadIDs:this.orderedThreadsIDs,threadsByID:this.threadsByID,selectThread:this.selectThread,archiveThread:this.archiveThread,loadMore:this.loadMore})})}):(0,l.jsx)(he,{}):(0,l.jsx)(pe,{reason:(null===(e=t.error)||void 0===e?void 0:e.message)||"Whispers GQL or component error"})},Object.defineProperty(t.prototype,"threadsByID",{get:function(){var e=this.getThreadsFromData(this.props.data.currentUser);return this.getThreadsById(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"orderedThreadsIDs",{get:function(){var e=this.getThreadsFromData(this.props.data.currentUser);return this.getOrderedThreadsIds(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unreadCount",{get:function(){var e;return(0,oe.W)(this.threadsByID,null===(e=this.props.data.currentUser)||void 0===e?void 0:e.id)},enumerable:!1,configurable:!0}),t}(v.Component),ve=(0,g.Zz)((0,y.VL)(ae(),{props:function(e){return(0,d.__assign)((0,d.__assign)({},e),{loadMore:function(){return e.data.fetchMore({query:ae(),variables:(0,d.__assign)((0,d.__assign)({},e.data.variables),{cursor:e.data.currentUser&&e.data.currentUser.whisperThreads&&e.data.currentUser.whisperThreads.edges.length>0?e.data.currentUser.whisperThreads.edges[e.data.currentUser.whisperThreads.edges.length-1].cursor:null}),updateQuery:function(e,t){var n=t.fetchMoreResult;return n&&n.currentUser?e.currentUser&&e.currentUser.whisperThreads?n.currentUser.whisperThreads?{currentUser:(0,d.__assign)((0,d.__assign)({},n.currentUser),{whisperThreads:(0,d.__assign)((0,d.__assign)({},n.currentUser.whisperThreads),{edges:(0,x.U5)(e.currentUser.whisperThreads.edges,n.currentUser.whisperThreads.edges)})})}:{currentUser:(0,d.__assign)((0,d.__assign)({},n.currentUser),{whisperThreads:e.currentUser.whisperThreads})}:{currentUser:n.currentUser}:{currentUser:null}}})}})}}),(0,S.n)((function(e){return{query:ae(),types:[w.PD.WhisperDeleted,w.PD.WhisperEdited,w.PD.WhisperSent,w.PD.WhisperAllThreadsUpdate,w.PD.WhisperReceived,w.PD.WhisperThreadUpdate],variables:(0,d.__assign)({},e.data.variables),skip:!e.data.currentUser||void 0===e.data.currentUser.id,topic:(0,C.VE)(e.data.currentUser&&e.data.currentUser.id||""),mutator:function(t,n){if(!n.currentUser||!n.currentUser.whisperThreads)return n;if((0,ce.QK)(t)||(0,ce.hQ)(t)){if((0,ce.hQ)(t)){var i=n.currentUser.whisperThreads.edges.find((function(e){return e.node.id===t.data_object.thread_id}));if(i){var r=i.node.participants.find((function(e){return!!e&&e.id==="".concat(t.data_object.from_id)}));r&&r.login&&(0,G.fd)({targetUserLogin:r.login,threadID:t.data_object.thread_id})}}return(0,ue.Nr)(t,n,e.focusedThreadID,e.openThread)}return(0,ce.FA)(t)?(0,ue.i2)(t,n):(0,ce.V5)(t)?(0,ue.yh)(t,n):(0,ce.vu)(t)?(0,ue.i1)(t,n,e.closeThread):(0,ce.ns)(t)?(0,ue.mY)(t,n):n},skipMessage:function(e,t){if((0,ce.QK)(e)){if(!t.currentUser||!t.currentUser.whisperThreads)return!1;var n=void 0;try{n=(0,de.j)(k.x2.apollo.client.cache,e.data_object.thread_id,!0)}catch(e){return!1}if(n&&n.messages&&n.messages.edges.findIndex((function(t){return""!==t.node.nonce&&t.node.nonce===e.data_object.nonce}))>=0)return!0}return!1}}})),u.W)(fe);var ge=(0,r.Ng)((function(e){return{isVisible:(0,a.C6)(e),rightColumnExpanded:e.ui.rightColumnExpanded,rightColumnPositionedBeside:e.ui.rightColumnPositionedBeside,theatreModeEnabled:e.ui.theatreModeEnabled,focusedThreadID:e.whispers.display.focusedID}}),(function(e){return{openThread:function(t){return e(s.Dx(t,(0,o.M)()))},closeThread:function(t){return e(s.nE(t,(0,o.M)()))}}}))(ve)},995566:function(e,t,n){"use strict";var i;n.d(t,{v:function(){return i}}),function(e){e[e.Timestamp=0]="Timestamp",e[e.Whisper=1]="Whisper",e[e.Warning=2]="Warning",e[e.InactiveUserNotice=3]="InactiveUserNotice",e[e.NewMessages=4]="NewMessages",e[e.Notification=5]="Notification"}(i||(i={}))},99702:function(e,t,n){"use strict";function i(e){return{id:e.emote_id||"".concat(e.id),start:e.start,end:e.end}}function r(e){return{__typename:"WhisperMessageEdge",cursor:"".concat(e.data_object.id),node:{__typename:"WhisperMessage",id:e.data_object.message_id,nonce:e.data_object.nonce,sentAt:new Date(1e3*e.data_object.sent_ts).toISOString(),editedAt:null,deletedAt:null,content:{__typename:"MessageBody",content:e.data_object.body,emotes:e.data_object.tags.emotes.map((function(e){return s(i(e))}))},from:{__typename:"User",id:"".concat(e.data_object.from_id)}}}}function a(e){return e.map((function(e){return s(i(e))}))}function s(e){return{from:e.start,to:e.end,emoteID:e.id,id:"".concat(e.id,";").concat(e.start,";").concat(e.end),setID:"0",__typename:"EmbeddedEmote"}}n.d(t,{A6:function(){return r},HN:function(){return a},nf:function(){return s}})},86859:function(e,t,n){"use strict";n.d(t,{j:function(){return a}});var i=n(1333),r=n.n(i);function a(e,t,n){try{var i=e.readQuery({query:r(),variables:{id:t}},n);return i?i.whisperThread:null}catch(e){return null}}},92495:function(e,t,n){"use strict";n.d(t,{$B:function(){return s},AC:function(){return h},Fn:function(){return d},Ib:function(){return u},Ks:function(){return o},LA:function(){return g},_0:function(){return v},f9:function(){return m},fJ:function(){return r},kT:function(){return c},uN:function(){return l},up:function(){return p},x6:function(){return a},x8:function(){return f}});var i=n(452088);function r(){return(0,i.hw)("You are unable to whisper this user.","WhisperUtil")}function a(){return(0,i.hw)("Your whisper was not delivered because it was empty.","WhisperUtil")}function s(){return(0,i.hw)("Your whisper was not delivered because the recipient is suspended.","WhisperUtil")}function o(){return(0,i.hw)("Your whisper was not delivered.","WhisperUtil")}function d(){return(0,i.hw)("User successfully blocked","WhisperUtil")}function l(){return(0,i.hw)("User successfully unblocked","WhisperUtil")}function u(){return(0,i.hw)("Other People","WhisperUtil")}function c(){return(0,i.hw)("No users found.","WhisperUtil")}function m(){return(0,i.hw)("Search for People","WhisperUtil")}function h(){return(0,i.hw)("Sorry, something went wrong loading this conversation.","WhisperUtil")}function p(){return(0,i.hw)("There was a problem loading whispers.","WhisperUtil")}function f(){return(0,i.hw)("There was a problem loading options for this user.","WhisperUtil")}function v(e){return(0,i.hw)("{username}'s avatar",{username:e},"WhisperUtil")}function g(){return(0,i.hw)('This user has turned on "Block Whispers from Strangers" in their privacy settings and must start a conversation with you first.',"WhisperUtil")}},514653:function(e,t,n){"use strict";function i(e,t){return parseInt(t,10)<parseInt(e,10)?"".concat(t,"_").concat(e):"".concat(e,"_").concat(t)}function r(e,t){return e.split("_").find((function(e){return e!==t}))||null}n.d(t,{B:function(){return i},J:function(){return r}})},360791:function(e,t,n){"use strict";n.d(t,{W:function(){return l}});var i=n(331635),r=n(807289),a=n(296540),s=n(304146),o=n(671713),d=function(e){var t=(0,o.l)();return a.createElement(t.Consumer,null,(function(t){return(0,r.V1)(t&&t.client,44),e.children(t.client)}))};function l(e,t){void 0===t&&(t={});var n="withApollo(".concat(function(e){return e.displayName||e.name||"Component"}(e),")"),o=function(s){function o(e){var t=s.call(this,e)||this;return t.setWrappedInstance=t.setWrappedInstance.bind(t),t}return(0,i.__extends)(o,s),o.prototype.getWrappedInstance=function(){return(0,r.V1)(t.withRef,48),this.wrappedInstance},o.prototype.setWrappedInstance=function(e){this.wrappedInstance=e},o.prototype.render=function(){var n=this;return a.createElement(d,null,(function(r){var s=Object.assign({},n.props,{client:r,ref:t.withRef?n.setWrappedInstance:void 0});return a.createElement(e,(0,i.__assign)({},s))}))},o.displayName=n,o.WrappedComponent=e,o}(a.Component);return s(o,e,{})}}}]);