!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},n=(new e.Error).stack;n&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[n]="d473e453-1466-4968-8912-d9873eab8def",e._sentryDebugIdIdentifier="sentry-dbid-d473e453-1466-4968-8912-d9873eab8def")}catch(e){}}(),(self.webpackChunktwitch_twilight=self.webpackChunktwitch_twilight||[]).push([[95761],{953059:function(e,n,t){var i,a,r=t(373738);a="undefined"!=typeof self?self:this,i=function(){return a.ns_=function(e){(e=e||{}).ns_=e;var n,t,i,a,o={uid:function(){var e=1;return function(){return+new Date+"_"+e++}}(),filter:function(e,n){var t={};for(var i in n)n.hasOwnProperty(i)&&e(n[i])&&(t[i]=n[i]);return t},extend:function(e){var n,t=arguments.length;e=e||{};for(var i=1;t>i;i++)if(n=arguments[i])for(var a in n)n.hasOwnProperty(a)&&(e[a]=n[a]);return e},getString:function(e,n){var t=String(e);return null==e?n||"na":t},getLong:function(e,n){var t=Number(e);return null==e||isNaN(t)?n||0:t},getInteger:function(e,n){var t=Number(parseInt(e));return null==e||isNaN(t)?n||0:t},getBoolean:function(e,n){var t="true"==String(e).toLowerCase();return null==e?n||!1:t},parseBoolean:function(e,n){return n=n||!1,e?"0"!=e&&void 0:n},isNotEmpty:function(e){return!this.isEmpty(e)},isEmpty:function(e){return null==e||""===e||e instanceof Array&&0===e.length},indexOf:function(e,n){var t=-1;return this.forEach(n,(function(n,i){n==e&&(t=i)})),t},forEach:function(e,n,t){try{if("function"==typeof n)if(t=void 0!==t?t:null,"number"!=typeof e.length||void 0===e[0]){var i=void 0!==e.__proto__;for(var a in e)e.hasOwnProperty(a)&&(!i||i&&void 0===e.__proto__[a])&&"function"!=typeof e[a]&&n.call(t,e[a],a)}else for(var r=0,o=e.length;o>r;r++)n.call(t,e[r],r)}catch(e){}},regionMatches:function(e,n,t,i,a){if(0>n||0>i||n+a>e.length||i+a>t.length)return!1;for(;--a>=0;)if(e.charAt(n++)!=t.charAt(i++))return!1;return!0},size:function(e){var n=0;for(var t in e)e.hasOwnProperty(t)&&n++;return n},log:function(e,n){if(void 0!==n&&n&&"undefined"!=typeof console&&console){var t=new Date,i=t.getHours()+":"+t.getMinutes()+":"+t.getSeconds();console.log(i,e)}},isTrue:function(e){return void 0!==e&&("string"==typeof e?"true"===(e=e.toLowerCase())||"1"===e||"on"===e:!!e)},toString:function(e){if(void 0===e)return"undefined";if("string"==typeof e)return e;if("[object Array]"===Object.prototype.toString.call(e))return e.join(",");if(this.size(e)>0){var n="";for(var t in e)e.hasOwnProperty(t)&&(n+=t+":"+e[t]+";");return n}return e.toString()},exists:function(e){return void 0!==e&&null!=e},firstGreaterThan0:function(){for(var e=0,n=arguments.length;n>e;e++){var t=arguments[e];if(t>0)return t}return 0},cloneObject:function(e){if(null==e||"object"!=r(e))return e;var n=function(){function e(){}function n(n){return"object"==r(n)?(e.prototype=n,new e):n}function t(e){for(var n in e)e.hasOwnProperty(n)&&(this[n]=e[n])}function i(){this.copiedObjects=[];var e=this;this.recursiveDeepCopy=function(n){return e.deepCopy(n)},this.depth=0}function a(e,n){var t=new i;return n&&(t.maxDepth=n),t.deepCopy(e)}function o(e){return"undefined"!=typeof window&&window&&window.Node?e instanceof Node:"undefined"!=typeof document&&e===document||"number"==typeof e.nodeType&&e.attributes&&e.childNodes&&e.cloneNode}var s=[];return t.prototype={constructor:t,canCopy:function(){return!1},create:function(e){},populate:function(e,n,t){}},i.prototype={constructor:i,maxDepth:256,cacheResult:function(e,n){this.copiedObjects.push([e,n])},getCachedResult:function(e){for(var n=this.copiedObjects,t=n.length,i=0;t>i;i++)if(n[i][0]===e)return n[i][1]},deepCopy:function(e){if(null===e)return null;if("object"!=r(e))return e;var n=this.getCachedResult(e);if(n)return n;for(var t=0;t<s.length;t++){var i=s[t];if(i.canCopy(e))return this.applyDeepCopier(i,e)}throw new Error("Unable to clone the following object "+e)},applyDeepCopier:function(e,n){var t=e.create(n);if(this.cacheResult(n,t),this.depth++,this.depth>this.maxDepth)throw new Error("Maximum recursion depth exceeded.");return e.populate(this.recursiveDeepCopy,n,t),this.depth--,t}},a.DeepCopier=t,a.deepCopiers=s,a.register=function(e){e instanceof t||(e=new t(e)),s.unshift(e)},a.register({canCopy:function(){return!0},create:function(e){return e instanceof e.constructor?n(e.constructor.prototype):{}},populate:function(e,n,t){for(var i in n)n.hasOwnProperty(i)&&(t[i]=e(n[i]));return t}}),a.register({canCopy:function(e){return e instanceof Array},create:function(e){return new e.constructor},populate:function(e,n,t){for(var i=0;i<n.length;i++)t.push(e(n[i]));return t}}),a.register({canCopy:function(e){return e instanceof Date},create:function(e){return new Date(e)}}),a.register({canCopy:function(e){return o(e)},create:function(e){return"undefined"!=typeof document&&e===document?document:e.cloneNode(!1)},populate:function(e,n,t){if("undefined"!=typeof document&&n===document)return document;if(n.childNodes&&n.childNodes.length)for(var i=0;i<n.childNodes.length;i++){var a=e(n.childNodes[i]);t.appendChild(a)}}}),{deepCopy:a}}();return n.deepCopy(e)},safeGet:function(e,n){return n=this.exists(n)?n:"",this.exists(e)?e:n},getBrowserName:function(){if(!navigator)return"";var e,n,t=navigator.userAgent||"",i=navigator.appName||"";return-1!=(n=t.indexOf("Opera"))||-1!=(n=t.indexOf("OPR/"))?i="Opera":-1!=(n=t.indexOf("Android"))?i="Android":-1!=(n=t.indexOf("Chrome"))?i="Chrome":-1!=(n=t.indexOf("Safari"))?i="Safari":-1!=(n=t.indexOf("Firefox"))?i="Firefox":-1!=(n=t.indexOf("IEMobile"))?i="Internet Explorer Mobile":"Microsoft Internet Explorer"==i||"Netscape"==i?i="Internet Explorer":(e=t.lastIndexOf(" ")+1)<(n=t.lastIndexOf("/"))?(i=t.substring(e,n)).toLowerCase()==i.toUpperCase()&&(i=navigator.appName):i="unknown",i},getBrowserFullVersion:function(){if(!navigator)return"";var e,n,t,i=navigator.userAgent||"",a=navigator.appName||"",r=navigator.appVersion?""+parseFloat(navigator.appVersion):"";return-1!=(n=i.indexOf("Opera"))?(r=i.substring(n+6),-1!=(n=i.indexOf("Version"))&&(r=i.substring(n+8))):-1!=(n=i.indexOf("OPR/"))?r=i.substring(n+4):-1!=(n=i.indexOf("Android"))?r=i.substring(n+11):-1!=(n=i.indexOf("Chrome"))?r=i.substring(n+7):-1!=(n=i.indexOf("Safari"))?(r=i.substring(n+7),-1!=(n=i.indexOf("Version"))&&(r=i.substring(n+8))):-1!=(n=i.indexOf("Firefox"))?r=i.substring(n+8):"Microsoft Internet Explorer"==a?null!=new RegExp("MSIE ([0-9]{1,}[.0-9]{0,})").exec(i)&&(r=parseFloat(RegExp.$1)):"Netscape"==a?null!=new RegExp("Trident/.*rv:([0-9]{1,}[.0-9]{0,})").exec(i)&&(r=parseFloat(RegExp.$1)):r=i.lastIndexOf(" ")+1<(n=i.lastIndexOf("/"))?i.substring(n+1):"unknown",-1!=(t=(r=r.toString()).indexOf(";"))&&(r=r.substring(0,t)),-1!=(t=r.indexOf(" "))&&(r=r.substring(0,t)),-1!=(t=r.indexOf(")"))&&(r=r.substring(0,t)),e=parseInt(""+r,10),isNaN(e)&&(r=""+parseFloat(navigator.appVersion)),r},browserAcceptsLargeURLs:function(){return"undefined"==typeof window||(window.ActiveXObject,!0)},getNamespace:function(){return e.ns_||e}};return e.StreamSense=e.StreamSense||function(){var n=function(){var e="cs_";return function(){var n="undefined"!=typeof localStorage?localStorage:null;o.extend(this,{get:function(t){return n&&n.getItem(e+t)},set:function(t,i){n&&n.setItem(e+t,i)},has:function(t){return n&&n.getItem(e+t)},remove:function(t){n&&n.removeItem(e+t)},clear:function(){for(var t=0;n&&t<n.length;++t){var i=n.key(t);i.substr(0,e.length)===e&&n.removeItem(i)}}})}}(),t=function(e,n){if("undefined"!=typeof Image){var t=new Image;t.onload=function(){n&&n(200),t=null},t.onerror=function(){n&&n(),t=null},t.src=e}},i=function(e,n,t){t&&"undefined"!=typeof setTimeout&&setTimeout(t,0)},a={PLATFORM:"generic",httpGet:t,httpPost:i,Storage:n,IO:{dir:function(){return null},append:function(e,n,t){},write:function(e,n,t){},deleteFile:function(){return!1},read:function(){return null}},getCrossPublisherId:function(){return null},getAppName:function(){return s.UNKNOWN_VALUE},getAppVersion:function(){return s.UNKNOWN_VALUE},getVisitorId:function(){return this.getDeviceName()+ +new Date+~~(1e3*Math.random())},getVisitorIdSuffix:function(){return"72"},getDeviceName:function(){return s.UNKNOWN_VALUE},getPlatformVersion:function(){return s.UNKNOWN_VALUE},getPlatformName:function(){return"js"},getRuntimeName:function(){return s.UNKNOWN_VALUE},getRuntimeVersion:function(){return s.UNKNOWN_VALUE},getResolution:function(){return s.UNKNOWN_VALUE},getLanguage:function(){return s.UNKNOWN_VALUE},getPackageName:function(){return null},isConnectionAvailable:function(){return!0},isCompatible:function(){return!0},autoSelect:function(){},setPlatformAPI:function(){},isCrossPublisherIdChanged:function(){return!1},setTimeout:function(e){function n(n,t){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e,n){return setTimeout(e,n)})),clearTimeout:function(e){function n(n){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e){return clearTimeout(e)})),getDeviceArchitecture:function(){return s.UNKNOWN_VALUE},getConnectionType:function(){return s.UNKNOWN_VALUE},getDeviceJailBrokenFlag:function(){return s.UNKNOWN_VALUE},isConnSecure:function(){return"s"===document.location.href.charAt(4)},processMeasurementLabels:function(){}},s={UNKNOWN_VALUE:"unknown",UNKNOWN_RESOLUTION:"0x0"};o.jsonObjectToStringDictionary=function(e){var n={};for(var t in e){var i=e[t];n[t]=null==i?i:e[t]+""}return n},o.getKeys=function(e,n){var t,i=[];for(t in e)n&&!n.test(t)||!e.hasOwnProperty(t)||(i[i.length]=t);return i},o.fixEventTime=function(e){if(e.ns_ts)return parseInt(e.ns_ts);var n=+new Date;return e.ns_ts=String(n),n},o.isBrowser=function(){return"undefined"!=typeof window&&"undefined"!=typeof document},o.addNewPlaybackInterval=function(e,n,t,i){var a,r={};if(!(t>=n))return o.cloneObject(e);if(r.start=n,r.end=t,0==e.length)return e.push(r),o.cloneObject(e);for(a=0;a<e.length;a++)if(r.start>=e[a].start&&r.end<=e[a].end)return o.cloneObject(e);var s,l=!1;for(s=0;s<e.length;s++)if(s+1===e.length&&r.start>=e[s].start||r.start>=e[s].start&&r.start<e[s+1].start){e.splice(s+1,0,r),l=!0;break}l||e.splice(0,0,r);var d=[e[0]];for(a=1;a<e.length;a++)d[d.length-1].end+i<e[a].start?d.push(e[a]):d[d.length-1].end<e[a].end&&(d[d.length-1].end=e[a].end);return o.cloneObject(d)};var l=function(){var e=["play","pause","pause-on-buffering","end","buffer","buffer-stop","keep-alive","hb","custom","load","start","skstart","adskip","cta","error","trans","drmfa","drmap","drmde","bitrt","playrt","volume","window","audio","video","subs","cdn"];return{PLAY:0,PAUSE:1,PAUSE_ON_BUFFERING:2,END:3,BUFFER:4,BUFFER_STOP:5,KEEPALIVE:6,HEARTBEAT:7,CUSTOM:8,LOAD:9,START:10,SEEK_START:11,AD_SKIP:12,CTA:13,ERROR:14,TRANSFER:15,DRM_FAILED:16,DRM_APPROVED:17,DRM_DENIED:18,BIT_RATE:19,PLAYBACK_RATE:20,VOLUME:21,WINDOW_STATE:22,AUDIO:23,VIDEO:24,SUBS:25,CDN:26,toString:function(n){return e[n]}}}(),d={IDLE:0,PLAYBACK_NOT_STARTED:1,PLAYING:2,PAUSED:3,BUFFERING_BEFORE_PLAYBACK:4,BUFFERING_DURING_PLAYBACK:5,BUFFERING_DURING_SEEKING:6,BUFFERING_DURING_PAUSE:7,SEEKING_BEFORE_PLAYBACK:8,SEEKING_DURING_PLAYBACK:9,SEEKING_DURING_BUFFERING:10,SEEKING_DURING_PAUSE:11,PAUSED_DURING_BUFFERING:12},u=function(){var e=["c","s","r"];return{SINGLE_CLIP:0,SEGMENTED:1,REDUCED:2,toString:function(n){return e[n]}}}(),c={STREAMSENSE_VERSION:"5.1.3.160420",MODEL_VERSION:"5.1",DEFAULT_PLAYERNAME:"js_api",DEFAULT_HEARTBEAT_INTERVAL:[{playingtime:6e4,interval:1e4},{playingtime:null,interval:6e4}],DEFAULT_KEEP_ALIVE_INTERVAL:12e5,DEFAULT_PAUSED_ON_BUFFERING_INTERVAL:500,C1_VALUE:"19",C10_VALUE:"js",NS_AP_C12M_VALUE:"1",NS_NC_VALUE:"1",PAGE_NAME_LABEL:"name",RESTRICTED_URL_LENGTH_LIMIT:2048,URL_LENGTH_LIMIT:4096,THROTTLING_DELAY:500,INTERVAL_MERGE_TOLERANCE:500,STANDARD_METADATA_LABELS:["ns_st_ci","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_ty","ns_st_ct","ns_st_li","ns_st_ad","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pu","c3","c4","c6"],LABELS_ORDER:["c1","c2","ca2","cb2","cc2","cd2","ns_site","ca_ns_site","cb_ns_site","cc_ns_site","cd_ns_site","ns_vsite","ca_ns_vsite","cb_ns_vsite","cc_ns_vsite","cd_ns_vsite","ns_alias","ca_ns_alias","cb_ns_alias","cc_ns_alias","cd_ns_alias","ns_ap_an","ca_ns_ap_an","cb_ns_ap_an","cc_ns_ap_an","cd_ns_ap_an","ns_ap_pn","ns_ap_pv","c12","ca12","cb12","cc12","cd12","ns_ak","ns_ap_hw","name","ns_ap_ni","ns_ap_ec","ns_ap_ev","ns_ap_device","ns_ap_id","ns_ap_csf","ns_ap_bi","ns_ap_pfm","ns_ap_pfv","ns_ap_ver","ca_ns_ap_ver","cb_ns_ap_ver","cc_ns_ap_ver","cd_ns_ap_ver","ns_ap_sv","ns_ap_cv","ns_ap_smv","ns_type","ca_ns_type","cb_ns_type","cc_ns_type","cd_ns_type","ns_radio","ns_nc","cs_partner","cs_xcid","ns_ap_ui","ca_ns_ap_ui","cb_ns_ap_ui","cc_ns_ap_ui","cd_ns_ap_ui","ns_ap_gs","ns_st_sv","ns_st_pv","ns_st_smv","ns_st_it","ns_st_id","ns_st_ec","ns_st_sp","ns_st_sc","ns_st_sq","ns_st_ppc","ns_st_apc","ns_st_spc","ns_st_cn","ns_st_ev","ns_st_po","ns_st_cl","ns_st_el","ns_st_sl","ns_st_pb","ns_st_hc","ns_st_mp","ca_ns_st_mp","cb_ns_st_mp","cc_ns_st_mp","cd_ns_st_mp","ns_st_mv","ca_ns_st_mv","cb_ns_st_mv","cc_ns_st_mv","cd_ns_st_mv","ns_st_pn","ns_st_tp","ns_st_ad","ns_st_li","ns_st_ci","ns_st_si","ns_st_pt","ns_st_dpt","ns_st_ipt","ns_st_et","ns_st_det","ns_st_upc","ns_st_dupc","ns_st_iupc","ns_st_upa","ns_st_dupa","ns_st_iupa","ns_st_lpc","ns_st_dlpc","ns_st_lpa","ns_st_dlpa","ns_st_pa","ns_ap_jb","ns_ap_et","ns_ap_res","ns_ap_sd","ns_ap_po","ns_ap_ot","ns_ap_c12m","cs_c12u","ca_cs_c12u","cb_cs_c12u","cc_cs_c12u","cd_cs_c12u","ns_ap_install","ns_ap_updated","ns_ap_lastrun","ns_ap_cs","ns_ap_runs","ns_ap_usage","ns_ap_fg","ns_ap_ft","ns_ap_dft","ns_ap_bt","ns_ap_dbt","ns_ap_dit","ns_ap_as","ns_ap_das","ns_ap_it","ns_ap_uc","ns_ap_aus","ns_ap_daus","ns_ap_us","ns_ap_dus","ns_ap_ut","ns_ap_oc","ns_ap_uxc","ns_ap_uxs","ns_ap_lang","ns_ap_ar","ns_ap_miss","ns_ts","ns_st_ca","ns_st_cp","ns_st_er","ca_ns_st_er","cb_ns_st_er","cc_ns_st_er","cd_ns_st_er","ns_st_pe","ns_st_ui","ca_ns_st_ui","cb_ns_st_ui","cc_ns_st_ui","cd_ns_st_ui","ns_st_bc","ns_st_dbc","ns_st_bt","ns_st_dbt","ns_st_bp","ns_st_lt","ns_st_skc","ns_st_dskc","ns_st_ska","ns_st_dska","ns_st_skd","ns_st_skt","ns_st_dskt","ns_st_pc","ns_st_dpc","ns_st_pp","ns_st_br","ns_st_pbr","ns_st_rt","ns_st_prt","ns_st_ub","ns_st_vo","ns_st_pvo","ns_st_ws","ns_st_pws","ns_st_ki","ns_st_rp","ns_st_bn","ns_st_tb","ns_st_an","ns_st_ta","ns_st_pl","ns_st_pr","ns_st_sn","ns_st_en","ns_st_ep","ns_st_sr","ns_st_ty","ns_st_ct","ns_st_cs","ns_st_ge","ns_st_st","ns_st_ce","ns_st_ia","ns_st_dt","ns_st_ddt","ns_st_tdt","ns_st_tm","ns_st_dtm","ns_st_ttm","ns_st_de","ns_st_pu","ns_st_ti","ns_st_cu","ns_st_fee","ns_st_at","ns_st_pat","ns_st_vt","ns_st_pvt","ns_st_tt","ns_st_ptt","ns_st_cdn","ns_st_pcdn","ns_ap_i1","ns_ap_i2","ns_ap_i3","ns_ap_i4","ns_ap_i5","ns_ap_i6","ns_ap_referrer","ns_clid","ns_campaign","ns_source","ns_mchannel","ns_linkname","ns_fee","gclid","utm_campaign","utm_source","utm_medium","utm_term","utm_content","ns_ecommerce","ns_ec_sv","ns_client_id","ns_order_id","ns_ec_cur","ns_orderline_id","ns_orderlines","ns_prod_id","ns_qty","ns_prod_price","ns_prod_grp","ns_brand","ns_shop","ns_category","category","ns_c","ns_search_term","ns_search_result","ns_m_exp","ns_m_chs","c3","ca3","cb3","cc3","cd3","c4","ca4","cb4","cc4","cd4","c5","ca5","cb5","cc5","cd5","c6","ca6","cb6","cc6","cd6","c10","c11","c13","c14","c15","c16","c7","c8","c9","ns_ap_er"]},p=function(){function e(){function e(){(O={}).ns_st_pt="0",O.ns_st_bt="0",O.ns_st_bc="0",O.ns_st_pc="0",O.ns_st_sq="0",O.ns_st_cl="0",O.ns_st_pn="1",O.ns_st_tp="1",O.ns_st_skc="0",O.ns_st_et="0",O.ns_st_cn="1",O.ns_st_sc="0",O.ns_st_ska="0",O.ns_st_skd="0",O.ns_st_skt="0",O.ns_st_upc="0",O.ns_st_lpc="0",O.ns_st_upa="0",O.ns_st_lpa="0",O.ns_st_ub="0",O.ns_st_br="0",a=!1,i=!1,t=s.UNKNOWN_VALUE,r=NaN,u=0,l=0,p=NaN,v=0,m=0,d=0,h=NaN,f=[],g=[],y=0,k=0,S=0,_=0,C=0,b=0,P=NaN,x=0,E=!1,A=NaN,T=!1,w=0,D=0,N=0,I=0,F=0,R=0,M=0,L=0,V=0}function n(){var e,n,t=0;for(e=0;e<f.length;e++)t+=Math.abs(f[e].end-f[e].start);j.setUniquePlaybackInterval(t);var i=0;for(e=0;e<f.length;e++)(n=Math.abs(f[e].end-f[e].start))>i&&(i=n);j.setLongestPlaybackInterval(i);var a=0;for(e=0;e<g.length;e++)a+=Math.abs(g[e].end-g[e].start);j.setAssetUniquePlaybackInterval(a);var r=0;for(e=0;e<g.length;e++)(n=Math.abs(g[e].end-g[e].start))>r&&(r=n);j.setAssetLongestPlaybackInterval(r)}var t,i,a,r,l,d,u,p,m,v,f,g,h,y,k,S,_,C,b,P,x,E,A,N,w,T,I,D,O,F,R,M,L,V,j=this,B=c.INTERVAL_MERGE_TOLERANCE;o.extend(this,{getHash:function(){return t},setHash:function(e){t=e},setPlaybackIntervalMergeTolerance:function(e){B=e},getPlaybackIntervalMergeTolerance:function(){return B},setLabels:function(e){null!=e&&o.extend(O,e)},getLabels:function(){return O},setLabel:function(e,n){var t={};t[e]=n,j.setLabels(t)},getLabel:function(e){return O[e]},getClipNumber:function(){return parseInt(j.getLabel("ns_st_cn"))},setClipNumber:function(e){j.setLabel("ns_st_cn",String(e))},getPartNumber:function(){return parseInt(j.getLabel("ns_st_pn"))},createLabels:function(e){var n,t,i,r=e||{};return r.ns_st_dbt=String(j.getBufferingTime()-x),x=j.getBufferingTime(),r.ns_st_det=String(j.getElapsedTime()-m),m=j.getElapsedTime(),r.ns_st_dupc=String(j.getUniquePlaybackInterval()-y),y=j.getUniquePlaybackInterval(),parseInt(r.ns_st_dupc)<0&&(r.ns_st_dupc="0"),n=o.exists(r.ns_st_upc)?parseInt(r.ns_st_upc):j.getUniquePlaybackInterval(),r.ns_st_iupc=String(n-k),k=n,parseInt(r.ns_st_iupc)<0&&(r.ns_st_iupc="0"),r.ns_st_dupa=String(j.getAssetUniquePlaybackInterval()-S),S=j.getAssetUniquePlaybackInterval(),parseInt(r.ns_st_dupa)<0&&(r.ns_st_dupa="0"),t=o.exists(r.ns_st_upa)?parseInt(r.ns_st_upa):j.getAssetUniquePlaybackInterval(),r.ns_st_iupa=String(t-_),_=t,parseInt(r.ns_st_iupa)<0&&(r.ns_st_iupa="0"),r.ns_st_dlpc=String(j.getLongestPlaybackInterval()-C),C=j.getLongestPlaybackInterval(),parseInt(r.ns_st_dlpc)<0&&(r.ns_st_dlpc="0"),r.ns_st_dlpa=String(j.getAssetLongestPlaybackInterval()-b),b=j.getAssetLongestPlaybackInterval(),parseInt(r.ns_st_dlpa)<0&&(r.ns_st_dlpa="0"),i=o.exists(r.ns_st_pt)?parseInt(r.ns_st_pt):j.getPlaybackTime(),r.ns_st_ipt=String(i-d),d=i,r.ns_st_dpt=String(j.getPlaybackTime()-l),l=j.getPlaybackTime(),r.ns_st_dpc=String(j.getPauses()-F),F=j.getPauses(),r.ns_st_dskc=String(j.getSeeks()-R),R=j.getSeeks(),r.ns_st_dbc=String(j.getBuffers()-M),M=j.getBuffers(),r.ns_st_dskt=String(j.getSeekingTime()-N),N=j.getSeekingTime(),r.ns_st_dska=String(j.getSeekingAmount()-I),I=j.getSeekingAmount(),o.extend(r,j.getLabels()),j.setSeekingDirection(0),a&&(r.ns_st_spc=String(L),r.ns_st_apc=String(V)),a||o.parseBoolean(r.ns_st_sc)||(r.ns_st_sc="1"),r},getVideoTrack:function(){return j.getLabel("ns_st_vt")},setVideoTrack:function(e){j.setLabel("ns_st_vt",String(e))},getAudioTrack:function(){return j.getLabel("ns_st_at")},setAudioTrack:function(e){j.setLabel("ns_st_at",String(e))},getSubtitleTrack:function(){return j.getLabel("ns_st_tt")},setSubtitleTrack:function(e){j.setLabel("ns_st_tt",String(e))},getCDN:function(){return j.getLabel("ns_st_cdn")},setCDN:function(e){j.setLabel("ns_st_cdn",String(e))},getClipPlaybackIntervals:function(){return f},setClipPlaybackIntervals:function(e){f=e},getAssetPlaybackIntervals:function(){return g},getUniquePlaybackInterval:function(){return parseInt(j.getLabel("ns_st_upc"))},getAssetUniquePlaybackInterval:function(){return parseInt(j.getLabel("ns_st_upa"))},setAssetUniquePlaybackInterval:function(e){j.setLabel("ns_st_upa",String(e))},setUniquePlaybackInterval:function(e){j.setLabel("ns_st_upc",String(e))},getLongestPlaybackInterval:function(){return parseInt(j.getLabel("ns_st_lpc"))},setLongestPlaybackInterval:function(e){j.setLabel("ns_st_lpc",String(e))},getAssetLongestPlaybackInterval:function(){return parseInt(j.getLabel("ns_st_lpa"))},setAssetLongestPlaybackInterval:function(e){j.setLabel("ns_st_lpa",String(e))},incrementPauses:function(){j.setLabel("ns_st_pc",String(j.getPauses()+1))},incrementSeeks:function(){j.setLabel("ns_st_skc",String(j.getSeeks()+1))},incrementPlayCounter:function(){j.setLabel("ns_st_sq",String(j.getPlayCounter()+1))},getPlayCounter:function(){return parseInt(j.getLabel("ns_st_sq"))},getBufferingTime:function(){return parseInt(j.getLabel("ns_st_bt"))},setBufferingTime:function(e){j.setLabel("ns_st_bt",String(e))},addBufferingTime:function(e){if(!isNaN(P)){var n=j.getBufferingTime();n+=e-P,j.setBufferingTime(n),P=NaN}},setPlaybackStartPosition:function(e){h=parseInt(e)},getPlaybackStartPosition:function(){return h},addInterval:function(e){isNaN(h)||isNaN(e)||(f=o.addNewPlaybackInterval(f,h,e,B),g=o.addNewPlaybackInterval(g,h,e,B),n(),h=NaN)},getElapsedTime:function(){return parseInt(j.getLabel("ns_st_et"))},setElapsedTime:function(e){j.setLabel("ns_st_et",String(e))},addElapsedTime:function(e){if(!isNaN(p)){var n=j.getElapsedTime();n+=e-p,j.setElapsedTime(n),p=NaN}},getElapsedTimestamp:function(){return p},setElapsedTimestamp:function(e){p=e},addPlaybackTime:function(e){if(!isNaN(r)){var n=j.getPlaybackTime();n+=e-r,j.setPlaybackTime(n),r=NaN}},getPlaybackTime:function(){return parseInt(j.getLabel("ns_st_pt"))},getExpectedPlaybackPosition:function(e){return isNaN(r)||(u+=e-r),u},setPlaybackTimeOffset:function(e){u=e},getPlaybackTimeOffset:function(){return u},setPlaybackTime:function(e){j.setLabel("ns_st_pt",String(e))},getPlaybackTimestamp:function(){return r},setPlaybackTimestamp:function(e){r=e},setPreviousPlaybackTime:function(e){l=e},setPreviousPlaybackTimestamp:function(e){},getBufferingTimestamp:function(){return P},setBufferingTimestamp:function(e){P=e},getPauses:function(){return parseInt(j.getLabel("ns_st_pc"))},setPauses:function(e){j.setLabel("ns_st_pc",String(e))},getSeeks:function(){return parseInt(j.getLabel("ns_st_skc"))},setSeeks:function(e){j.setLabel("ns_st_skc",String(e))},setSeeking:function(e){E=e},isSeeking:function(){return E},setCollectingSeekingTime:function(e){T=e},isCollectingSeekingTime:function(){return T},setClipStarted:function(e){i=e},isClipStarted:function(){return i},setPlaybackStarted:function(e){a=e},isPlaybackStarted:function(){return a},setSeekingTimestamp:function(e){A=e},getSeekingTimestamp:function(){return A},addSeekingTime:function(e){if(!isNaN(A)){var n=j.getSeekingTime();n+=e-A,j.setSeekingTime(n),A=NaN}},getSeekingTime:function(){return parseInt(j.getLabel("ns_st_skt"))},setSeekingTime:function(e){j.setLabel("ns_st_skt",String(e))},setSeekingTimeBeforeEnd:function(e){D=e},getSeekingTimeBeforeEnd:function(){return D},setSeekStartPosition:function(e){w=e},getSeekStartPosition:function(){return w},setSeekingAmount:function(e){j.setLabel("ns_st_ska",String(e))},getSeekingAmount:function(){return parseInt(j.getLabel("ns_st_ska"))},addSeekingAmount:function(e){var n,t=j.getSeekingAmount();t+=Math.abs(e-w),j.setSeekingAmount(t),w==e?n=0:w>e?n=-1:e>w&&(n=1),j.setSeekingDirection(n),w=0},getSeekingDirection:function(){return parseInt(j.getLabel("ns_st_skd"))},setSeekingDirection:function(e){j.setLabel("ns_st_skd",String(e))},resetClipLifecycleLabels:function(){O.ns_st_pt="0",l=0,d=0,O.ns_st_bt="0",x=0,O.ns_st_bc="0",M=0,O.ns_st_pc="0",F=0,O.ns_st_sq="0",O.ns_st_upa="0",S=0,_=0,O.ns_st_et="0",m=0,O.ns_st_lpa="0",b=0,O.ns_st_skt="0",N=0,O.ns_st_ska="0",I=0,O.ns_st_skc="0",R=0},incrementSegmentPlaybackCounter:function(){L++},incrementClipLoadCounter:function(){j.setLabel("ns_st_sc",String(j.getClipLoadCounter()+1))},incrementAssetPlaybackCounter:function(){V++},setPreviousUniquePlaybackInterval:function(e){y=e},setPreviousEventIndependentUniquePlaybackInterval:function(e){k=e},setPreviousLongestPlaybackInterval:function(e){C=e},resetAssetPlaybackCounters:function(){g=[],j.setAssetUniquePlaybackInterval(0),S=0,_=0,j.setAssetLongestPlaybackInterval(0),b=0},setSegmentPlaybackCounter:function(e){L=e},setClipLoadCounter:function(e){j.setLabel("ns_st_sc",String(e))},setAssetPlaybackCounter:function(e){V=e},setLowestPartNumberPlayed:function(e){v=e},getSegmentPlaybackCounter:function(){return L},getClipLoadCounter:function(){return parseInt(j.getLabel("ns_st_sc"))},getAssetPlaybackCounter:function(){return V},getLowestPartNumberPlayed:function(){return v},getBuffers:function(){return parseInt(j.getLabel("ns_st_bc"))},incrementBufferCount:function(){j.setLabel("ns_st_bc",String(j.getBuffers()+1))},getPreviousBufferingTime:function(){return x}}),e()}return e.resetClip=function(e,n,t){for(var i=e.getLabels(),a={},r=0;t&&r<t.length;++r)i.hasOwnProperty(t[r])&&(a[t[r]]=i[t[r]]);n.setLabels(a),n.setPlaybackIntervalMergeTolerance(e.getPlaybackIntervalMergeTolerance())},e}(),m=function(){function e(){function e(){n=new p,(a={}).ns_st_bp="0",a.ns_st_pa="0",a.ns_st_pp="0",a.ns_st_sp="1",a.ns_st_id=String(+new Date),t=NaN,i=NaN,s={},l=0,r=!1,d=!1,u=0}var n,t,i,a,r,s,l,d,u,c=this;o.extend(this,{resetClip:function(){var e=n;n=new p,p.resetClip(e,n)},hashExists:function(e){return null!=s[e]},storeHash:function(e){s[e]={}},removeHash:function(e){delete s[e]},storeClipPlaybackCounters:function(){for(var e in s)if(s.hasOwnProperty(e)&&s[e].clipNumber===n.getClipNumber()){o.extend(s[e],{segmentPlaybackCounter:n.getSegmentPlaybackCounter(),clipLoadCounter:n.getClipLoadCounter(),assetPlaybackCounter:n.getAssetPlaybackCounter(),lowestPartNumberPlayed:n.getLowestPartNumberPlayed(),seeking:n.isSeeking(),seekingTimeBeforeEnd:n.getSeekingTimeBeforeEnd(),seekingStartPosition:n.getSeekStartPosition(),clipPlaybackIntervals:n.getClipPlaybackIntervals(),uniquePlaybackInterval:n.getUniquePlaybackInterval(),longestPlaybackInterval:n.getLongestPlaybackInterval(),videoTrack:n.getVideoTrack(),audioTrack:n.getAudioTrack(),subtitleTrack:n.getSubtitleTrack(),cdn:n.getCDN()});break}},getStoredClipRegisters:function(e){return s[e]},getClipNumber:function(e){return s[e].clipNumber},getMaxClipNumber:function(){return l},storeClipNumber:function(e,n){s[e].clipNumber=n,n>l&&(l=n)},setLabels:function(e){null!=e&&o.extend(a,e)},getLabels:function(){return a},setLabel:function(e,n){var t={};t[e]=n,c.setLabels(t)},getLabel:function(e){return a[e]},getClip:function(){return n},createLabels:function(e){var t=e||{};return d||(t.ns_st_pb=null!=t.ns_st_pb?t.ns_st_pb:"1"),o.extend(t,c.getLabels()),n.isPlaybackStarted()&&(t.ns_st_ppc=String(u)),t},incrementPlayCounter:function(){c.setLabel("ns_st_sp",String(parseInt(c.getLabel("ns_st_sp"))+1))},incrementPauses:function(){c.setLabel("ns_st_pp",String(c.getPauses()+1))},addPlaybackTime:function(e){if(!isNaN(i)){var n=c.getPlaybackTime();n+=e-i,c.setPlaybackTime(n),i=NaN}},addBufferingTime:function(e){if(!isNaN(t)){var n=c.getBufferingTime();n+=e-t,c.setBufferingTime(n),t=NaN}},getBufferingTime:function(){return parseInt(c.getLabel("ns_st_bp"))},setBufferingTime:function(e){c.setLabel("ns_st_bp",String(e))},getPlaybackTime:function(){return parseInt(c.getLabel("ns_st_pa"))},setBufferingTimestamp:function(e){t=e},getBufferingTimestamp:function(){return t},setPlaybackTime:function(e){c.setLabel("ns_st_pa",String(e))},setPlaybackTimestamp:function(e){i=e},getPlaybackTimestamp:function(){return i},getPauses:function(){return parseInt(c.getLabel("ns_st_pp"))},setPauses:function(e){c.setLabel("ns_st_pp",String(e))},isPlaylistStarted:function(){return r},setPlaylistStarted:function(e){r=e},getPlaybackCounter:function(){return u},incrementPlaybackCounter:function(){u++},setFirstEventSent:function(e){d=e}}),e()}return e.resetPlaylist=function(n,t,i){for(var a=n.getClip(),r=n.getLabels(),o={},s=0;i&&s<i.length;s++)r.hasOwnProperty(i[s])&&(o[i[s]]=r[i[s]]);(t=new e).setLabels(o),p.resetClip(a,t.getClip(),i)},e}(),v=function(e){function n(){i=1}function t(n){a=o.extend({},n);var t=e.getSSECore().getPixelURL();if(e.getAppCore()){if(e.getSSECore().isProperlyInitialized()){var i=e.getSSECore().getExports().et;if("function"==typeof e.getAppCore().getMeasurementDispatcher)e.getAppCore().getMeasurementDispatcher().send(i.HIDDEN,n,t);else{var r=e.getSSECore().getExports().am.newApplicationMeasurement(e.getAppCore(),i.HIDDEN,n,t);e.getAppCore().getQueue().offer(r)}}}else t&&e.getSSECore().getPlatformAPI().httpGet(e.getSSECore().prepareUrl(t,n))}var i,a,r=this;o.extend(this,{newEvent:function(e){t(e.eventLabels),e.eventType!=l.HEARTBEAT&&r.incrementEventCounter()},getEventCounter:function(){return i},incrementEventCounter:function(){i++},setEventCounter:function(e){i=e},getMeasurementSnapshot:function(){return a}}),n()},f=function(e){function n(){r=0,s=0}function t(){s++;var n={},t=o.fixEventTime(n);n.ns_st_po=String(e.getPlaylist().getClip().getPlaybackTimeOffset()+(t-e.getPlaylist().getClip().getPlaybackTimestamp())),n.ns_st_pa=String(e.getPlaylist().getPlaybackTime()+(t-e.getPlaylist().getPlaybackTimestamp())),n.ns_st_pt=String(e.getPlaylist().getClip().getPlaybackTime()+(t-e.getPlaylist().getClip().getPlaybackTimestamp())),n.ns_st_dpt=String(t-e.getPlaylist().getClip().getPlaybackTimestamp()),e.getStateMachine().getCurrentState()==d.BUFFERING_DURING_PLAYBACK?(n.ns_st_bp=String(e.getPlaylist().getBufferingTime()+(t-e.getPlaylist().getBufferingTimestamp())),n.ns_st_bt=String(e.getPlaylist().getClip().getBufferingTime()+(t-e.getPlaylist().getClip().getBufferingTimestamp())),n.ns_st_dbt=String(t-e.getPlaylist().getClip().getBufferingTimestamp())):n.ns_st_dbt=String(e.getPlaylist().getClip().getBufferingTime()-e.getPlaylist().getClip().getPreviousBufferingTime()),n.ns_st_et=String(e.getPlaylist().getClip().getElapsedTime()+(t-e.getPlaylist().getClip().getElapsedTimestamp())),n.ns_st_det=String(t-e.getPlaylist().getClip().getElapsedTimestamp());var i=o.cloneObject(e.getPlaylist().getClip().getClipPlaybackIntervals()),a=o.cloneObject(e.getPlaylist().getClip().getAssetPlaybackIntervals());i=o.addNewPlaybackInterval(i,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(n.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance()),a=o.addNewPlaybackInterval(a,e.getPlaylist().getClip().getPlaybackStartPosition(),parseInt(n.ns_st_po),e.getPlaylist().getClip().getPlaybackIntervalMergeTolerance());var c,p,m=0;for(c=0;c<i.length;c++)m+=Math.abs(i[c].end-i[c].start);n.ns_st_upc=String(m),n.ns_st_dupc=String(m-e.getPlaylist().getClip().getUniquePlaybackInterval());var v=0;for(c=0;c<i.length;c++)(p=Math.abs(i[c].end-i[c].start))>v&&(v=p);n.ns_st_lpc=String(v),n.ns_st_dlpc=String(v-e.getPlaylist().getClip().getLongestPlaybackInterval());var f=0;for(c=0;c<a.length;c++)f+=Math.abs(a[c].end-a[c].start);n.ns_st_upa=String(f),n.ns_st_dupa=String(f-e.getPlaylist().getClip().getAssetUniquePlaybackInterval());var g=0;for(c=0;c<a.length;c++)(p=Math.abs(a[c].end-a[c].start))>g&&(g=p);n.ns_st_lpa=String(g),n.ns_st_dlpa=String(g-e.getPlaylist().getClip().getAssetLongestPlaybackInterval()),n.ns_st_hc=String(e.getHeartbeat().getCount());var h=e.getSSECore().createLabels(l.HEARTBEAT,n,t);e.getEventManager().newEvent(h),r=0,u.resume()}function i(){null!=a&&(e.getSSECore().getPlatformAPI().clearTimeout(a),a=null)}var a,r,s,u=this,p=c.DEFAULT_HEARTBEAT_INTERVAL;o.extend(this,{getCount:function(){return s},setIntervals:function(e){p=e},getInterval:function(e){var n=0;if(null!=p)for(var t=0;t<p.length;t++){var i=p[t],a=i.playingtime;if(!a||a>e){n=i.interval;break}}return n},resume:function(){i();var n=u.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));if(n>0){var o=r>0?r:n;a=e.getSSECore().getPlatformAPI().setTimeout(t,o)}r=0},pause:function(){i();var n=u.getInterval(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()));r=n-(e.getPlaylist().getClip().getPlaybackTime()+(+new Date-e.getPlaylist().getClip().getPlaybackTimestamp()))%n}}),n()},g=function(e){function n(){}function t(){var n={},t=o.fixEventTime(n);n.ns_st_po=String(e.getPlaylist().getClip().getExpectedPlaybackPosition(t)),e.getPlaylist().addPlaybackTime(t),e.getPlaylist().setPlaybackTimestamp(t),e.getPlaylist().getClip().addPlaybackTime(t),e.getPlaylist().getClip().setPlaybackTimestamp(t),e.getStateMachine().getCurrentState()==d.BUFFERING_DURING_PLAYBACK&&(e.getPlaylist().addBufferingTime(t),e.getPlaylist().setBufferingTimestamp(t),e.getPlaylist().getClip().addBufferingTime(t),e.getPlaylist().getClip().setBufferingTimestamp(t)),e.getPlaylist().getClip().addElapsedTime(t),e.getPlaylist().getClip().setElapsedTimestamp(t),e.getPlaylist().getClip().addInterval(parseInt(n.ns_st_po)),e.getPlaylist().getClip().setPlaybackStartPosition(parseInt(n.ns_st_po));var i=e.getSSECore().createLabels(l.KEEPALIVE,n,t);e.getEventManager().newEvent(i),r.resume()}function i(){null!=a&&(e.getSSECore().getPlatformAPI().clearTimeout(a),a=null)}var a,r=this,s=c.DEFAULT_KEEP_ALIVE_INTERVAL;o.extend(r,{resume:function(){i(),a=e.getSSECore().getPlatformAPI().setTimeout(t,s)},pause:function(){i()},setInterval:function(e){s=e},getInterval:function(){return s}}),n()},h=function(e){function n(){a=d.IDLE,i=null,t=NaN}var t,i,a,r=this;o.extend(r,{eventTypeToState:function(e){if(a==d.IDLE){if(e==l.PLAY)return d.PLAYING;if(e==l.SEEK_START)return d.SEEKING_BEFORE_PLAYBACK;if(e==l.BUFFER)return d.BUFFERING_BEFORE_PLAYBACK}else if(a==d.PLAYBACK_NOT_STARTED){if(e==l.PLAY)return d.PLAYING;if(e==l.SEEK_START)return d.SEEKING_BEFORE_PLAYBACK;if(e==l.BUFFER)return d.BUFFERING_BEFORE_PLAYBACK;if(e==l.END||e==l.AD_SKIP)return d.IDLE}else if(a==d.PLAYING){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.BUFFER)return d.BUFFERING_DURING_PLAYBACK;if(e==l.PAUSE)return d.PAUSED;if(e==l.SEEK_START)return d.SEEKING_DURING_PLAYBACK}else if(a==d.PAUSED){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.BUFFER)return d.BUFFERING_DURING_PAUSE;if(e==l.PLAY)return d.PLAYING;if(e==l.SEEK_START)return d.SEEKING_DURING_PAUSE}else if(a==d.BUFFERING_BEFORE_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PAUSE||e==l.BUFFER_STOP)return d.PLAYBACK_NOT_STARTED;if(e==l.PLAY)return d.PLAYING;if(e==l.SEEK_START)return d.SEEKING_BEFORE_PLAYBACK}else if(a==d.BUFFERING_DURING_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY||e==l.BUFFER_STOP)return d.PLAYING;if(e==l.PAUSE_ON_BUFFERING)return d.PAUSED_DURING_BUFFERING;if(e==l.SEEK_START)return d.SEEKING_DURING_BUFFERING;if(e==l.PAUSE)return d.PAUSED}else if(a==d.BUFFERING_DURING_SEEKING){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY)return d.PLAYING;if(e==l.BUFFER_STOP)return d.SEEKING_DURING_PLAYBACK;if(e==l.PAUSE)return d.PAUSED}else if(a==d.BUFFERING_DURING_PAUSE){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY)return d.PLAYING;if(e==l.SEEK_START)return d.SEEKING_DURING_PAUSE;if(e==l.BUFFER_STOP||e==l.PAUSE)return d.PAUSED}else if(a==d.SEEKING_BEFORE_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PAUSE)return d.PLAYBACK_NOT_STARTED;if(e==l.PLAY)return d.PLAYING;if(e==l.BUFFER)return d.BUFFERING_BEFORE_PLAYBACK}else if(a==d.SEEKING_DURING_PLAYBACK){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY)return d.PLAYING;if(e==l.PAUSE)return d.PAUSED;if(e==l.BUFFER)return d.BUFFERING_DURING_SEEKING}else if(a==d.SEEKING_DURING_BUFFERING){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY)return d.PLAYING;if(e==l.PAUSE||e==l.BUFFER_STOP)return d.PAUSED}else if(a==d.SEEKING_DURING_PAUSE){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.PLAY)return d.PLAYING;if(e==l.PAUSE||e==l.BUFFER_STOP)return d.PAUSED;if(e==l.BUFFER)return d.BUFFERING_DURING_PAUSE}else if(a==d.PAUSED_DURING_BUFFERING){if(e==l.END||e==l.AD_SKIP)return d.IDLE;if(e==l.SEEK_START)return d.SEEKING_DURING_BUFFERING;if(e==l.PAUSE)return d.PAUSED;if(e==l.PLAY||e==l.BUFFER_STOP)return d.PLAYING}return null},getCurrentState:function(){return a},newEvent:function(e,n){var o=r.eventTypeToState(e);a!=o&&(i=a,a=o,t=n)},getPreviousState:function(){return i},getLastStateChangeTimestamp:function(){return t}}),n()},y=function(e){var n=this;o.extend(n,{onSeekStartWhenPausedOrBufferingDuringPause:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(n),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(n))},onBufferWhenSeekingOrPlayBackNotStartedOrPaused:function(n,t){e.getPlaylist().setBufferingTimestamp(n),e.getPlaylist().getClip().setBufferingTimestamp(n)},onPlayWhenSeekingDuringBufferingOrSeekingDuringPause:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)},onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n)},onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause:function(n,t){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause:function(n,t){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause:function(n,t){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1))}})},k=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStop:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onSeekStart:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(n),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(n))},onPause:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getSSECore().isLoadingTimeSent()||(t.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+n-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},S=function(e){var n=this;o.extend(n,{onEndAndSkip:function(n,t){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n)},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},_=function(e){var n=this;o.extend(n,{onPauseOnBuffering:function(n,t){var i=parseInt(t.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().addInterval(i),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var a=e.getSSECore().createLabels(l.PAUSE,t,n);e.getEventManager().newEvent(a),e.getPlaylist().setBufferingTimestamp(n),e.getPlaylist().getClip().setBufferingTimestamp(n),e.getPlaylist().getClip().setPlaybackTimeOffset(i)},onBufferStop:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n)},onEndOrAdSkip:function(n,t){var i=parseInt(t.ns_st_po);e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().addInterval(i);var a=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(a),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onSeekStart:function(n,t){var i=parseInt(t.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().addInterval(i),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(n),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var a=e.getSSECore().createLabels(l.PAUSE,t,n);e.getEventManager().newEvent(a)},onPause:function(n,t){var i=parseInt(t.ns_st_po);e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().addInterval(i),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var a=e.getSSECore().createLabels(l.PAUSE,t,n);e.getEventManager().newEvent(a)},onPlay:function(n,t){e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n)}})},C=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getSSECore().stopPausedOnBufferingTimer(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},b=function(e){var n=this;o.extend(n,{onBuffer:function(n,t){e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().setBufferingTimestamp(n),e.getPlaylist().getClip().setBufferingTimestamp(n)},onSeekStart:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(n)},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().setSeekingTime(e.getPlaylist().getClip().getSeekingTimeBeforeEnd()),e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabel("ns_st_pn"))<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabel("ns_st_pn"))),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getSSECore().isLoadingTimeSent()||(t.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+n-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},P=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},x=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBufferStop:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)},onSeekStart:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().isCollectingSeekingTime()||(e.getPlaylist().getClip().setSeekingTimestamp(n),e.getPlaylist().getClip().setCollectingSeekingTime(!0)):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(n))},onPause:function(n,t){e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses()},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().addBufferingTime(n),e.getPlaylist().getClip().addBufferingTime(n),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},E=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onSeekStart:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().isSeeking()?e.getPlaylist().getClip().setSeekingTimestamp(n):e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().isSeeking()||(e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(n))},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getSSECore().isLoadingTimeSent()||(t.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+n-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},A=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){var i=parseInt(t.ns_st_po);e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().addInterval(i);var a=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(a),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onBuffer:function(n,t){e.getSSECore().isPauseOnBufferingEnabled()&&e.getSSECore().startPausedOnBufferingTimer(n,t),e.getPlaylist().getClip().incrementBufferCount(),e.getPlaylist().setBufferingTimestamp(n),e.getPlaylist().getClip().setBufferingTimestamp(n)},onSeekStart:function(n,t){var i=parseInt(t.ns_st_po);e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().addInterval(i),e.getPlaylist().getClip().incrementSeeks(),e.getPlaylist().getClip().setSeeking(!0),e.getPlaylist().getClip().setCollectingSeekingTime(!0),e.getPlaylist().getClip().setSeekStartPosition(i),e.getPlaylist().getClip().setSeekingTimestamp(n),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var a=e.getSSECore().createLabels(l.PAUSE,t,n);e.getEventManager().newEvent(a)},onPause:function(n,t){var i=parseInt(t.ns_st_po);e.getHeartbeat().pause(),e.getSSECore().resetKeepAlive(),e.getPlaylist().addPlaybackTime(n),e.getPlaylist().getClip().addPlaybackTime(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().addInterval(i),e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses();var a=e.getSSECore().createLabels(l.PAUSE,t,n);e.getEventManager().newEvent(a)}})},N=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPause:function(n,t){e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1))},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().isPlaylistStarted()||(e.getPlaylist().setPlaylistStarted(!0),e.getPlaylist().incrementPlaybackCounter()),e.getPlaylist().getClip().setClipStarted(!0),e.getPlaylist().getClip().setPlaybackStarted(!0),e.getPlaylist().getClip().incrementSegmentPlaybackCounter(),(0==e.getPlaylist().getClip().getLowestPartNumberPlayed()||parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)<=e.getPlaylist().getClip().getLowestPartNumberPlayed())&&(e.getPlaylist().getClip().setLowestPartNumberPlayed(parseInt(e.getPlaylist().getClip().getLabels().ns_st_pn)),e.getPlaylist().getClip().incrementAssetPlaybackCounter(),e.getPlaylist().getClip().resetAssetPlaybackCounters()),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getSSECore().isLoadingTimeSent()||(t.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+n-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},w=function(e){var n=this;o.extend(n,{onPause:function(n,t){e.getPlaylist().incrementPauses(),e.getPlaylist().getClip().incrementPauses(),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1))}})},T=function(e){var n=this;o.extend(n,{onEndOrAdSkip:function(n,t){parseInt(t.ns_st_po),e.getSSECore().resetHeartbeat(),e.getSSECore().resetKeepAlive(),e.getPlaylist().getClip().addElapsedTime(n);var i=e.getSSECore().createLabels(l.END,t,n);e.getEventManager().newEvent(i),e.getPlaylist().getClip().isSeeking()&&e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().setSeekingTimeBeforeEnd(n-e.getPlaylist().getClip().getSeekingTimestamp()),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().storeClipPlaybackCounters(),e.getPlaylist().getClip().resetClipLifecycleLabels(),e.getPlaylist().getClip().setPlaybackStarted(!1),t.hasOwnProperty("ns_st_pe")&&o.parseBoolean(t.ns_st_pe,!1)&&e.getSSECore().resetPlaylist()},onPlay:function(n,t){var i=parseInt(t.ns_st_po);e.getPlaylist().getClip().isSeeking()&&(e.getPlaylist().getClip().isCollectingSeekingTime()&&(e.getPlaylist().getClip().addSeekingTime(n),e.getPlaylist().getClip().setCollectingSeekingTime(!1)),e.getPlaylist().getClip().addSeekingAmount(i),e.getPlaylist().getClip().setSeeking(!1)),e.getPlaylist().getClip().incrementPlayCounter(),e.getPlaylist().setPlaybackTimestamp(n),e.getPlaylist().getClip().setPlaybackTimestamp(n),e.getPlaylist().getClip().addElapsedTime(n),e.getPlaylist().getClip().setElapsedTimestamp(n),e.getPlaylist().getClip().setPlaybackStartPosition(i),e.getSSECore().isLoadingTimeSent()||(t.ns_st_lt=String(e.getSSECore().getLoadTimeOffset()+n-e.getSSECore().getInitTimestamp()),e.getSSECore().setLoadingTimeSent(!0)),e.getHeartbeat().resume(),e.getKeepAlive().resume();var a=e.getSSECore().createLabels(l.PLAY,t,n);e.getEventManager().newEvent(a)}})},I=function(){function e(){r=new D(te),o.getNamespace().comScore?(ie=o.getNamespace().comScore.exports,r.setAppCore(ie.c())):r.setAppCore(null),r.setKeepAlive(new g(r)),r.setHeartbeat(new f(r)),r.setEventManager(new v(r)),r.setStateMachine(new h),r.setPlaylist(new m),$={},p=new b(r),I=new P(r),O=new E(r),F=new A(r),R=new k(r),M=new _(r),L=new C(r),V=new S(r),j=new x(r),B=new N(r),U=new w(r),G=new T(r),z=new y(r),q=!1,H=0,W=+new Date,K=!0,X=!1,Y=[]}function n(e){var n=r.getStateMachine().getCurrentState();if(n==d.IDLE||n==d.PLAYBACK_NOT_STARTED||n==d.BUFFERING_BEFORE_PLAYBACK||n==d.SEEKING_BEFORE_PLAYBACK){if(e==l.PLAY)return!0}else if(n==d.PLAYING){if(e==l.END||e==l.AD_SKIP||e==l.SEEK_START||e==l.PAUSE)return!0}else if(n==d.PAUSED||n==d.BUFFERING_DURING_PAUSE||n==d.SEEKING_DURING_PLAYBACK||n==d.SEEKING_DURING_BUFFERING||n==d.SEEKING_DURING_PAUSE){if(e==l.END||e==l.AD_SKIP||e==l.PLAY)return!0}else if(n==d.BUFFERING_DURING_PLAYBACK){if(e==l.PAUSE_ON_BUFFERING||e==l.END||e==l.AD_SKIP||e==l.SEEK_START||e==l.PAUSE||e==l.PLAY)return!0}else if(n==d.BUFFERING_DURING_SEEKING){if(e==l.END||e==l.AD_SKIP||e==l.PAUSE||e==l.PLAY)return!0}else if(n==d.PAUSED_DURING_BUFFERING&&(e==l.END||e==l.AD_SKIP||e==l.BUFFER_STOP||e==l.PLAY))return!0;return!1}function t(e,t,i){var a=r.getStateMachine().getCurrentState();e==l.AD_SKIP&&!i.hasOwnProperty("ns_st_ui")&&n(e)?i.ns_st_ui="skip":e==l.SEEK_START&&!i.hasOwnProperty("ns_st_ui")&&n(e)&&(i.ns_st_ui="seek"),a==d.IDLE?e==l.BUFFER?p.onBuffer(t,i):e==l.SEEK_START?p.onSeekStart(t,i):e==l.PLAY&&p.onPlay(t,i):a==d.PLAYBACK_NOT_STARTED?e==l.END||e==l.AD_SKIP?O.onEndOrAdSkip(t,i):e==l.SEEK_START?O.onSeekStart(t,i):e==l.PLAY?O.onPlay(t,i):e==l.BUFFER&&z.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t,i):a==d.PLAYING?e==l.END||e==l.AD_SKIP?F.onEndOrAdSkip(t,i):e==l.BUFFER?F.onBuffer(t,i):e==l.SEEK_START?F.onSeekStart(t,i):e==l.PAUSE&&F.onPause(t,i):a==d.PAUSED?e==l.END||e==l.AD_SKIP?I.onEndOrAdSkip(t,i):e==l.PLAY?I.onPlay(t,i):e==l.BUFFER?z.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t,i):e==l.SEEK_START&&z.onSeekStartWhenPausedOrBufferingDuringPause(t,i):a==d.BUFFERING_BEFORE_PLAYBACK?e==l.END||e==l.AD_SKIP?R.onEndOrAdSkip(t,i):e==l.BUFFER_STOP?R.onBufferStop(t,i):e==l.SEEK_START?R.onSeekStart(t,i):e==l.PAUSE?R.onPause(t,i):e==l.PLAY&&R.onPlay(t,i):a==d.BUFFERING_DURING_PLAYBACK?e==l.PAUSE_ON_BUFFERING?M.onPauseOnBuffering(t,i):e==l.BUFFER_STOP?M.onBufferStop(t,i):e==l.END||e==l.AD_SKIP?M.onEndOrAdSkip(t,i):e==l.SEEK_START?M.onSeekStart(t,i):e==l.PAUSE?M.onPause(t,i):e==l.PLAY&&M.onPlay(t,i):a==d.BUFFERING_DURING_SEEKING?e==l.END||e==l.AD_SKIP?L.onEndOrAdSkip(t,i):e==l.PAUSE?L.onPause(t,i):e==l.PLAY?L.onPlay(t,i):e==l.BUFFER_STOP&&z.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(t,i):a==d.BUFFERING_DURING_PAUSE?e==l.END||e==l.AD_SKIP?V.onEndAndSkip(t,i):e==l.PAUSE?V.onPause(t,i):e==l.PLAY?V.onPlay(t,i):e==l.SEEK_START?z.onSeekStartWhenPausedOrBufferingDuringPause(t,i):e==l.BUFFER_STOP&&z.onBufferStopWhenBufferingDuringSeekingOrBufferingDuringPause(t,i):a==d.SEEKING_BEFORE_PLAYBACK?e==l.END||e==l.AD_SKIP?B.onEndOrAdSkip(t,i):e==l.PAUSE?B.onPause(t,i):e==l.PLAY?B.onPlay(t,i):e==l.BUFFER&&z.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t,i):a==d.SEEKING_DURING_PLAYBACK?e==l.END||e==l.AD_SKIP?G.onEndOrAdSkip(t,i):e==l.PLAY?G.onPlay(t,i):e==l.BUFFER?z.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t,i):e==l.PAUSE&&z.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(t,i):a==d.SEEKING_DURING_BUFFERING?e==l.PAUSE?U.onPause(t,i):e==l.BUFFER?z.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t,i):e==l.PLAY?z.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(t,i):e==l.END||e==l.AD_SKIP?z.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(t,i):e==l.BUFFER_STOP&&z.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(t,i):a==d.PAUSED_DURING_BUFFERING?e==l.END||e==l.AD_SKIP?j.onEndOrAdSkip(t,i):e==l.BUFFER_STOP?j.onBufferStop(t,i):e==l.SEEK_START?j.onSeekStart(t,i):e==l.PAUSE?j.onPause(t,i):e==l.PLAY&&j.onPlay(t,i):a==d.SEEKING_DURING_PAUSE&&(e==l.BUFFER?z.onBufferWhenSeekingOrPlayBackNotStartedOrPaused(t,i):e==l.PLAY?z.onPlayWhenSeekingDuringBufferingOrSeekingDuringPause(t,i):e==l.PAUSE?z.onPauseWhenSeekingDuringPlaybackOrSeekingDuringPause(t,i):e==l.END||e==l.AD_SKIP?z.onEndOrAdSkipWhenSeekingDuringBufferingOrSeekingDuringPause(t,i):e==l.BUFFER_STOP&&z.onBufferStopWhenSeekingDuringBufferingOrSeekingDuringPause(t,i)),n(e)&&r.getPlaylist().setFirstEventSent(!0)}function i(e,n){for(var t,i=ee.encodeURIComponent||escape,a=[],r=c.LABELS_ORDER,s=e.split("?"),l=s[0],d=s[1].split("&"),u=0,p=d.length;p>u;u++){var m=d[u].split("="),v=unescape(m[0]),f=unescape(m[1]);v&&(n[v]=f)}for(var g={},h=0,y=r.length;y>h;h++){var k=r[h];if(n.hasOwnProperty(k)){var S=n[k];void 0!==S&&null!=S&&(g[k]=!0,a.push(i(k)+"="+i(n[k])))}}for(var _ in n)if(n.hasOwnProperty(_)){if(g[_])continue;var C=n[_];void 0!==C&&null!=C&&a.push(i(_)+"="+i(n[_]))}t=(t=l+"?"+a.join("&"))+(t.indexOf("&c8=")<0?"&c8="+i(ne.title):"")+(t.indexOf("&c7=")<0?"&c7="+i(ne.URL):"")+(t.indexOf("&c9=")<0?"&c9="+i(ne.referrer):"");var b=o.browserAcceptsLargeURLs()?c.URL_LENGTH_LIMIT:c.RESTRICTED_URL_LENGTH_LIMIT;if(t.length>b&&t.indexOf("&")>0){var P=t.substr(0,b-8).lastIndexOf("&");t=(t.substring(0,P)+"&ns_cut="+i(t.substring(P+1))).substr(0,b)}return t}var r,p,I,O,F,R,M,L,V,j,B,U,G,z,q,H,W,K,Z,X,Q,Y,$,J,ee,ne,te=this,ie={},ae=c.DEFAULT_PAUSED_ON_BUFFERING_INTERVAL,re=c.THROTTLING_DELAY;o.extend(te,{createLabels:function(e,n,t){var i={};if("undefined"!=typeof document){var a=document;i.c7=a.URL,i.c8=a.title,i.c9=a.referrer}return null!=n&&o.extend(i,n),i.ns_ts=null!=i.ns_ts?i.ns_ts:String(+new Date),i.ns_st_ev=null!=i.ns_st_ev?i.ns_st_ev:l.toString(e),i.ns_st_mp=null!=i.ns_st_mp?i.ns_st_mp:c.DEFAULT_PLAYERNAME,i.ns_st_mv=null!=i.ns_st_mv?i.ns_st_mv:c.STREAMSENSE_VERSION,i.ns_st_ub=null!=i.ns_st_ub?i.ns_st_ub:"0",i.ns_st_br=null!=i.ns_st_br?i.ns_st_br:"0",i.ns_st_pn=null!=i.ns_st_pn?i.ns_st_pn:"1",i.ns_st_tp=null!=i.ns_st_tp?i.ns_st_tp:"1",i.ns_st_it=null!=i.ns_st_it?i.ns_st_it:u.toString(u.SINGLE_CLIP),i.ns_st_sv=null!=i.ns_st_sv?i.ns_st_sv:c.STREAMSENSE_VERSION,i.ns_st_smv=null!=i.ns_st_smv?i.ns_st_smv:c.MODEL_VERSION,i.ns_type=null!=i.ns_type?i.ns_type:"hidden",i.ns_st_ec=null!=i.ns_st_ec?i.ns_st_ec:String(r.getEventManager().getEventCounter()),i.ns_st_po=null!=i.ns_st_po?i.ns_st_po:String(r.getPlaylist().getPlaylist().getClip().getExpectedPlaybackPosition(t)),i.ns_st_ki=null!=i.ns_st_ki?i.ns_st_ki:String(r.getKeepAlive().getInterval()),r.getPlaylist().createLabels(i),r.getPlaylist().getClip().createLabels(i),o.extend(i,te.getLabels()),o.extend(i,n),{eventType:e,eventLabels:i}},newEvent:function(e,n,i,a){te.stopDelayedTransitionTimer();var o=r.getStateMachine().getCurrentState(),s=r.getStateMachine().eventTypeToState(e);if(null!=s&&s!=o)if(!te.isThrottlingEnabled()||o!=d.PLAYING&&o!=d.PAUSED||s!=d.PLAYING&&s!=d.PAUSED||a){i.ns_st_po||(r.getStateMachine().getCurrentState()==d.PLAYING&&e==l.BUFFER||r.getStateMachine().getCurrentState()==d.BUFFERING_DURING_PLAYBACK&&e==l.BUFFER_STOP?i.ns_st_po=String(r.getPlaylist().getClip().getPlaybackTimeOffset()+(n-r.getPlaylist().getClip().getPlaybackTimestamp())):i.ns_st_po=String(r.getPlaylist().getClip().getExpectedPlaybackPosition(n))),t(e,n,i);var u=0;isNaN(r.getStateMachine().getLastStateChangeTimestamp())||(u=n-r.getStateMachine().getLastStateChangeTimestamp()),r.getStateMachine().newEvent(e,n);for(var c=0,p=Y.length;p>c;c++)Y[c](o,s,i,u)}else Q=r.getPlatformAPI().setTimeout(function(e,t,i){return function(){te.newEvent(e,n,i,!0)}}(e,0,i),re)},newPseudoEvent:function(e,n,t){if(e!=l.LOAD&&e!=l.START||r.getStateMachine().getCurrentState()==d.IDLE){e!=l.ERROR||t.ns_st_er||(t.ns_st_er=s.UNKNOWN_VALUE),r.getStateMachine().getCurrentState()!=d.IDLE&&r.getStateMachine().getCurrentState()!=d.PLAYBACK_NOT_STARTED&&r.getStateMachine().getCurrentState()!=d.SEEKING_BEFORE_PLAYBACK&&r.getStateMachine().getCurrentState()!=d.BUFFERING_BEFORE_PLAYBACK&&(r.getPlaylist().getClip().addElapsedTime(n),r.getPlaylist().getClip().setElapsedTimestamp(n));var i,a,o,u=!0,c=!1;switch(e){case l.BIT_RATE:i="ns_st_br",a="ns_st_pbr",c=!0;break;case l.PLAYBACK_RATE:i="ns_st_rt",a="ns_st_prt",c=!0;break;case l.VOLUME:i="ns_st_vo",a="ns_st_pvo",c=!0;break;case l.WINDOW_STATE:i="ns_st_ws",a="ns_st_pws",c=!0;break;case l.AUDIO:i="ns_st_at",a="ns_st_pat",c=!1;break;case l.VIDEO:i="ns_st_vt",a="ns_st_pvt",c=!1;break;case l.SUBS:i="ns_st_tt",a="ns_st_ptt",c=!1;break;case l.CDN:i="ns_st_cdn",a="ns_st_pcdn",c=!1;break;default:u=!1}if(u&&t.hasOwnProperty(i)&&(c?(te.getLabels().hasOwnProperty(i)&&(o=te.getLabels()[i],t[a]=o),te.setLabel(i,t[i])):(r.getPlaylist().getClip().getLabels().hasOwnProperty(i)&&(o=r.getPlaylist().getClip().getLabels()[i],t[a]=o),r.getPlaylist().getClip().setLabel(i,t[i]))),!u||r.getStateMachine().getCurrentState()==d.PLAYING||r.getStateMachine().getCurrentState()==d.BUFFERING_DURING_PLAYBACK){t.ns_st_po||(t.ns_st_po=String(r.getPlaylist().getClip().getExpectedPlaybackPosition(n))),r.getStateMachine().getCurrentState()!=d.PLAYING&&r.getStateMachine().getCurrentState()!=d.BUFFERING_DURING_PLAYBACK||(r.getPlaylist().addPlaybackTime(n),r.getPlaylist().setPlaybackTimestamp(n),r.getPlaylist().getClip().addPlaybackTime(n),r.getPlaylist().getClip().setPlaybackTimestamp(n),r.getPlaylist().getClip().addInterval(parseInt(t.ns_st_po)),r.getPlaylist().getClip().setPlaybackStartPosition(parseInt(t.ns_st_po))),r.getStateMachine().getCurrentState()!=d.BUFFERING_BEFORE_PLAYBACK&&r.getStateMachine().getCurrentState()!=d.BUFFERING_DURING_PAUSE&&r.getStateMachine().getCurrentState()!=d.BUFFERING_DURING_PLAYBACK&&r.getStateMachine().getCurrentState()!=d.BUFFERING_DURING_SEEKING||(r.getPlaylist().addBufferingTime(n),r.getPlaylist().setBufferingTimestamp(n),r.getPlaylist().getClip().addBufferingTime(n),r.getPlaylist().getClip().setBufferingTimestamp(n));var p=te.createLabels(e,t,n);r.getEventManager().newEvent(p)}}},getState:function(){return r.getStateMachine().getCurrentState()},addListener:function(e){Y.push(e)},removeListener:function(e){Y.splice(o.indexOf(e,Y),1)},getLabel:function(e){return $[e]},getLabels:function(){return $},setLabel:function(e,n){null==n?delete $[e]:$[e]=n},setLabels:function(e){for(var n in e)e.hasOwnProperty(n)&&te.setLabel(n,e[n])},getPlatformAPI:function(){return r.getAppCore()?r.getAppCore().getPlatformAPI():a},getExports:function(){return ie},isProperlyInitialized:function(){var e=r.getAppCore().getAppContext(),n=r.getAppCore().getSalt(),t=r.getAppCore().getPixelURL();return e&&t&&n},setImplementationType:function(e){r.getStateMachine().getCurrentState()!=d.IDLE||e!=u.SINGLE_CLIP&&e!=u.SEGMENTED&&e!=u.REDUCED||r.getPlaylist().setLabel("ns_st_it",u.toString(e))},setThrottlingDelay:function(e){re=e},getThrottlingDelay:function(){return re},isThrottlingEnabled:function(){return X},setThrottlingEnabled:function(e){X=e},isLoadingTimeSent:function(){return q},setLoadingTimeSent:function(e){q=e},getLoadTimeOffset:function(){return H},setLoadTimeOffset:function(e){H=e},getInitTimestamp:function(){return W},setPauseOnBufferingInterval:function(e){ae=e},getPauseOnBufferingInterval:function(){return ae},isPauseOnBufferingEnabled:function(){return K},setPauseOnBufferingEnabled:function(e){K=e},startPausedOnBufferingTimer:function(e,n){te.stopPausedOnBufferingTimer(),Z=te.getPlatformAPI().setTimeout((function(){var t={},i=o.fixEventTime(t),a=parseInt(n.ns_st_po);t.ns_st_po=String(a+i-e),te.newEvent(l.PAUSE_ON_BUFFERING,i,t)}),ae)},stopPausedOnBufferingTimer:function(){null!=Z&&(te.getPlatformAPI().clearTimeout(Z),Z=null)},stopDelayedTransitionTimer:function(){Q&&(te.getPlatformAPI().clearTimeout(Q),Q=null)},setPixelURL:function(e){if(null==e||0==e.length)return null;var n=decodeURIComponent||unescape,t=e.indexOf("?");if(t>=0){if(t<e.length-1){for(var i=e.substring(t+1).split("&"),a=0,r=i.length;r>a;a++){var o=i[a].split("=");2==o.length?te.setLabel(o[0],n(o[1])):1==o.length&&te.setLabel(c.PAGE_NAME_LABEL,n(o[0]))}e=e.substring(0,t+1)}}else e+="?";return J=e},getPixelURL:function(){return J||("undefined"!=typeof ns_p&&"string"==typeof ns_p.src?J=ns_p.src.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):"string"==typeof ns_pixelUrl?J=ns_pixelUrl.replace(/&amp;/,"&").replace(/&ns__t=\d+/,""):null)},getSseSM:function(){return r},resetPlaylist:function(e){var n=r.getPlaylist();r.setPlaylist(new m),m.resetPlaylist(n,r.getPlaylist(),e)},resetHeartbeat:function(){r.getHeartbeat().pause(),r.setHeartbeat(new f(r))},resetKeepAlive:function(){r.getKeepAlive().pause(),r.setKeepAlive(new g(r))}}),o.isBrowser()?(ee=window,ne=document):(ee={},ne={location:{href:""},title:"",URL:"",referrer:"",cookie:""}),o.extend(this,{prepareUrl:i}),e()},D=function(e){var n,t,i,a,r,s,l=this;o.extend(l,{getAppCore:function(){return n},getSSECore:function(){return e},getEventManager:function(){return t},getStateMachine:function(){return i},getHeartbeat:function(){return a},getKeepAlive:function(){return r},getPlaylist:function(){return s},setAppCore:function(e){n=e},setKeepAlive:function(e){r=e},setHeartbeat:function(e){a=e},setEventManager:function(e){t=e},setStateMachine:function(e){i=e},setPlaylist:function(e){s=e}})},O=function(e,n){function t(){u=new I,s=!0,e&&p.setLabels(e),n&&p.setPixelURL(n)}function i(e,n){p.notify(l.CUSTOM,e,n)}function a(){s&&u.getSseSM().getStateMachine().getCurrentState()!=d.IDLE&&p.end()}var s,u,p=this,v=c.STANDARD_METADATA_LABELS;o.extend(this,{isProperlyInitialized:function(){return u.isProperlyInitialized()},reset:function(e){var n=u;n.getSseSM().getKeepAlive().pause(),n.getSseSM().getHeartbeat().pause(),u=new I,m.resetPlaylist(n.getSseSM().getPlaylist(),u.getSseSM().getPlaylist(),e)},setPauseOnBufferingInterval:function(e){u.setPauseOnBufferingInterval(e)},getPauseOnBufferingInterval:function(){return u.getPauseOnBufferingInterval()},setKeepAliveInterval:function(e){u.getSseSM().getKeepAlive().setInterval(e)},getKeepAliveInterval:function(){return u.getSseSM().getKeepAlive().getInterval()},setHeartbeatIntervals:function(e){u.getSseSM().getHeartbeat().setIntervals(e)},play:function(e,n){p.notify(l.PLAY,e,n)},pause:function(e,n){p.notify(l.PAUSE,e,n)},end:function(e,n){p.notify(l.END,e,n)},bufferStart:function(e,n){p.notify(l.BUFFER,e,n)},bufferStop:function(e,n){p.notify(l.BUFFER_STOP,e,n)},load:function(e,n){p.notify(l.LOAD,e,n)},start:function(e,n){p.notify(l.START,e,n)},seekStart:function(e,n){p.notify(l.SEEK_START,e,n)},skipAd:function(e,n){p.notify(l.AD_SKIP,e,n)},callToAction:function(e,n){p.notify(l.CTA,e,n)},error:function(e,n){p.notify(l.ERROR,e,n)},transferPlayback:function(e,n){p.notify(l.TRANSFER,e,n)},drmFail:function(e,n){p.notify(l.DRM_FAILED,e,n)},drmApprove:function(e,n){p.notify(l.DRM_APPROVED,e,n)},drmDeny:function(e,n){p.notify(l.DRM_DENIED,e,n)},changeBitrate:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_br=String(e),p.notify(l.BIT_RATE,i,n)}},changePlaybackRate:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_rt=String(e),p.notify(l.PLAYBACK_RATE,i,n)}},changeVolume:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_vo=String(e),p.notify(l.VOLUME,i,n)}},changeWindowState:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_ws=String(e),p.notify(l.WINDOW_STATE,i,n)}},changeAudio:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_at=String(e),p.notify(l.AUDIO,i,n)}},changeVideo:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_vt=String(e),p.notify(l.VIDEO,i,n)}},changeSubtitle:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_tt=String(e),p.notify(l.SUBS,i,n)}},changeCDN:function(e,n,t){if(null!=e){var i=t||{};i.ns_st_cdn=String(e),p.notify(l.CDN,i,n)}},notify:function(e){var n,t;if(n="object"==r(arguments[1])?arguments[1]:"object"==r(arguments[2])?arguments[2]:{},t="number"==typeof arguments[1]?arguments[1]:"number"==typeof arguments[2]?arguments[2]:NaN,l.toString(e)){n=o.jsonObjectToStringDictionary(n);var i=o.fixEventTime(n);n.ns_st_po||isNaN(t)||(n.ns_st_po=o.getInteger(t,0).toString()),n.ns_st_po&&u.getSseSM().getPlaylist().getClip().setPlaybackTimeOffset(parseInt(n.ns_st_po)),e==l.PLAY||e==l.PAUSE||e==l.BUFFER||e==l.END||e==l.SEEK_START||e==l.AD_SKIP||e==l.BUFFER_STOP?u.newEvent(e,i,n):u.newPseudoEvent(e,i,n)}},getLabels:function(){return u.getLabels()},getState:function(){return u.getSseSM().getStateMachine().getCurrentState()},setLabels:function(e){u.setLabels(e)},getLabel:function(e){return u.getLabel(e)},setLabel:function(e,n){u.setLabel(e,n)},getLoadTimeOffset:function(){return u.getLoadTimeOffset()},setLoadTimeOffset:function(e){u.setLoadTimeOffset(e)},setPixelURL:function(e){return u.setPixelURL(e)},getPixelURL:function(){return u.getSseSM().getSSECore().getPixelURL()},setImplementationType:function(e){u.setImplementationType(e)},isPauseOnBufferingEnabled:function(){return u.isPauseOnBufferingEnabled()},setPauseOnBufferingEnabled:function(e){u.setPauseOnBufferingEnabled(e)},isThrottlingEnabled:function(){return u.isThrottlingEnabled()},setThrottlingEnabled:function(e){u.setThrottlingEnabled(e)},setThrottlingDelay:function(e){u.setThrottlingDelay(e)},getThrottlingDelay:function(){return u.getThrottlingDelay()},setPlaybackIntervalMergeTolerance:function(e){u.getSseSM().getPlaylist().getClip().setPlaybackIntervalMergeTolerance(e)},getPlaybackIntervalMergeTolerance:function(){return u.getSseSM().getPlaylist().getClip().getPlaybackIntervalMergeTolerance()},setClip:function(e,n,t){if(void 0===t&&(t=!0),e=o.jsonObjectToStringDictionary(e),t&&u.getSseSM().getStateMachine().getCurrentState()!==d.IDLE&&p.end(),u.getSseSM().getStateMachine().getCurrentState()==d.IDLE){var i="",a=0;if(null!=e.ns_st_cn)i=String(e.ns_st_cn);else for(var r=0;r<v.length;r++)e[v[r]]&&(i+=v[r]+":"+e[v[r]]+";");var s=u.getSseSM().getPlaylist(),l=s.getClip();l.isClipStarted()?(s.hashExists(l.getHash())||(s.storeHash(l.getHash()),s.storeClipNumber(l.getHash(),l.getClipNumber())),s.storeClipPlaybackCounters(),a=s.hashExists(i)?s.getClipNumber(i):o.exists(e.ns_st_cn)?parseInt(e.ns_st_cn):s.getMaxClipNumber()+1):a=s.hashExists(i)?s.getClipNumber(i):l.getClipNumber(),s.resetClip(),(l=s.getClip()).setHash(i),l.setClipNumber(a),l.setLabels(e);var c=s.getStoredClipRegisters(i);return c&&(l.setClipStarted(!0),l.setSegmentPlaybackCounter(c.segmentPlaybackCounter),l.setClipLoadCounter(c.clipLoadCounter),l.setAssetPlaybackCounter(c.assetPlaybackCounter),l.setLowestPartNumberPlayed(c.lowestPartNumberPlayed),l.setSeeking(c.seeking),l.setSeekingTimeBeforeEnd(c.seekingTimeBeforeEnd),l.setSeekStartPosition(c.seekingStartPosition),l.setClipPlaybackIntervals(c.clipPlaybackIntervals),l.setUniquePlaybackInterval(c.uniquePlaybackInterval),l.setLongestPlaybackInterval(c.longestPlaybackInterval),l.setVideoTrack(c.videoTrack),l.setAudioTrack(c.audioTrack),l.setSubtitleTrack(c.subtitleTrack),l.setCDN(c.cdn),l.setPreviousUniquePlaybackInterval(c.uniquePlaybackInterval),l.setPreviousEventIndependentUniquePlaybackInterval(c.uniquePlaybackInterval),l.setPreviousLongestPlaybackInterval(c.longestPlaybackInterval)),l.incrementClipLoadCounter(),l.isClipStarted()&&n&&(s.incrementPlayCounter(),s.incrementPlaybackCounter()),!0}return!1},setPlaylist:function(e,n){return void 0===n&&(n=!0),e=o.jsonObjectToStringDictionary(e),n&&u.getSseSM().getStateMachine().getCurrentState()!==d.IDLE&&p.end(),u.getSseSM().getStateMachine().getCurrentState()==d.IDLE&&(u.getSseSM().getPlaylist().isPlaylistStarted()&&u.resetPlaylist(),u.getSseSM().getPlaylist().setLabels(e),!0)},importState:function(){},exportState:function(){return{}},getVersion:function(){return c.STREAMSENSE_VERSION},addListener:function(e){u.addListener(e)},removeListener:function(e){u.removeListener(e)},getClip:function(){return console&&console.warn&&console.warn("getClip() is deprecated. Use getPlaylist().getClip() instead."),u.getSseSM().getPlaylist().getClip()},getPlaylist:function(){return u.getSseSM().getPlaylist()},setHttpGet:function(e){"function"==typeof e&&(u.getPlatformAPI().httpGet=e)},setHttpPost:function(e){"function"==typeof e&&(u.getPlatformAPI().httpPost=e)},setExitEndEventEnabled:function(e){s=e},isExitEndEventEnabled:function(){return s},getPlatformAPI:function(){return u.getPlatformAPI()}}),o.extend(this,{customNotify:i,viewNotify:function(e){function n(n,t){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}((function(e,n){(e=e||p.getPixelURL())&&viewNotify(e,n)}))}),o.isBrowser()&&(window.addEventListener?(window.addEventListener("beforeunload",a),window.addEventListener("unload",a)):window.attachEvent&&(window.attachEvent("onbeforeunload",a),window.attachEvent("onunload",a))),t()};return function(n){function t(e,n){return P[E]||a(e,n)}function i(){E=-1;for(var n=0;x>=n;n++)if(P.hasOwnProperty(String(n))){E=n;break}return e.StreamSense.activeIndex=E,E}function a(n,t){return t=t||null,(n=n||null)&&"object"==r(n)&&(t=n,n=null),P[++x]=new e.StreamSense(t,n),i(),P[x]}function s(){var n=!1,t=E;if("number"==typeof arguments[0]&&isFinite(arguments[0]))t=arguments[0];else if(arguments[0]instanceof e.StreamSense)for(var a in P)if(P.hasOwnProperty(a)&&P[a]===arguments[0]){t=a;break}return P.hasOwnProperty(String(t))&&(n=P[t],delete P[t],n.reset(),i()),n}function l(e){return e=e||{},t().setPlaylist(e),t().getPlaylist()}function d(e,n,i){return e=e||{},"number"==typeof n&&(e.ns_st_cn=String(n)),t().setClip(e,i),t().getClip()}function u(e,n,i){return void 0!==e&&(i=i||null,n=n||{},t().notify(e,n,i))}function c(e){void 0!==e&&t().setLabels(e)}function p(){return t().getLabels()}function m(e){void 0!==e&&t().getPlaylist().setLabels(e)}function v(){return t().getPlaylist().getLabels()}function f(e){void 0!==e&&t().getClip().setLabels(e)}function g(){return t().getClip().getLabels()}function h(e){return t().reset(e||{})}function y(e){return t().getPlaylist().reset(e||{})}function k(e){return t().getClip().reset(e||{})}function S(e){return e=e||{},t().viewNotify(null,e)}function _(e,n){return arguments.length>2&&(e=arguments[1],n=arguments[2]),e=e||{},"number"==typeof n&&(e.ns_st_po=String(n)),t().customNotify(e,n)}function C(){return t().exportState()}function b(e){t().importState(e)}var P={},x=-1,E=-1;o.extend(n,{activeIndex:E,newInstance:a,new:a,destroyInstance:s,destroy:s,newPlaylist:l,newClip:d,notify:u,setLabels:c,getLabels:p,setPlaylistLabels:m,getPlaylistLabels:v,setClipLabels:f,getClipLabels:g,resetInstance:h,resetPlaylist:y,resetClip:k,viewEvent:S,customEvent:_,exportState:C,importState:b})}(O),O.PlayerEvents=l,O.InternalStates=d,O.ImplementationType=u,O}(),e.StreamingTag=e.StreamingTag||(n=e.StreamSense,e.StreamSense.PlayerEvents,t=e.StreamSense.InternalStates||null,i=e.StreamSense.ImplementationType||null,a=null!=e.StreamSense.InternalStates&&null!=e.StreamSense.ImplementationType,function(){var e={LongFormOnDemand:"12",ShortFormOnDemand:"11",Live:"13",UserGeneratedLongFormOnDemand:"22",UserGeneratedShortFormOnDemand:"21",UserGeneratedLive:"23",Bumper:"99",Other:"00"},r={LinearOnDemandPreRoll:"11",LinearOnDemandMidRoll:"12",LinearOnDemandPostRoll:"13",LinearLive:"21",Other:"00"},s=function(e){function r(){if(a)if(o.getNamespace().comScore)(g=new n).setImplementationType(i.REDUCED);else if(o.exists(e))if(h=o.isTrue(e.debug),o.exists(e.customerC2)&&e.customerC2.length>0){var t=e.secure?"https://sb":"http"+("s"==document.location.href.charAt(4)?"s://sb":"://b");(g=new n).setPixelURL(t+".scorecardresearch.com/p?c1=2"),g.setLabel("c2",e.customerC2),g.setImplementationType(i.REDUCED)}else h&&console&&console.log("Warning: customerC2 is not provided (or incorrect) in the StreamingTag configuration.")}function s(e){for(var n in o.exists(e)||(e={}),k)k.hasOwnProperty(n)&&!o.exists(e[k[n]])&&("ns_st_ci"==k[n]?e.ns_st_ci="0":e[k[n]]="*null");return e}function l(e){for(var n in k)if(k.hasOwnProperty(n)&&!d(k[n],v,e))return!1;return!0}function d(e,n,t){if(o.exists(e)&&o.exists(n)&&o.exists(t)){var i=n[e],a=t[e];return o.exists(i)&&o.exists(a)&&i===a}return!1}function u(e){m++;var n={ns_st_cn:String(m),ns_st_pn:"1",ns_st_tp:"0"};o.extend(n,e),g.setClip(n),v=e,g.play()}function c(e){m++,e=s(e);var n={ns_st_cn:String(m),ns_st_pn:"1",ns_st_tp:"1",ns_st_ad:"1"};o.extend(n,e),g.setClip(n),g.play(),f=!1}function p(e,n){e=s(e),S==y.None&&(S=n),f&&S==n&&l(e)?(g.getClip().setLabels(e),g.getState()!=t.PLAYING&&g.play()):u(e),f=!0,S=n}var m=0,v=null,f=!1,g=null,h=!1,y={None:0,AudioContent:1,VideoContent:2},k=["ns_st_ci","c3","c4","c6","ns_st_st","ns_st_pu","ns_st_pr","ns_st_ep","ns_st_sn","ns_st_en","ns_st_ct"],S=y.None;o.extend(this,{playAdvertisement:function(){g&&(h&&console&&console.warn("Calling deprecated function 'playAdvertisement'. Please call 'playVideoAdvertisement' or 'playAudioAdvertisement' functions instead."),c({ns_st_ct:"va"}))},playVideoAdvertisement:function(e,n){if(g){var t={ns_st_ct:"va"};n?t.ns_st_ct="va"+n:h&&console&&console.warn("Calling 'playVideoAdvertisement' without specifying the media type as a second parameter."),e&&o.extend(t,e),c(t)}},playAudioAdvertisement:function(e,n){if(g){var t={ns_st_ct:"aa"};n?t.ns_st_ct="aa"+n:h&&console&&console.warn("Calling 'playAudioAdvertisement' without specifying the media type as a second parameter."),e&&o.extend(t,e),c(t)}},playContentPart:function(e){if(g){h&&console&&console.warn("Calling deprecated function 'playContentPart'. Please call 'playVideoContentPart' or 'playAudioContentPart' functions instead.");var n={ns_st_ct:"vc"};e&&o.extend(n,e),p(n,y.VideoContent)}},playVideoContentPart:function(e,n){if(g){var t={ns_st_ct:"vc"};n?t.ns_st_ct="vc"+n:h&&console&&console.warn("Calling 'playVideoContentPart' without specifying the media type as a second parameter."),e&&o.extend(t,e),p(t,y.VideoContent)}},playAudioContentPart:function(e,n){if(g){var t={ns_st_ct:"ac"};n?t.ns_st_ct="ac"+n:h&&console&&console.warn("Calling 'playAudioContentPart' without specifying the media type as a second parameter."),e&&o.extend(t,e),p(t,y.AudioContent)}},stop:function(){g&&g.pause()}}),r()};return s.ContentType=e,s.AdType=r,s}()),e}(a.ns_)}.apply(n,[]),void 0===i||(e.exports=i)},505236:function(){},400989:function(){},156425:function(){},766139:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"HappeningNowSettings"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isChatHappeningNowEnabled"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},934916:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"SetHappeningNowSettings"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SetChatHappeningNowSettingsInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"setChatHappeningNowSettings"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isChatHappeningNowEnabled"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},390844:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UseGetUserLogin"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},676233:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ReportMenuItem"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requestInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"countryCode"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},909526:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"freeformTagFragment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"FreeformTag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},194257:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"PrimeSubscribe_SpendPrimeSubscriptionCredit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"SpendSubscriptionCreditInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"spendSubscriptionCredit"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userID"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"purchasedWithPrime"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"platform"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endsAt"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"code"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},20742:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"incrementClipViewCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateClipViewCountInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateClipViewCount"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},330925:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayer_CollectionManager_Video"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayer_CollectionManager_Collection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Collection"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"200"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayer_CollectionManager_Video"},directives:[]}]}}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_CollectionManager"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayer_CollectionManager_Collection"},directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},324991:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ComscoreStreamingQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLive"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVodOrCollection"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isClip"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"clipSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLive"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVodOrCollection"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"clipSlug"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isClip"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},393749:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"NielsenContentMetadataVideo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"NielsenContentMetadata"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isCollectionContent"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLiveContent"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVODContent"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLiveContent"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVODContent"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NielsenContentMetadataVideo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isCollectionContent"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"NielsenContentMetadataVideo"},directives:[]}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},532770:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_AgeGateOverlayBroadcaster"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserByAttribute"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userByAttribute"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"requiredAge"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},4711:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedPostplayGame"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Game"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedPostplayClipBroadcaster"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedPostplayClip"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Clip"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"480"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"272"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayClipBroadcaster"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayGame"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedPostplayBroadcaster"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayClipBroadcaster"},directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"320"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"180"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayGame"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedPostplayVideo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayGame"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"320"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"180"}}],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"recommendedRelatedClips"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClipRelatedClips"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayClip"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayClip"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"top"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayClip"},directives:[]}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerClipPostplayRecommendationsOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videoOffsetSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayBroadcaster"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayGame"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"relatedClips"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedRelatedClips"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"recommendedPostplayVideo"},directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},956174:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ClipShareOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},718254:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CollectionSideBar"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileURL"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"200"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"80"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"45"}}],directives:[]}]}}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},333965:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ContentPolicyPropertiesQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLive"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVOD"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLive"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ContentPolicyPropertiesStream"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVOD"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"ContentPolicyPropertiesVideo"},directives:[]}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}i.definitions=i.definitions.concat(r(t(804515).definitions)),i.definitions=i.definitions.concat(r(t(38454).definitions));var s={};i.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),s[e.name.value]=n}})),e.exports=i},804515:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ContentPolicyPropertiesStream"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentPolicyProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasBrandedContent"},arguments:[],directives:[]}]}}]}}]}}]}},38454:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"ContentPolicyPropertiesVideo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentPolicyProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasBrandedContent"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}},354955:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionsInfoBalloon"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extensionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extensionVersion"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"extensionID"}}},{kind:"Argument",name:{kind:"Name",value:"version"},value:{kind:"Variable",name:{kind:"Name",value:"extensionVersion"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"screenshotURLs"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},613072:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionsNotificationBitsBalance"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},947028:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionsOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"banStatus"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPermanent"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expiresInMs"},arguments:[],directives:[]}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},432584:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FollowPanelOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},218615:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_MutedSegmentsAlertOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includePrivate"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}},{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"includePrivate"},value:{kind:"Variable",name:{kind:"Name",value:"includePrivate"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"muteInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mutedSegmentConnection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offset"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},419354:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"OfflineBannerOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offlineImageURL"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},666179:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"OfflineEmbedVODAndSchedule"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bannerImageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offlineImageURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"primaryColorHex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"channel"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"schedule"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"segmentList"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"startAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"endAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasReminder"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isCancelled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"categories"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"144"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"192"}}],directives:[]}]}}]}}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"videos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"320"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"180"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},970685:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerOfflineRecommendationsOverlayVideo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"320"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"180"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}},998180:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerOfflineRecommendationsOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"30"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerOfflineRecommendationsOverlayVideo"},directives:[]}]}}]}}]}}]}}]}}]},a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(970685).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i},983943:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_ChapterSelectButtonVideo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includePrivate"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}},{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"includePrivate"},value:{kind:"Variable",name:{kind:"Name",value:"includePrivate"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"moments"},arguments:[{kind:"Argument",name:{kind:"Name",value:"momentRequestType"},value:{kind:"EnumValue",value:"VIDEO_CHAPTER_MARKERS"}},{kind:"Argument",name:{kind:"Name",value:"types"},value:{kind:"ListValue",values:[{kind:"EnumValue",value:"GAME_CHANGE"},{kind:"EnumValue",value:"HEARTHSTONE_VCA"},{kind:"EnumValue",value:"OVERWATCH_VCA"},{kind:"EnumValue",value:"PUBG_VCA"}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerVideoMomentEdge"},directives:[]}]}}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerVideoMomentEdge"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoMomentEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"moments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerVideoMomentConnection"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerVideoMoment"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerVideoMomentConnection"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoMomentEdge"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerVideoMoment"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerVideoMoment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoMoment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"durationMilliseconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"positionMilliseconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subDescription"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"thumbnailURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"details"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerGameChangeDetails"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerGameChangeDetails"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"GameChangeMomentDetails"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"boxArtURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"40"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"53"}}],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},726174:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CanCreateClip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"broadcasterID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canCreateClip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"broadcasterID"},value:{kind:"Variable",name:{kind:"Name",value:"broadcasterID"}}},{kind:"Argument",name:{kind:"Name",value:"vodID"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAllowed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"errorCode"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"requiredFollowingLengthMinutes"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},609099:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerClipsButtonBroadcaster"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserByAttribute"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userByAttribute"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEncrypted"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},683692:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"LiveStreamTime"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},762164:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerSettingsWithClipMetadata"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isCommunityMomentsFeatureEnabled"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"curator"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"communityMoment"},arguments:[],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isCommunityMomentsFeatureEnabled"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isSiteAdmin"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},206412:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_ViewCount"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},409815:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoMutedSegment"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"VideoMutedSegment"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"duration"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"offset"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_VODSeekbar"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"includePrivate"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},defaultValue:{kind:"BooleanValue",value:!1},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}},{kind:"Argument",name:{kind:"Name",value:"options"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"includePrivate"},value:{kind:"Variable",name:{kind:"Name",value:"includePrivate"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"muteInfo"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"mutedSegmentConnection"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"nodes"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoMutedSegment"},directives:[]}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},720799:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerPremiumContentOverlayChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"restriction"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"options"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},246506:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PreviewContentOverlayQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"285"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"160"}}],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"subscriptionProducts"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tier"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"canPrimeSubscribe"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},148014:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerStatusOverlayChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},352046:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerSubscriberVODOverlayVideoQuery"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},176472:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CollectionTopBar"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"200"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"totalCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"__typename"},arguments:[],directives:[]},{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},747066:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerStreamInfoOverlayChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"localizedName"},arguments:[],directives:[]}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},220039:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerStreamInfoOverlayClip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileURL"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"viewCount"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},35836:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerStreamInfoOverlayVOD"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"150"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"contentTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"localizedName"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},344204:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPreviewOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"1280"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"720"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"restrictionType"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},599939:function(e){var n={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoPlayerVODPostplayRecommendationsVideo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"createdAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"640"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"360"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"viewingHistory"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]}]}}]}}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerVODPostplayRecommendations"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"videoID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"videoID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"videos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"32"}},{kind:"Argument",name:{kind:"Name",value:"sort"},value:{kind:"EnumValue",value:"TIME"}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"EnumValue",value:"ARCHIVE"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoPlayerVODPostplayRecommendationsVideo"},directives:[]}]}}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},433374:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VODPreviewOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previewThumbnailURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"1280"}},{kind:"Argument",name:{kind:"Name",value:"height"},value:{kind:"IntValue",value:"720"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},834365:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerPixelAnalyticsUrls"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allowAmazon"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allowComscore"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allowGoogle"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"allowNielsen"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",alias:{kind:"Name",value:"channel"},name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trackingPixels"},arguments:[{kind:"Argument",name:{kind:"Name",value:"consent"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"allowAmazon"},value:{kind:"Variable",name:{kind:"Name",value:"allowAmazon"}}},{kind:"ObjectField",name:{kind:"Name",value:"allowComscore"},value:{kind:"Variable",name:{kind:"Name",value:"allowComscore"}}},{kind:"ObjectField",name:{kind:"Name",value:"allowGoogle"},value:{kind:"Variable",name:{kind:"Name",value:"allowGoogle"}}},{kind:"ObjectField",name:{kind:"Name",value:"allowNielsen"},value:{kind:"Variable",name:{kind:"Name",value:"allowNielsen"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"origin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"service"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"timeOffsetSeconds"},arguments:[],directives:[]}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},922624:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"VideoPlayer_FollowButtonFollowUser"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FollowUserInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"followUser"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follow"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"follower"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"disableNotifications"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"followedAt"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"notificationSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},104745:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"queryUserViewedVideo"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewedVideos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"100"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"history"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"position"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},572126:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"updateUserViewedVideo"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UpdateUserViewedVideoInput"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateUserViewedVideo"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},179245:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayerStreamMetadata"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEncrypted"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},673130:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StreamRefetchManager"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEncrypted"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},451553:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StreamTagsTrackingChannel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channel"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channel"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"FragmentSpread",name:{kind:"Name",value:"streamTagsTrackingTags"},directives:[]}]}}]}}]}}]},a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(952965).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i},952965:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"streamTagsTrackingTags"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Stream"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"freeformTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"freeformTagFragment"},directives:[]}]}}]}}]},a={};i.definitions=i.definitions.concat(t(909526).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},78141:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AdRequestBroadcaster"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"adServerDefault"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPrerollsDisabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasPostrollsDisabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasVodAdsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vodArchiveMidrolls"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"self"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"subscriptionBenefit"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"product"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasAdFree"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isAffiliate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"broadcastSettings"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isMature"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcasterSoftware"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestGame"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestTag"},directives:[]}]}}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t(947785).definitions)),i.definitions=i.definitions.concat(r(t(511801).definitions)),e.exports=i},291559:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AdRequestContentLabel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContentClassificationLabel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isEnabled"},arguments:[],directives:[]}]}}]}},864846:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AdRequestCurrentUser"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"hasTurbo"},arguments:[],directives:[]}]}}]}},947785:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AdRequestGame"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Game"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[{kind:"Argument",name:{kind:"Name",value:"tagType"},value:{kind:"EnumValue",value:"CONTENT"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestTag"},directives:[]}]}}]}}]},a={};i.definitions=i.definitions.concat(t(511801).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},190121:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"AdRequestHandling"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLive"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVOD"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isCollection"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestCurrentUser"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLive"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestBroadcaster"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVOD"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestVOD"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isCollection"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestVOD"},directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestBroadcaster"},directives:[]}]}}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}function o(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){o(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){o(e,n)})),e.definitions&&e.definitions.forEach((function(e){o(e,n)}))}i.definitions=i.definitions.concat(r(t(78141).definitions)),i.definitions=i.definitions.concat(r(t(466480).definitions)),i.definitions=i.definitions.concat(r(t(864846).definitions));var s={};i.definitions.forEach((function(e){if(e.name){var n=new Set;o(e,n),s[e.name.value]=n}})),e.exports=i},511801:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AdRequestTag"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Tag"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"tagName"},arguments:[],directives:[]}]}}]}},466480:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"AdRequestVOD"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lengthSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"title"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestGame"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestBroadcaster"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentTags"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestTag"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"AdRequestContentLabel"},directives:[]}]}}]}}]},a={};function r(e){return e.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))}i.definitions=i.definitions.concat(r(t(78141).definitions)),i.definitions=i.definitions.concat(r(t(291559).definitions)),i.definitions=i.definitions.concat(r(t(947785).definitions)),i.definitions=i.definitions.concat(r(t(511801).definitions)),e.exports=i},174752:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VODMidrollManager"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"collectionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVOD"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isCollection"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVOD"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VODMidrollManagerBroadcaster"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"collectionID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isCollection"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]}]}}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VODMidrollManagerBroadcaster"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VODMidrollManagerBroadcaster"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"adProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VODMidrollManagerAdProperties"},directives:[]}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"VODMidrollManagerAdProperties"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"AdProperties"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"hasVodAdsEnabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vodArchiveMidrolls"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vodArchiveMidrollsBreakLength"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"vodArchiveMidrollsFrequency"},arguments:[],directives:[]}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},231690:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"VideoAdBannerChannel"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"login"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"profileImageURL"},arguments:[{kind:"Argument",name:{kind:"Name",value:"width"},value:{kind:"IntValue",value:"28"}}],directives:[]},{kind:"Field",name:{kind:"Name",value:"roles"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isPartner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isAffiliate"},arguments:[],directives:[]}]}}]}}]}},474063:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoAdBanner"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserByAttribute"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userByAttribute"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"VideoAdBannerChannel"},directives:[]}]}}]}}]},a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(231690).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i},452072:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoAdRequestDecline"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"context"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"AdRequestContext"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"adContext"},arguments:[{kind:"Argument",name:{kind:"Name",value:"context"},value:{kind:"Variable",name:{kind:"Name",value:"context"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"radToken"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"declineState"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"reason"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shouldDecline"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},862596:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoPlayer_VideoSourceManager"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"input"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"UserByAttribute"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"userByAttribute"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"Variable",name:{kind:"Name",value:"input"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},272384:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"contentClassificationLabelPoliciesFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContentClassificationLabelPolicyProperties"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signPostProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signPost"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabels"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentGateProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"contentGate"},arguments:[],directives:[]}]}}]}}]}},805645:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"broadcasterInfo"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"User"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"contentClassificationLabelFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ContentClassificationLabel"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"localizedName"},arguments:[],directives:[]}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"gameTrackingFields"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Game"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ContentClassificationContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"clipSlug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isStream"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVOD"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isClip"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isStream"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"gameTrackingFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClassificationLabelFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabelPolicyProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClassificationLabelPoliciesFields"},directives:[]}]}}]}},{kind:"FragmentSpread",name:{kind:"Name",value:"broadcasterInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"video"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVOD"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcastType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"gameTrackingFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"owner"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"broadcasterInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClassificationLabelFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabelPolicyProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClassificationLabelPoliciesFields"},directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"clipSlug"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isClip"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"slug"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"broadcaster"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"broadcasterInfo"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"game"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"gameTrackingFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClassificationLabelFields"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabelPolicyProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClassificationLabelPoliciesFields"},directives:[]}]}}]}}]}}]},a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(272384).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i},263913:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ContentClassificationContextStreamPubsub"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelID"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"channelID"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"stream"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"contentClassificationLabelPolicyProperties"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"contentClassificationLabelPoliciesFields"},directives:[]}]}}]}}]}}]}}]},a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(272384).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i},841913:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionsUIContext_ChannelID"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},857131:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoAccessToken_Clip"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"slug"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"platform"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"clip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"slug"},value:{kind:"Variable",name:{kind:"Name",value:"slug"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"playbackAccessToken"},arguments:[{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"platform"},value:{kind:"Variable",name:{kind:"Name",value:"platform"}}},{kind:"ObjectField",name:{kind:"Name",value:"playerType"},value:{kind:"StringValue",value:"clips-viewing",block:!1}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"signature"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"videoQualities"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"videoAccessToken_ClipQuality"},directives:[]}]}}]}}]}},{kind:"FragmentDefinition",name:{kind:"Name",value:"videoAccessToken_ClipQuality"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"ClipVideoQuality"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"frameRate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"quality"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"sourceURL"},arguments:[],directives:[]}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},786501:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"VideoAccessToken_Collection"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"id"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"collection"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"id"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"items"},arguments:[{kind:"Argument",name:{kind:"Name",value:"first"},value:{kind:"IntValue",value:"1"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"edges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cursor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"node"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"InlineFragment",typeCondition:{kind:"NamedType",name:{kind:"Name",value:"Video"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},56612:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PlaybackAccessToken"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"login"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isLive"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"vodID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"isVod"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"playerType"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"platform"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"streamPlaybackAccessToken"},arguments:[{kind:"Argument",name:{kind:"Name",value:"channelName"},value:{kind:"Variable",name:{kind:"Name",value:"login"}}},{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"platform"},value:{kind:"Variable",name:{kind:"Name",value:"platform"}}},{kind:"ObjectField",name:{kind:"Name",value:"playerBackend"},value:{kind:"StringValue",value:"mediaplayer",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"playerType"},value:{kind:"Variable",name:{kind:"Name",value:"playerType"}}}]}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isLive"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"signature"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"authorization"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isForbidden"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"forbiddenReasonCode"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"videoPlaybackAccessToken"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"vodID"}}},{kind:"Argument",name:{kind:"Name",value:"params"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"platform"},value:{kind:"Variable",name:{kind:"Name",value:"platform"}}},{kind:"ObjectField",name:{kind:"Name",value:"playerBackend"},value:{kind:"StringValue",value:"mediaplayer",block:!1}},{kind:"ObjectField",name:{kind:"Name",value:"playerType"},value:{kind:"Variable",name:{kind:"Name",value:"playerType"}}}]}}],directives:[{kind:"Directive",name:{kind:"Name",value:"include"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"isVod"}}}]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"signature"},arguments:[],directives:[]}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},681234:function(e,n,t){var i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ActiveWatchParty"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"user"},arguments:[{kind:"Argument",name:{kind:"Name",value:"login"},value:{kind:"Variable",name:{kind:"Name",value:"channelLogin"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"watchParty"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"session"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"watchPartySession"},directives:[]}]}}]}}]}}]}}]},a={};function r(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var t=e.type;"NamedType"===t.kind&&n.add(t.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,n)})),e.definitions&&e.definitions.forEach((function(e){r(e,n)}))}i.definitions=i.definitions.concat(t(604499).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)})));var o={};i.definitions.forEach((function(e){if(e.name){var n=new Set;r(e,n),o[e.name.value]=n}})),e.exports=i},788256:function(e){e.exports={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"watchPartyProgress"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WatchPartyProgress"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"durationSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"positionSeconds"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"start"},arguments:[],directives:[]}]}}]}},604499:function(e,n,t){var i={kind:"Document",definitions:[{kind:"FragmentDefinition",name:{kind:"Name",value:"watchPartySession"},typeCondition:{kind:"NamedType",name:{kind:"Name",value:"WatchParty"}},directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"progress"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"FragmentSpread",name:{kind:"Name",value:"watchPartyProgress"},directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"state"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"viewersCount"},arguments:[],directives:[]}]}}]},a={};i.definitions=i.definitions.concat(t(788256).definitions.filter((function(e){if("FragmentDefinition"!==e.kind)return!0;var n=e.name.value;return!a[n]&&(a[n]=!0,!0)}))),e.exports=i},288566:function(e){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ExtensionPanel_Conditions_BitsBalance"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extensionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"extensionVersion"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"conditionID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"conditionOwnerID"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"currentUser"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"bitsBalance"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"extension"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"extensionID"}}},{kind:"Argument",name:{kind:"Name",value:"version"},value:{kind:"Variable",name:{kind:"Name",value:"extensionVersion"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"challengeCondition"},arguments:[{kind:"Argument",name:{kind:"Name",value:"input"},value:{kind:"ObjectValue",fields:[{kind:"ObjectField",name:{kind:"Name",value:"conditionID"},value:{kind:"Variable",name:{kind:"Name",value:"conditionID"}}},{kind:"ObjectField",name:{kind:"Name",value:"conditionOwnerID"},value:{kind:"Variable",name:{kind:"Name",value:"conditionOwnerID"}}}]}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]};function t(e,n){if("FragmentSpread"===e.kind)n.add(e.name.value);else if("VariableDefinition"===e.kind){var i=e.type;"NamedType"===i.kind&&n.add(i.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){t(e,n)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){t(e,n)})),e.definitions&&e.definitions.forEach((function(e){t(e,n)}))}var i={};n.definitions.forEach((function(e){if(e.name){var n=new Set;t(e,n),i[e.name.value]=n}})),e.exports=n},336853:function(e,n,t){"use strict";t.d(n,{n:function(){return p}});var i=t(331635),a=t(474848),r=t(540943),o=t(959340),s=t(965645),l=t(97774),d=t(914421),u=t(847388),c=t(552400);t(296540),t(505236);function p(e){for(var n=function(e){return"transparent"===e?"rgb(211,211,211)":e},t=[],i=[],c=[],p=0,v=e.colors.map((function(t,i){return(0,a.jsx)(r.VP,{cols:4,children:(0,a.jsx)(o.P,{margin:{bottom:.5},children:(0,a.jsx)(m,{label:t.label,children:(0,a.jsxs)(s.nx,{name:"colors",borderRadius:l.Z.Medium,"aria-label":t.label,checked:t.selected,type:s.h8.Radio,value:t.cssValue,disabled:t.disabled,onChange:function(n){t.onChange&&t.onChange(n),e.onSelect&&e.onSelect(t)},children:["transparent"===t.cssValue&&(0,a.jsx)("hr",{className:"color-swatch-selector__transparent-indicator"}),(0,a.jsx)(o.P,{display:d.nl.Flex,height:"50px",width:"176px",children:(0,a.jsx)(o.P,{height:"3rem",width:"3rem",style:(u=t.cssValue,c=t.backgroundCssValue,c?{background:"linear-gradient(135deg, ".concat(n(u)," 50%, ").concat(n(c)," 50%)"),border:"1.5px solid ".concat(n(u)),borderRadius:"50%"}:{backgroundColor:n(u),borderRadius:"50%"}),margin:{x:1,y:1},role:"img",className:"color-swatch-selector__swatch","aria-label":t.label,children:""===t.cssValue&&(0,a.jsx)(o.P,{color:d.Q1.Base,children:(0,a.jsxs)("svg",{className:"color-swatch-selector__null-indicator",width:30,height:30,version:"1.1",viewBox:"0 0 22 22",x:"0px",y:"0px",children:[(0,a.jsx)("title",{children:t.label}),(0,a.jsx)("path",{d:"M10 0C4.477 0 0 4.477 0 10s4.477 10 10 10 10-4.477 10-10S15.523 0 10 0zM4.343 14.243L8.586 10 4.343 5.758l1.414-1.415L10 8.586l4.242-4.243 1.415 1.414L11.414 10l4.243 4.243-1.414 1.414L10 11.414l-4.243 4.243-1.414-1.414z"})]})})})})]})})})},t.id||i);var u,c}));p<v.length;p++){var f=v[p];t.length<3?t.push(f):i.length<3?i.push(f):c.push(f)}return(0,a.jsxs)(o.P,{display:d.nl.Grid,flexWrap:d.I4.Wrap,children:[(0,a.jsx)(o.P,{margin:{y:.5},children:(0,a.jsx)(u.x,{children:t})}),(0,a.jsx)(o.P,{margin:{y:.5},children:(0,a.jsx)(u.x,{children:i})}),(0,a.jsx)(o.P,{margin:{y:.5},children:(0,a.jsx)(u.x,{children:c})})]})}var m=function(e){return e.label?(0,a.jsx)(c.m,(0,i.__assign)({display:d.nl.Block,label:e.label},e,{children:e.children})):(0,a.jsx)(a.Fragment,{children:e.children})}},542685:function(e,n,t){"use strict";t.d(n,{N:function(){return o}});var i=t(331635),a=t(296540),r=t(452088),o=function(e){function n(n){var t,i=e.call(this,n)||this,a=null!==(t=i.props.hardcodedAssignment)&&void 0!==t?t:r.x2.experiments.getAndTrackAssignment(i.props.name,i.props.bucketing?{bucketing:i.props.bucketing}:{});return i.state={assignment:a},i}return(0,i.__extends)(n,e),n.prototype.render=function(){if(this.state.assignment&&this.props.assignments[this.state.assignment]){var e=this.props.assignments[this.state.assignment]();return"string"==typeof e?(window.location.replace(e),null):e}return this.props.assignments.fallback()},n}(a.Component)},805450:function(e,n,t){"use strict";t.d(n,{X:function(){return l}});var i=t(331635),a=t(474848),r=t(296540),o=t(779075),s=t(300235);function l(e){return function(n){var t;return t=function(t){function r(){return null!==t&&t.apply(this,arguments)||this}return(0,i.__extends)(r,t),r.prototype.render=function(){return(0,a.jsx)(o.t,(0,i.__assign)({},e,{children:(0,a.jsx)(n,(0,i.__assign)({},this.props))}))},r}(r.Component),t.displayName=(0,s.K)("WithErrorBoundary",n),t}}},51285:function(e,n,t){"use strict";t.d(n,{$:function(){return y}});var i=t(331635),a=t(474848),r=t(959340),o=t(914421),s=t(636367),l=t(97774),d=t(235233),u=t(731667),c=t(912800),p=t(312663),m=t(26538),v=t(296540),f=t.p+"assets/404_boxart-285x380-55299d79a777bd47e9e7.jpg",g=t(973474),h=function(e){function n(n){var t=e.call(this,n)||this;return t.setImage=function(e){var n=e.src,i=e.altSrc,a=new Image;a.onerror=function(){return t.setState({src:i})},a.onload=function(){return t.setState({src:n})},a.src=n},t.state={src:n.src},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.src&&this.setImage(this.props)},n.prototype.componentDidUpdate=function(e){e.src!==this.props.src&&this.setImage(this.props)},n.prototype.render=function(){return(0,a.jsx)(g.L,(0,i.__assign)({},this.props,{src:this.state.src}))},n}(v.Component),y=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onClick=function(){n.props.onClick&&n.props.onClick(n.props.index)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e={src:this.props.imageURL,alt:this.props.text};return(0,a.jsx)(r.P,{className:"media-row",display:o.nl.Flex,flexWrap:o.I4.NoWrap,children:(0,a.jsx)(s.tD,{linkTo:this.props.linkTo,onClick:this.onClick,selected:this.props.active,children:(0,a.jsxs)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Row,padding:.5,children:[(0,a.jsxs)(r.P,{className:"media-row__image-wrapper",flexGrow:0,flexShrink:0,borderRadius:l.Z.Small,overflow:o.nE.Hidden,position:o.yX.Relative,children:[(0,a.jsx)(d.j$,{align:d.W3.Center,ratio:d.gl.BoxArt,children:(0,a.jsx)(h,(0,i.__assign)({},e,{altSrc:f}))}),(0,a.jsx)(r.P,{className:this.props.active?"":"media-row__image-play-overlay",alignItems:o.k2.Center,background:o.VS.Overlay,color:o.Q1.Overlay,display:o.nl.Flex,justifyContent:o.A9.Center,position:o.yX.Absolute,attachTop:!0,attachBottom:!0,attachLeft:!0,attachRight:!0,children:(0,a.jsx)(u.t,{asset:c.t.Play,type:u.H.Inherit})})]}),(0,a.jsxs)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Column,flexGrow:1,flexShrink:1,padding:{left:1,top:1},children:[(0,a.jsx)(r.P,{className:"media-row__info-text",children:(0,a.jsx)(p.N,{children:this.props.text})}),(0,a.jsx)(r.P,{className:"media-row__info-description",children:(0,a.jsx)(p.N,{children:this.props.description})})]}),this.renderCount()]})})})},n.prototype.renderCount=function(){return this.props.count?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.P,{alignSelf:o.gB.Center,children:(0,a.jsx)(m.a,{label:this.props.count.toString()})}),(0,a.jsx)(u.t,{asset:c.t.GlyphArrRight,type:u.H.Alt})]}):null},n}(v.Component)},471872:function(e,n,t){"use strict";t.d(n,{m:function(){return o},r:function(){return r}});var i=t(296540),a=t(452088);function r(e,n){void 0===n&&(n={});var t=n.bucketing,r=null==t?void 0:t.type,o=null==t?void 0:t.value,s=(0,i.useMemo)((function(){return void 0!==r&&o?{bucketing:{type:r,value:o}}:void 0}),[r,o]);return(0,i.useMemo)((function(){return a.x2.experiments.getAndTrackAssignment(e,s)}),[e,s])}function o(e,n){return n}},22046:function(e,n,t){"use strict";t.d(n,{g:function(){return a}});var i=t(296540);function a(e,n){var t=(0,i.useState)(!1),a=t[0],r=t[1];return(0,i.useEffect)((function(){if(e&&!n){r(!1);var t=document.createElement("img");return t.onload=function(){return r(!0)},t.src=e,function(){t.onload=null}}}),[e,n]),a}},640598:function(e,n,t){"use strict";t.d(n,{s:function(){return l}});var i=t(726561),a=t(891975),r=t(296540),o=t(452088),s=t(214120);function l(e){var n=e.topic,t=e.onError,l=e.onMessage,d=e.onListenSuccess,u=e.skip,c=e.jitterUpToMaxMS,p=(0,i.F)(c),m=(0,i.F)(l),v=(0,i.F)(t),f=(0,i.F)(d),g=r.useRef(new Set);(0,a.S)((function(){return function(){g.current.forEach((function(e){window.clearTimeout(e)}))}})),r.useEffect((function(){if(n&&!u){var e=o.UE.subscribe({topic:n,failure:function(e){var n;null===(n=v.current)||void 0===n||n.call(v,e)},success:function(){var e;null===(e=f.current)||void 0===e||e.call(f)},onMessage:function(e){if(p.current){var n=window.setTimeout((function(){g.current.delete(n),m.current(e)}),(0,s.yT)(p.current));g.current.add(n)}else m.current(e)}});return e}}),[u,p,v,m,f,n])}},440549:function(e,n,t){"use strict";var i;t.d(n,{P:function(){return i}}),function(e){e.Live="live",e.WatchParty="watch_party",e.Premiere="premiere",e.Rerun="rerun"}(i||(i={}))},798999:function(e,n,t){"use strict";t.d(n,{E:function(){return o},d:function(){return r}});var i=t(474848),a=(t(296540),/^[\x00-\x7F]*$/),r=function(e,n,t){return void 0===t&&(t=!1),n&&e&&!o(n)?t?"".concat(n," (").concat(e,")"):(0,i.jsxs)("span",{children:[n," ",(0,i.jsx)("span",{className:"intl-login",children:"(".concat(e,")")})]}):n||(e||"")};function o(e){return a.test(e)}},630193:function(e,n,t){"use strict";function i(){try{return window.self!==window.top}catch(e){return!0}}t.d(n,{W:function(){return i}})},192453:function(e,n,t){"use strict";t.d(n,{n:function(){return a}});var i=t(407350),a=t.n(i)()},116989:function(e,n,t){"use strict";t.d(n,{O:function(){return a},d:function(){return r}});var i=t(267924);function a(e){switch(e){case i.Suw.ARCHIVE:return"archive";case i.Suw.HIGHLIGHT:return"highlight";case i.Suw.UPLOAD:return"upload";case i.Suw.PAST_PREMIERE:return"past_premiere";case i.Suw.PREMIERE_UPLOAD:return"premiere_upload";default:return e}}function r(e){return e===i.msm.VIEWS?"popular_videos":"recent_videos"}},300780:function(e,n,t){"use strict";t.d(n,{n:function(){return i}});var i=function(){function e(e){this.debounceDuration=0,this.timeout=0,this.debounceDuration=e}return e.prototype.clear=function(){clearTimeout(this.timeout)},e.prototype.invoke=function(e){clearTimeout(this.timeout),this.timeout=setTimeout(e,this.debounceDuration)},e}()},65684:function(e,n,t){"use strict";t.d(n,{c:function(){return l}});var i=t(474848),a=t(296540),r=t(407827),o=t(961420),s=r.x.wrap((function(){return t.e(99354).then(t.bind(t,925732))}),"DSAWizardModalManagerComponent",{failSilently:!0,placeholder:null}),l=function(e){var n=a.useState(e.shouldMount),t=n[0],r=n[1];return e.shouldMount&&!t&&r(!0),(0,o.QN)((function(e){return e.session.firstPageLoaded}))&&t?(0,i.jsx)(s,{managerId:e.managerId}):null}},55533:function(e,n,t){"use strict";var i,a;t.d(n,{A:function(){return i},y:function(){return a}}),function(e){e.AdInProgress="ad_in_progress",e.DuplicateTrigger="duplicate_trigger"}(i||(i={})),function(e){e.Turbo="turbo",e.TurboGQLQueryError="initialization_error",e.ExperimentSegment="experiment_segment",e.PlayerSize="player_size",e.SavantFlag="savant_flag",e.MiniPlayer="mini_player",e.InvalidFormat="invalid_format",e.NotSurestream="not_surestream",e.LowerThirdChannelSkinEnabled="lower_third_channel_skin_enabled",e.TabNotVisible="sda_v_condition_not_met"}(a||(a={}))},717286:function(e,n,t){"use strict";t.d(n,{k:function(){return p}});var i=t(474848),a=t(959340),r=t(914421),o=t(452088),s=t(963423),l=t(195824),d=t(854803),u=t(306445),c=t(917602);function p(e){var n,t=(0,o.hw)("{bitsAmount} Bits",{bitsAmount:e.count.toString()},"Bits--BitsCount");if(e.withImage){var p=e.bitsConfig&&e.bitsConfig.indexedActions[l.J_];p||(p=(0,u.Vt)("Cheer"));var m=void 0;if(0===e.count)m=l.fB;else for(var v=0,f=p.orderedTiers;v<f.length;v++){var g=f[v];if(g.bits<=e.count){m=g.bits;break}}if(m){var h=(0,d.Yj)(p,m,void 0,e.animated);return void 0!==e.themeOverride&&(e.themeOverride===s.S.Light?h.dark=h.light:h.light=h.dark),n=(0,i.jsx)(c.F,{className:"bits-count--img",sources:h}),(0,i.jsx)("strong",{className:"bits-count","data-a-target":"bits-count",children:(0,i.jsxs)(a.P,{display:r.nl.InlineBlock,children:[n," ",e.withText?t:""]})})}}return(0,i.jsx)("strong",{className:"bits-count","data-a-target":"bits-count",children:(0,i.jsx)(a.P,{display:r.nl.InlineBlock,children:t})})}},742633:function(e,n,t){"use strict";t.d(n,{Ne:function(){return i},gP:function(){return r},jX:function(){return s},l2:function(){return o}});var i,a=t(269964);!function(e){e.Bits="bits",e.Leaderboard="bits-leader"}(i||(i={}));var r="balance_update",o="first_bits_purchase";function s(e){for(var n=[],t=0,i=e;t<i.length;t++){var r=i[t];n.push({__typename:"PinnedCheerLevel",id:r.name,name:(0,a.mM)(r.name),minBits:r.min_bits,maxBits:r.max_bits,durationSeconds:r.duration_sec})}return n}},380226:function(e,n,t){"use strict";var i;t.d(n,{r:function(){return i}}),function(e){e[e.Gray=1]="Gray",e[e.Purple=100]="Purple",e[e.Green=1e3]="Green",e[e.Blue=5e3]="Blue",e[e.Red=1e4]="Red",e[e.Yellow=1e5]="Yellow"}(i||(i={}))},195824:function(e,n,t){"use strict";t.d(n,{A_:function(){return d},By:function(){return c},C4:function(){return C},D_:function(){return S},Fh:function(){return s},Hk:function(){return b},IU:function(){return u},J_:function(){return f},Jl:function(){return v},Nx:function(){return m},Vp:function(){return o},aN:function(){return y},fB:function(){return g},jW:function(){return l},jq:function(){return h},mj:function(){return _},rQ:function(){return k},sZ:function(){return r},yP:function(){return p}});var i,a=t(380226),r={ERROR_DISPLAY_TIMEOUT:5e3,GET_BALANCE_RATE_LIMIT:5e3,UNDO_PROMPT_DURATION:5e3},o="https://d3aqoihi2n8ty8.cloudfront.net",s="".concat(o,"/cheer"),l="".concat(o,"/actions"),d="".concat(l,"/PREFIX/BACKGROUND/ANIMATION/TIER/SCALE.EXTENSION"),u="bonus",c=1e5,p=25e4,m=500,v=1e3,f="cheer",g=a.r.Purple,h=((i={})[a.r.Gray]="#979797",i[a.r.Purple]="#9c3ee8",i[a.r.Green]="#1db2a5",i[a.r.Blue]="#0099fe",i[a.r.Red]="#f43021",i[a.r.Yellow]="#f3a71a",i),y="AnAnonymousCheerer",k="ananonymouscheerer",S="407665396",_="lapsed_bits_user",C="lapsed_bits_user",b="mpu_portals"},222115:function(e,n,t){"use strict";t.d(n,{B:function(){return u},Y:function(){return d}});var i=t(973421),a=t.n(i),r=t(982821),o=t(503472),s=t(456450),l=t(742633);function d(e,n,t){return{topic:t?(0,s.c9)(t):"",type:r.PD.UserBitsBalanceUpdate,mutator:function(e,n){return n&&e.message_type===l.gP?(n.currentUser&&e.data&&(n=a()(n,(function(e){return e.currentUser.bitsBalance}),(function(){return e.data.balance}))),n):n},skip:!n||!t,query:e}}function u(e,n,t){(0,o.oR)(e,undefined,(function(e){return e?(e.currentUser&&e.currentUser.bitsBalance&&(e=a()(e,(function(e){return e.currentUser.bitsBalance}),(function(){return t}))),e):e}),(function(){return!n}))}},854803:function(e,n,t){"use strict";t.d(n,{Fm:function(){return s},Je:function(){return l},Yj:function(){return c},j7:function(){return u},o7:function(){return d}});var i=t(267924),a=t(195824),r=t(251184),o=/^((?:[A-Za-z0-9]+)(?:[A-Za-z]))([\d]+)$/;function s(e,n,t){void 0===t&&(t=!0);var i=[],a=e.split(/\s+/);return a.forEach((function(e,o){var s=l(e,n,t);if(s)i.push(s);else{var d=i.length&&i[i.length-1],u="";if(o<a.length-1&&(u=" "),d&&d.type===r.X.Text)d.content+=e+u;else{var c="";o&&(c=" "),i.push({type:r.X.Text,content:c+e+u})}}})),i}function l(e,n,t){void 0===t&&(t=!0);var a=e.match(o);if(!a)return null;var s=a[1].toLowerCase(),l=Number(a[2]),d=n.indexedActions[s];if(d&&(d.type!==i.x2$.DISPLAY_ONLY||t)){var u=d.orderedTiers.find((function(e){return e.bits<=l}));!u&&l&&(u=d.orderedTiers[0]);var p=n.tiers.find((function(e){return e.bits===(null==u?void 0:u.bits)}));if(u)return{type:r.X.Emote,content:{images:c(d,u.bits),alt:d.prefix,cheerAmount:l,cheerColor:null==p?void 0:p.color}}}return null}function d(e,n){var t,i,r=(t=n,i=new Map,t.orderedActions.forEach((function(e){e.campaign&&i.set(e.prefix,e.campaign)})),i),o=new Map;e.forEach((function(e,n){if(e.alt&&r.has(e.alt))if(o.has(e.alt)){(t=o.get(e.alt))&&(t.total+=e.cheerAmount||0,t.lastAppearance=n)}else{var t={total:e.cheerAmount||0,lastAppearance:n,campaign:r.get(e.alt)};o.set(e.alt,t)}}));var s=1;return o.forEach((function(t){var i=0;t.campaign.thresholds.forEach((function(e){t.total>=e.minimumBits&&(i=e.matchedPercent)}));var r=Math.trunc(t.total*i);if(r>0){var o=l(a.IU+r,n,!0);o&&e.splice(t.lastAppearance+s++,0,o.content)}})),e}function u(e,n){return s(e,n,!0).reduce((function(e,n){return n.type===r.X.Emote&&e.push(n.content),e}),[]).some((function(e){var t=n.orderedActions.find((function(n){return!!e.alt&&e.alt===n.prefix}));return!!t&&t.type===i.x2$.DISPLAY_ONLY}))}function c(e,n,t,i){var a,r;void 0===i&&(i=!0);var o=i?"animated":"static";return t?{themed:!0,dark:(a={},a["".concat(t,"x")]=e.getImage("dark",o,n,t),a),light:(r={},r["".concat(t,"x")]=e.getImage("light",o,n,t),r)}:{themed:!0,dark:{"1x":e.getImage("dark",o,n,1),"1.5x":e.getImage("dark",o,n,1.5),"2x":e.getImage("dark",o,n,2),"3x":e.getImage("dark",o,n,3),"4x":e.getImage("dark",o,n,4)},light:{"1x":e.getImage("light",o,n,1),"1.5x":e.getImage("light",o,n,1.5),"2x":e.getImage("light",o,n,2),"3x":e.getImage("light",o,n,3),"4x":e.getImage("light",o,n,4)}}}},306445:function(e,n,t){"use strict";t.d(n,{Vt:function(){return v},mr:function(){return u},vs:function(){return c}});var i,a=t(267924),r=t(380226),o=t(195824),s=t(198365),l={Cheer:a.x2$.FIRST_PARTY,Kappa:a.x2$.FIRST_PARTY,Kreygasm:a.x2$.FIRST_PARTY,Muxy:a.x2$.THIRD_PARTY,Showlove:a.x2$.FIRST_PARTY,Streamlabs:a.x2$.THIRD_PARTY,SwiftRage:a.x2$.FIRST_PARTY,Uni:a.x2$.FIRST_PARTY,VoHiYo:a.x2$.FIRST_PARTY},d=[r.r.Red,r.r.Blue,r.r.Green,r.r.Purple,r.r.Gray],u={indexedActions:{},orderedActions:[],tiers:[],getImage:p};function c(){if(!i){var e=m("Cheer",a.x2$.DEFAULT);i={indexedActions:{cheer:e},orderedActions:[e],tiers:d.map((function(e){return{bits:e,color:o.jq[e]}})),getImage:p}}return i}function p(e,n,t,i,a){var r="animated"===t?"gif":"png";return(0,s.LZ)(o.A_,{prefix:e,background:n,animation:t,tier:i,scale:a,extension:r})}function m(e,n){var t=d.map((function(n){return{__typename:"CheermoteTier",bits:n,canShowInBitsCard:!0,id:"".concat(e,";").concat(n)}}));return{__typename:"Cheermote",campaign:null,id:e,prefix:e,type:n,tiers:t,orderedTiers:t,getImage:p.bind(void 0,e)}}function v(e){return m(e,l[e])}},198365:function(e,n,t){"use strict";t.d(n,{LZ:function(){return o},Vg:function(){return r},in:function(){return s}});var i=t(331635),a=t(579025);function r(e,n){var t={};function r(n,i,a,r,s){if(n=n.toLowerCase(),!t[n])return"";var l=t[n].template,d=e.types.find((function(e){return e.animation===a}));return d?o(l,{prefix:n,background:i,animation:a,tier:r,scale:s,extension:d.extension}):""}for(var s=e.order.reduce((function(e,n,t){return e[n]=t,e}),{}),l=new a.r((function(e,n){var t=s[e.type]-s[n.type];return 0!==t?t:e.tierBreakerOrder-n.tierBreakerOrder})),d=0,u=0,c=n;u<c.length;u++)for(var p=c[u],m=0,v=p.nodes;m<v.length;m++){var f=v[m],g=(0,i.__assign)((0,i.__assign)({},f),{orderedTiers:f.tiers.slice().sort((function(e,n){return n.bits-e.bits})),template:p.templateURL,getImage:r.bind(void 0,f.prefix),tierBreakerOrder:d});t[f.prefix.toLowerCase()]=g,l.push(g),d++}return{indexedActions:t,orderedActions:l.top(l.size()),tiers:e.colors.slice().sort((function(e,n){return n.bits-e.bits})),getImage:r}}function o(e,n){return e.replace("PREFIX",n.prefix.toLowerCase()).replace("BACKGROUND",n.background).replace("ANIMATION",n.animation).replace("TIER",n.tier.toString()).replace("SCALE",n.scale.toString()).replace("EXTENSION",n.extension)}function s(e,n){return{id:"".concat(n,"-").concat(e.entry_key),score:e.score,rank:e.rank,user:{__typename:"User",id:e.entry_key,login:"",displayName:""},__typename:"UserLeaderboardItem"}}},194569:function(e,n,t){"use strict";t.d(n,{IU:function(){return f},hW:function(){return k},m9:function(){return g}});var i,a=t(474848),r=t(727234),o=t(296540),s=t(452088),l=t(86043),d=t(337930),u=t(214120),c=t(709673),p=t(436617),m={isTooSmall:!0,isSurveyOpportunity:!1,isSurveyShowing:!1,isMouseHovering:!1,refetchEnabled:!1,retriggerTimer:{current:0},startVideoSession:function(){},triggerOpportunity:function(){},acceptOpportunity:function(){},declineOpportunity:function(){},onClose:function(){},setMouseHovering:function(){},setRefetchEnabled:function(){}},v=(0,p.e)("BrandLiftContext",m,(function(e){return{brandLiftContext:e}})),f=v.withMemoContext,g=v.context;!function(e){e.VideoPlaySessionStarted="VideoPlaySessionStarted",e.FirstSDABreakStarted="FirstSDABreakStarted",e.SecondSDABreakStarted="SecondSDABreakStarted",e.SurveyOpportunity="SurveyOpportunity",e.SurveyShowing="SurveyShowing",e.Done="Done"}(i||(i={}));var h=s.x2.logger.withCategory("brandlift").withCategory("context"),y=function(e){var n=e.children,t=o.useState(!1),s=t[0],d=t[1],p=o.useState(!0),m=p[0],v=p[1],f=o.useState(!1),y=f[0],k=f[1],S=o.useState(i.VideoPlaySessionStarted),_=S[0],C=S[1],b=o.useContext(c.jK).adFormatRequest,P=(0,r.Z)(b),x=o.useRef(0);o.useEffect((function(){if(!P&&!!b)switch(_){case i.VideoPlaySessionStarted:C(i.FirstSDABreakStarted);break;case i.FirstSDABreakStarted:C(i.SecondSDABreakStarted),setTimeout((function(){C(i.SurveyOpportunity)}),3e5+(0,u.yT)(6e4))}}),[b,P,_]),o.useEffect((function(){h.debug(_)}),[_]),o.useEffect((function(){h.debug("isTooSmall=".concat(m))}),[m]);var E={isTooSmall:m,isMouseHovering:s,isSurveyOpportunity:_===i.SurveyOpportunity,isSurveyShowing:_===i.SurveyShowing,refetchEnabled:y,retriggerTimer:x,startVideoSession:function(){return C(i.VideoPlaySessionStarted)},triggerOpportunity:function(){return C(i.SurveyOpportunity)},acceptOpportunity:function(){return C(i.SurveyShowing)},declineOpportunity:function(){return C(i.Done)},onClose:function(){return C(i.Done)},setMouseHovering:d,setRefetchEnabled:k},A=o.useCallback((function(e){return v(!e||e<948)}),[]);return(0,a.jsxs)(g.Provider,{value:E,children:[(_===i.SurveyOpportunity||_===i.SurveyShowing)&&(0,a.jsx)(l.$,{onResize:A}),n||null]})},k=function(e){var n=e.children;return(0,d.fX)("addressability_experiment_survey_p0")||(0,d.fX)("brand_lift_v0")?(0,a.jsx)(y,{children:n||null}):(0,a.jsx)(g.Provider,{value:m,children:n||null})}},226483:function(e,n,t){"use strict";t.d(n,{l:function(){return o}});var i=t(474848),a=t(216042),r=t(914421),o=t(296540).forwardRef((function(e,n){var t;return(0,i.jsx)(a.S,{position:r.yX.Absolute,attachTop:!0,attachLeft:!0,fullWidth:!0,height:e.height?e.height:"100%",display:r.nl.Flex,alignItems:r.k2.Center,justifyContent:r.A9.Center,zIndex:null!==(t=e.zIndex)&&void 0!==t?t:r.Py.Above,className:"celebration__overlay",children:(0,i.jsx)("div",{ref:n,children:e.children})})}))},447944:function(e,n,t){"use strict";t.d(n,{e:function(){return i}});var i=t(296540).createRef()},452091:function(e,n,t){"use strict";var i;t.d(n,{w:function(){return i}}),function(e){e.Render="render",e.Blocked="image_block",e.Click="click",e.Impression="impression",e.Suppressed="suppressed"}(i||(i={}))},51454:function(e,n,t){"use strict";t.d(n,{a:function(){return d}});var i=t(331635),a=t(296540),r=t(267924),o=t(452088),s=t(452091),l=t(229915),d=function(e){var n,t,d=e.canShowChannelSkins,u=e.campaignSettings,c=e.channel,p=e.currentUser,m=e.blockForAdFreeUser,v=e.type,f=e.skipTracking,g=e.isDarkMode,h=e.isSubdSubSoldOut,y=(0,l.ef)(v,null==u?void 0:u.placements),k=null==y?void 0:y.backgroundType,S=v===r.OM7.VIDEO_OVERLAY||v===r.OM7.FRONT_PAGE_VIDEO_OVERLAY?y:void 0,_=a.useCallback((function(e,n){var t,a;if(u&&k&&(null==c?void 0:c.id)){var l=u.advertiser,d=u.activation,f=u.activationProgression,g=u.campaignInstance,y=u.campaign,_=v!==r.OM7.FRONT_PAGE_VIDEO_OVERLAY,C=e===s.w.Render?(null==g?void 0:g.displayRef)||void 0:e===s.w.Click&&(null==g?void 0:g.clickRef)||void 0;o.E5.track("channel_skins_actions",(0,i.__assign)((0,i.__assign)({},n),{activation_progression_id:f,activation_id:(null==d?void 0:d.id)||"",campaign_id:y||"",campaign_instance_id:(null==g?void 0:g.id)||"",beacon_id:_?C:void 0,brand_name:(null==l?void 0:l.name)||"",channel_id:c.id,background_type:m?void 0:k,action:e||void 0,video_overlay_location:null==S?void 0:S.assetPosition,asset_type:v,is_turbo:!!(null==p?void 0:p.hasTurbo),is_sub:!!(null===(a=null===(t=null==c?void 0:c.self)||void 0===t?void 0:t.subscriptionBenefit)||void 0===a?void 0:a.product),is_subd_sub_sold_out:!!h}))}}),[u,null==c?void 0:c.id,null===(t=null===(n=null==c?void 0:c.self)||void 0===n?void 0:n.subscriptionBenefit)||void 0===t?void 0:t.product,m,k,null==S?void 0:S.assetPosition,v,null==p?void 0:p.hasTurbo,h]),C=a.useRef(!1);return a.useEffect((function(){var e,n;if(!C.current&&!f&&d&&y&&(null==c?void 0:c.id)){if(m)_(s.w.Suppressed);else{if(k===r.dR0.ASSET){var t=document.createElement("img");return t.src=(g?null===(e=null==y?void 0:y.imageAsset)||void 0===e?void 0:e.darkModeURL:null===(n=null==y?void 0:y.imageAsset)||void 0===n?void 0:n.lightModeURL)||"",t.onerror=function(){_(s.w.Blocked)},t.onload=function(){_(s.w.Render)},function(){t.onload=null,t.onerror=null}}_(s.w.Render)}C.current=!0}}),[k,u,v,f,d,null==c?void 0:c.id,_,m,y,g]),{handleChannelSkinsAction:_}}},837576:function(e,n,t){"use strict";t.d(n,{L:function(){return o}});var i=t(783321),a=t(766139),r=t.n(a),o=function(){var e,n,t=(0,i.IT)(r()),a=t.data;return!t.loading&&(null===(n=null===(e=null==a?void 0:a.currentUser)||void 0===e?void 0:e.isChatHappeningNowEnabled)||void 0===n||n)}},804352:function(e,n,t){"use strict";t.d(n,{$:function(){return u}});var i=t(331635),a=t(296540),r=t(783321),o=t(766139),s=t.n(o),l=t(934916),d=t.n(l),u=function(){var e=(0,r.n_)(d(),{update:function(e,n){var t=n.data;if(null==t?void 0:t.setChatHappeningNowSettings){var a=e.readQuery({query:s()}),r=null==a?void 0:a.currentUser;if(!r)return;e.writeQuery({query:s(),data:{currentUser:(0,i.__assign)((0,i.__assign)({},r),{isChatHappeningNowEnabled:t.setChatHappeningNowSettings.isChatHappeningNowEnabled})}})}}})[0];return{setHappeningNowSettings:a.useCallback((function(n){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var t,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,e({variables:{input:{isChatHappeningNowEnabled:n}}})];case 1:return t=i.sent().data,[2,null===(a=null==t?void 0:t.setChatHappeningNowSettings)||void 0===a?void 0:a.isChatHappeningNowEnabled]}}))}))}),[e])}}},455987:function(e,n,t){"use strict";t.d(n,{Ee:function(){return r},FI:function(){return o},HK:function(){return u},Pi:function(){return i},Wn:function(){return l},sZ:function(){return s},yj:function(){return a},zQ:function(){return d}});var i=15,a="chat.has_interacted_with_full_screen_chat",r="chat.happening_now_hide_info",o="chat.has_seen_happening_now_settings",s={count:0,seenDisablePrompt:!1},l=3,d=5184e6,u=300},633097:function(e,n,t){"use strict";t.d(n,{S:function(){return m},g:function(){return p}});var i=t(296540),a=t(415044),r=t(452088),o=t(145748),s=t(982821),l=t(456450),d=t(131883),u=t(393315),c=t(552590),p="community-moments-rollout",m=function(e){var n=e.channelID,t=(0,a.d4)(d.wz),p=(0,o.D)((0,l.h)(n)),m=p[0],v=p[1],f=(0,i.useContext)(u.at).pushCallout;return(0,i.useEffect)((function(){var e,i,a;if(m&&!(null==v?void 0:v.error)&&n!==(null!==(e=null==t?void 0:t.id)&&void 0!==e?e:"")){var o,l=m;if(l.type===s.PD.CommunityMomentStart){var d={momentID:l.data.moment_id,type:c.o.CommunityMoment,userID:null!==(i=null==t?void 0:t.id)&&void 0!==i?i:null,userLogin:null!==(a=null==t?void 0:t.login)&&void 0!==a?a:null},u=r.Zn.get("community_moments_jitter_range_seconds",0),p=Math.floor(Math.random()*u*1e3);o=setTimeout((function(){f({key:l.data.moment_id,event:d})}),p)}return function(){return clearTimeout(o)}}(null==v?void 0:v.error)&&r.vF.errorAndReport(v.error,"Community Moments - Failed to register subscription to Community Moment Channel topic",n)}),[m,n,v,t,f]),null}},251184:function(e,n,t){"use strict";var i;t.d(n,{X:function(){return i}}),function(e){e[e.Text=0]="Text",e[e.ModeratedText=1]="ModeratedText",e[e.FlaggedSegment=2]="FlaggedSegment",e[e.CurrentUserHighlight=3]="CurrentUserHighlight",e[e.Mention=4]="Mention",e[e.Link=5]="Link",e[e.Emote=6]="Emote",e[e.ClipLink=7]="ClipLink",e[e.VideoLink=8]="VideoLink"}(i||(i={}))},315320:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var i=t(452088),a=t(407827),r=t(630193),o=t(178196),s=t(496228),l=t(718482),d=({API_BASE_URL:void 0,CDN_URL:"https://assets.twitch.tv/",GQL_BASE_URL:void 0,PASSPORT_BASE_URL:void 0,INTERPOL_BASE_URL:void 0,PUBSUB_ENV:void 0,TMI_BASE_URL:void 0,MANIFEST_URL:"https://assets.twitch.tv/config/manifest.json?v=1",NODE_ENV:"production",PLAYER_BASE_URL:"https://player.twitch.tv",SITE_NAME:void 0,IS_DEV_BUILD:!1,IS_STAGING_BUILD:!1,IS_LOCAL_DEVSERVER:!1}.IS_MOBILE_PORTAL||a.x.wrap((function(){return Promise.all([t.e(4660),t.e(15979),t.e(79254)]).then(t.bind(t,865097))}),"CheckoutSuccessModal"),{API_BASE_URL:void 0,CDN_URL:"https://assets.twitch.tv/",GQL_BASE_URL:void 0,PASSPORT_BASE_URL:void 0,INTERPOL_BASE_URL:void 0,PUBSUB_ENV:void 0,TMI_BASE_URL:void 0,MANIFEST_URL:"https://assets.twitch.tv/config/manifest.json?v=1",NODE_ENV:"production",PLAYER_BASE_URL:"https://player.twitch.tv",SITE_NAME:void 0,IS_DEV_BUILD:!1,IS_STAGING_BUILD:!1,IS_LOCAL_DEVSERVER:!1}.IS_MOBILE_PORTAL?function(){throw Error("NotSupported")}:a.x.wrap((function(){return Promise.all([t.e(7595),t.e(1956),t.e(84427),t.e(21050),t.e(55152),t.e(21745),t.e(98922),t.e(64498),t.e(14954),t.e(27047),t.e(57013),t.e(16001),t.e(33768),t.e(97201),t.e(4660),t.e(72627),t.e(15979),t.e(97943),t.e(79782),t.e(74548),t.e(98042),t.e(53412)]).then(t.bind(t,725735))}),"CheckoutModal")),u="core.ui.CHECKOUT_SHOWN";function c(e){if((0,r.W)()){try{l.Jv(),function(e){if(!e.productName)return void i.vF.warn("No productName provided");var n=new URL("https://www.twitch.tv/products/".concat(e.productName));e.recipientLogin?n.searchParams.append("recipient",e.recipientLogin):e.mysteryGiftCount?n.searchParams.append("gift_count",e.mysteryGiftCount.toString()):e.multiMonthGiftAmount&&n.searchParams.append("months",e.multiMonthGiftAmount.toString());e.isAnonymous&&n.searchParams.append("is_anonymous",e.isAnonymous.toString());e.isOneTimePurchase&&n.searchParams.append("is_one_time_purchase",e.isOneTimePurchase.toString());window.open(n.toString(),"_blank")}(e)}catch(e){(0,s.nF)()?i.vF.warn("Failed to open subscription checkout externally"):i.vF.errorAndReport(e,"Failed to open subscription checkout externally")}return function(e){e({type:u})}}return function(n){n((0,o.to)(d,e))}}},752179:function(e,n,t){"use strict";t.d(n,{T:function(){return a}});var i=t(337930),a=function(){return(0,i.fX)("cat-mouse-food-event")}},942950:function(e,n,t){"use strict";t.d(n,{y:function(){return a}});var i=t(267924),a=function(e){return e.assets.filter((function(e){return e.type===i.p4J.RECOMPOSED})).sort((function(e,n){return new Date(n.createdAt).getTime()-new Date(e.createdAt).getTime()}))[0]||null}},157682:function(e,n,t){"use strict";t.d(n,{u:function(){return a}});var i=t(267924),a=function(e){return e.assets.filter((function(e){return e.type===i.p4J.SOURCE})).sort((function(e,n){return new Date(n.createdAt).getTime()-new Date(e.createdAt).getTime()}))[0]||null}},158508:function(e,n,t){"use strict";t.d(n,{Q:function(){return d}});var i=t(331635),a=t(296540),r=t(452088),o=t(942950),s=t(157682),l=t(308685),d=function(){var e=(0,l.C)();return{track:(0,a.useCallback)((function(n){var t=u(n,e),a=(0,i.__assign)((0,i.__assign)({},e),t);r.E5.track("clip_workflow_click",a)}),[e])}},u=function(e,n){var t,a,r,l,d,u,c,p,m,v,f,g,h,y,k,S="clip"in e?function(e){var n,t,i,a,r=(0,s.u)(e),l=(0,o.y)(e);return{clip_slug:e.slug,channel_id:(null===(n=e.broadcaster)||void 0===n?void 0:n.id)||"",broadcast_id:(null===(t=e.broadcast)||void 0===t?void 0:t.id)||null,vod_id:(null===(i=e.video)||void 0===i?void 0:i.id)||null,clip_asset_id:null!==(a=(null==l?void 0:l.id)||(null==r?void 0:r.id))&&void 0!==a?a:null}}(e.clip):{clip_slug:null,channel_id:e.channelID||"",broadcast_id:null!==(t=e.broadcastID)&&void 0!==t?t:null,vod_id:null!==(a=e.vodID)&&void 0!==a?a:null,clip_asset_id:e.clipAssetID||null},_={clip_editor_step:null!==(r=e.clipEditorStep)&&void 0!==r?r:null,clip_editor_ingress:null!==(l=e.clipEditorIngress)&&void 0!==l?l:null,clip_editor_session_id:null!==(d=e.clipEditorSessionID)&&void 0!==d?d:null,raw_media_id:null!==(u=e.rawMediaID)&&void 0!==u?u:null,clip_workflow:null!==(p=null!==(c=e.clipWorkflow)&&void 0!==c?c:n.clip_workflow)&&void 0!==p?p:null,location:null!==(v=null!==(m=e.location)&&void 0!==m?m:n.location)&&void 0!==v?v:null,user_id_selected:null!==(f=e.userIDSelected)&&void 0!==f?f:null,target_user_id:null!==(g=e.targetUserID)&&void 0!==g?g:null,clip_slug:null!==(y=null!==(h=S.clip_slug)&&void 0!==h?h:e.clipSlug)&&void 0!==y?y:null};return(0,i.__assign)((0,i.__assign)((0,i.__assign)({},S),_),{action:e.action,action_details:null!==(k=e.actionDetails)&&void 0!==k?k:null})}},551283:function(e,n,t){"use strict";var i;t.d(n,{U:function(){return i}}),function(e){e.CreateClip="clip",e.ShrinkToFit="shrink_to_fit",e.ExpandToFit="expand_to_fit",e.TitleClip="title",e.CancelClip="cancel",e.CancelClipEdits="cancel_clip_edits",e.SaveClip="save",e.FeatureClip="feature",e.UnfeatureClip="unfeature",e.ShareClipInChatCheck="share_clip_in_chat_check",e.ShareClipInChatUncheck="share_clip_in_chat_uncheck",e.VideoTrim="video_trim",e.VideoPause="video_pause",e.VideoMute="video_mute",e.VideoAdjustVolume="video_adjust_volume",e.VideoPlay="video_play",e.VideoSeekLeft="video_seek_left",e.VideoSeekRight="video_seek_right",e.CancelClipConfirm="cancel_confirm",e.CancelClipContinueEditing="cancel_continue_editing",e.CancelClipEditsConfirm="cancel_clip_edits_confirm",e.CancelClipEditsContinueEditing="cancel_clip_edits_continue_editing",e.EditPortraitLayout="edit_portrait_layout",e.ExitClipCreationFtue="exit_clip_creation_ftue",e.AlertOverwriteClipYes="alert_overwrite_clip_yes",e.AlertOverwriteClipNo="alert_overwrite_clip_no",e.ErrorUnableToRenderClipOkay="error_unable_to_render_clip_okay",e.ErrorUnableToSaveEditsCancelEditing="error_unable_to_save_edits_cancel_editing",e.EditPortraitLayoutNagEditPortraitLayout="edit_portrait_layout_nag_edit_portrait_layout",e.EditPortraitLayoutNagDismiss="edit_portrait_layout_nag_dismiss",e.LeaveCreationFlowModalKeepEditing="leave_creation_flow_modal_keep_editing",e.LeaveCreationFlowModalDiscardClip="leave_creation_flow_modal_discard_clip",e.SaveQuickCreate="save_quick_create",e.InitiateExportYoutube="initiate_export_youtube",e.InitiateExportTiktok="initiate_export_tiktok",e.InitiateExportInstagram="initiate_export_instagram",e.DownloadSourceClip="download_source_clip",e.DownloadPortraitClip="download_portrait_clip",e.DownloadAcknowledgeError="download_acknowledge_error",e.Edit="edit",e.CopyLink="copy_link",e.ShareX="share_x",e.ShareFacebook="share_facebook",e.ShareReddit="share_reddit",e.CopyEmbedLink="copy_embed_link",e.Delete="delete",e.ConfirmDelete="confirm_delete",e.CancelDelete="cancel_delete",e.ExitClipPublishedFtue="exit_clip_published_ftue",e.StackedTemplateSelect="stacked_template_select",e.FullTemplateSelect="full_template_select",e.StackedTemplateResizeGameplay="stacked_template_resize_gameplay",e.StackedTemplateAspectRatioSlider="stacked_template_aspect_ratio_slider",e.StackedTemplateResizeFace="stacked_template_resize_face",e.StackedTemplateMoveGameplay="stacked_template_move_gameplay",e.StackedTemplateMoveFace="stacked_template_move_face",e.FullTemplateResize="full_template_resize",e.FullTemplateMove="full_template_move",e.Apply="apply",e.Cancel="cancel",e.YoutubeTitle="youtube_title",e.YoutubeDescription="youtube_description",e.YoutubePrivacy="youtube_privacy",e.YoutubeConnect="youtube_connect",e.YoutubeExport="youtube_export",e.YoutubeEditorConnect="youtube_editor_connect",e.YoutubeExportClipReshare="youtube_export_clip_reshare",e.YoutubeExportClipUrl="youtube_export_clip_url",e.TiktokTitle="tiktok_title",e.TiktokPrivacy="tiktok_privacy",e.TiktokAllowCommentsCheck="tiktok_allow_comments_check",e.TiktokAllowCommentsUncheck="tiktok_allow_comments_uncheck",e.TiktokAllowDuetCheck="tiktok_allow_duet_check",e.TiktokAllowDuetUncheck="tiktok_allow_duet_uncheck",e.TiktokAllowStitchCheck="tiktok_allow_stitch_check",e.TiktokAllowStitchUncheck="tiktok_allow_stitch_uncheck",e.TiktokConnect="tiktok_connect",e.TiktokSaveDraft="tiktok_save_draft",e.TiktokExport="tiktok_export",e.TiktokExportClipReshare="tiktok_export_clip_reshare",e.TiktokExportClipUrl="tiktok_export_clip_url",e.TiktokConnectRetry="tiktok_connect_retry",e.TiktokEditorConnect="tiktok_editor_connect",e.InstagramCaption="instagram_caption",e.InstagramShowReelOnFeedCheck="instagram_show_reel_on_feed_check",e.InstagramShowReelOnFeedUncheck="instagram_show_reel_on_feed_uncheck",e.InstagramConnect="instagram_connect",e.InstagramCloseConnectionWarning="instagram_close_connection_warning",e.InstagramExport="instagram_export",e.InstagramEditorConnect="instagram_editor_connect",e.InstagramEditorConnectDismiss="instagram_editor_connect_dismiss",e.InstagramExportClipReshare="instagram_export_clip_reshare",e.InstagramExportClipUrl="instagram_export_clip_url",e.Download="download",e.ShareMenu="share_menu",e.CollabWithClick="collab_with_click",e.ModerationMenu="moderation_menu",e.WatchOnClipsPageIcon="watch_on_clips_page_icon",e.SelectIndividualClip="select_individual_clip",e.SelectAllClips="select_all_clips",e.SortByTime="sort_by_time",e.SortByViews="sort_by_views",e.FilterByCategory="filter_by_category",e.FilterByType="filter_by_type",e.FilterByTime="filter_by_time",e.ExpandRow="expand_row",e.CollapseRow="collapse_row",e.ExportViaPortraitClipPreview="export_via_portrait_clip_preview",e.ShareToStories="share_to_stories",e.ModerationTimeoutUser="moderation_timeout_user",e.ModerationBanUser="moderation_ban_user",e.ModerationDeleteAllClipsFromVideo="moderation_delete_all_clips_from_video",e.KebabMenu="kebab_menu",e.ErrorCancelEditingDueToChannelOwnerUsage="error_cancel_editing_due_to_channel_owner_usage",e.ErrorEditUnauthorized="error_edit_unauthorized",e.FilterDropdown="filter_dropdown",e.FilterByCategorySelect="filter_by_category_select",e.FilterByCategoryDeselect="filter_by_category_deselect",e.FilterByChannelSelect="filter_by_channel_select",e.FilterByChannelDeselect="filter_by_channel_deselect",e.FilterClipCreatorSelect="filter_clip_creator_select",e.FilterClipCreatorDeselect="filter_clip_creator_deselect",e.FilterOnlyFeaturedClipsOn="filter_only_featured_clips_on",e.FilterOnlyFeaturedClipsOff="filter_only_featured_clips_off",e.SearchBarFocusCategory="search_bar_focus_category",e.SearchBarFocusChannel="search_bar_focus_channel",e.PlayClip="play_clip",e.Feature="feature",e.Unfeature="unfeature",e.ChannelName="channel_name",e.CategoryName="category_name",e.ResetFilters="reset_filters",e.CarouselRight="carousel_right",e.CarouselLeft="carousel_left",e.ViewOnClipPage="view_on_clip_page",e.DeletePrompt="delete_prompt",e.Report="report",e.ViewAllClips="view_all_clips",e.YoutubeSelect="youtube_select",e.TiktokSelect="tiktok_select",e.InstagramSelect="instagram_select"}(i||(i={}))},308685:function(e,n,t){"use strict";t.d(n,{C:function(){return l}});var i=t(296540),a=t(452088),r=t(961420),o=t(131883),s=t(752179),l=function(){var e,n=(0,r.QN)(o.wz),t=(0,r.QN)(o.Ul),l=null==n?void 0:n.id,d=a.x2.session.pageviewID,u=(null===(e=a.E5.getLastPageview())||void 0===e?void 0:e.location)||"",c=["sunlight/content/clips/channel","sunlight/content/clips/created"].includes(u);return(0,i.useMemo)((function(){return{language:t,user_id:l||"",page_session_id:d,location:u,clip_workflow:(0,s.T)()&&c?"clips_manager":void 0}}),[c,t,d,u,l])}},235366:function(e,n,t){"use strict";t.d(n,{Cv:function(){return u},L$:function(){return d},NC:function(){return c},p6:function(){return l}});var i=t(882439),a=t(452088),r=t(465823),o=t(407310),s="clips_target";function l(e){switch(e){case"CAN_CREATE_CLIP_NOT_SUBSCRIBED":case"CATEGORY_NOT_CLIPPABLE":case"FOLLOWING_LENGTH_REQUIREMENT_NOT_MET":case"USER_NOT_FOLLOWING":return!0;default:return!1}}function d(e){switch(e){case"CAN_CREATE_CLIP_NOT_SUBSCRIBED":case"CATEGORY_NOT_CLIPPABLE":case"FOLLOWING_LENGTH_REQUIREMENT_NOT_MET":case"USER_NOT_FOLLOWING":case"DJ_CATEGORY_NOT_CLIPPABLE":case"PARTICIPATING_DJ":return!0;default:return!1}}function u(e,n){if(!e)return(0,a.hw)("Clip ({clipKey}+x)",{clipKey:p()},"ClipsButtonComponent");if("FOLLOWING_LENGTH_REQUIREMENT_NOT_MET"===e)switch(n){case 10:return(0,a.hw)("Follow for 10m to clip","ClipsButtonComponent");case 30:return(0,a.hw)("Follow for 30m to clip","ClipsButtonComponent");case 60:return(0,a.hw)("Follow for 1h to clip","ClipsButtonComponent");case 1440:return(0,a.hw)("Follow for 1d to clip","ClipsButtonComponent");case 10080:return(0,a.hw)("Follow for 1w to clip","ClipsButtonComponent");case 43200:return(0,a.hw)("Follow for 1 month to clip","ClipsButtonComponent");case 129600:return(0,a.hw)("Follow for 3 months to clip","ClipsButtonComponent");default:return(0,a.hw)("Following length requirement not met","ClipsButtonComponent")}switch(e){case"CAN_CREATE_CLIP_NOT_SUBSCRIBED":return(0,a.hw)("Subscribe to clip","ClipsButtonComponent");case"CATEGORY_NOT_CLIPPABLE":return(0,a.hw)("This channel does not permit clips of this category.","ClipsButtonComponent");case"USER_NOT_FOLLOWING":return(0,a.hw)("Follow to clip","ClipsButtonComponent");case"DJ_CATEGORY_NOT_CLIPPABLE":return(0,a.hw)("DJ category can't be clipped.","ClipsButtonComponent");case"PARTICIPATING_DJ":return(0,a.hw)("DJ channels can't be clipped.","ClipsButtonComponent");default:return""}}var c=function(e){var n=e.broadcastID,t=e.broadcasterLogin,a=e.offsetSeconds,o=e.vodID,l=window.location.origin,d=window.location.search,u=window.open("","_blank"),c=function(e,n){return/\/\/(www|dashboard|player|embed|go|canary|rc|.*\.rc|.*\.canary)\.twitch\.tv/.test(e)?"https://clips.twitch.tv":n[s]?"https://clips-".concat(n[s],".twitch.tv"):n.clips_use_localhost?"http://localhost.twitch.tech:8080":/\/\/pr\d{5}\.twitch\.tech/.test(e)?"https://clips-".concat(e.replace("https://","")):/\/\/betaplayer\.twitch\.tv/.test(e)?"https://clips-alpha.twitch.tv":(0,r.Ri)("clips-staging","string")||"https://clips-main.twitch.tech"}(l,(0,i.parse)(d)),p={offsetSeconds:a,broadcastID:n,broadcasterLogin:t||void 0,vodID:o};c="".concat(c,"/create?").concat(i.stringify(p)),u?u.location.href=c:window.open(c,"_blank")};function p(){return o.j.os.isMacOS()?"":"alt"}},584548:function(e,n,t){"use strict";t.d(n,{L:function(){return d},q:function(){return l}});var i=t(331635),a=t(452088),r=t(783321),o=t(390844),s=t.n(o),l=function(e){var n,t=(0,r.IT)(s(),{variables:{id:e},skip:!e}).data;return null===(n=null==t?void 0:t.user)||void 0===n?void 0:n.login},d=function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n,t,r;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,a.x2.apollo.client.query({query:s(),variables:{id:e}})];case 1:return n=i.sent(),[2,null===(r=null===(t=n.data)||void 0===t?void 0:t.user)||void 0===r?void 0:r.login]}}))}))}},269964:function(e,n,t){"use strict";t.d(n,{Ay:function(){return o},No:function(){return a},P5:function(){return l},Z_:function(){return r},ei:function(){return d},mM:function(){return u},v1:function(){return s}});var i=t(267924),a="pinned-cheer-colors",r=function(e,n){var t=e.slice(),i=t.findIndex((function(e){return e.id===n}));return i>-1&&t.splice(i,1),t},o=function(e){return e.endsAt?new Date(e.endsAt).getTime()-Date.now():0},s=function(e){if(!e.endsAt)return 0;var n=new Date(e.startsAt).getTime(),t=new Date(e.endsAt).getTime(),i=t-n;return(t-Date.now())/i*100},l=function(e){if(e<=0)return"0:00";var n=Math.floor(e/1e3),t=Math.floor(n/3600),i=Math.floor(n%3600/60),a=n%60,r=t>0?"".concat(String(t).padStart(1,"0"),":"):"",o="".concat(String(i).padStart(t>0?2:1,"0"),":"),s=String(a).padStart(2,"0");return"".concat(r).concat(o).concat(s)},d=function(e){var n=e&&e!==i.x5_.UNKNOWN?e:i.x5_.ONE;return[a,"".concat(a,"-level-").concat(n.toLowerCase())]},u=function(e){if(!e)return i.x5_.UNKNOWN;switch(e){case"ONE":return i.x5_.ONE;case"TWO":return i.x5_.TWO;case"THREE":return i.x5_.THREE;case"FOUR":return i.x5_.FOUR;case"FIVE":return i.x5_.FIVE;case"SIX":return i.x5_.SIX;case"SEVEN":return i.x5_.SEVEN;case"EIGHT":return i.x5_.EIGHT;default:return i.x5_.UNKNOWN}}},66724:function(e,n,t){"use strict";var i;t.d(n,{D7:function(){return i},qK:function(){return a},wu:function(){return r}}),function(e){e.Loading="pbyp_loading",e.Playing="pbyp_playing",e.Paused="pbyp_paused",e.Unavailable="pbyp_unavailable"}(i||(i={}));var a="p_by_p_adstart_show_player",r=new Map([["515214","Politics"],["116747788","Pools, Hot Tubs, and Beaches"],["498566","Slots"],["493887283","Casino"],["29452","Virtual Casino"],["498592","I'm only sleeping"],["509659","ASMR"],["1109340850","Weed Shop 3"],["27921","Dragon Age II"],["1076084581","Kingdoms of Amalur: Re-Reckoning"],["656954215","Leisure Suit Larry: Wet Dreams Don't Cry"],["190657827","OnlyCans: Thirst Date"],["1402669719","OnlyCans: Thirst Date (second game id)"],["513794","Apsulov: End of Gods"],["106662","The Cat Lady"],["357396995","Abyss of Neptune"],["512047","Struggling"],["77223888-8535-4614-974b-b1b2673456eb","Visual ASMR"],["64d9afa6-139a-48d5-ab4e-51d0a92b22de","Auditory ASMR"]])},787004:function(e,n,t){"use strict";t.d(n,{FO:function(){return y},YJ:function(){return _},dC:function(){return k}});var i,a=t(331635),r=t(474848),o=t(296540),s=t(868238),l=t(452088),d=t(805450),u=t(337930),c=t(485272),p=t(424749),m=t(436617),v=t(21824),f=t(726280),g=t(118483),h=t(66724),y=(i=(0,m.e)("PictureByPictureContext",{onChannelChange:function(){return null},onMainPlayerContentRestricted:function(){return null},onMainPlayerContentClassificationChange:function(){return null},onMainPlayerPlay:function(){return null},onMainPlayerPause:function(){return null},onMainPlayerAdPodStart:function(){return null},onMainPlayerAdPodEnd:function(){return null},onMainPlayerInit:function(){return null},onMainPlayerHLSTrigger:function(){return null},setReady:function(){return null},setIsShowing:function(){return null},setIsShowingTurboAdsUpsell:function(){return null},setTriggerAfterAdBreakTurboUpsell:function(){return null},getMainPlayerMetadata:function(){return{playSessionId:""}},isEligible:!1,isShowing:!1,isReady:!1,isStitched:!1,isRestricted:!1,hasContentClassificationGate:!1,preflight:null,status:h.D7.Unavailable,rollType:null,adSessionID:null,isShowingTurboAdsUpsell:!1,triggerAfterAdBreakTurboUpsell:!1},(function(e){return{pictureByPicturePlayerContext:e}}))).context,k=i.withMemoContext,S=function(e){function n(n){var t=e.call(this,n)||this;return t.logger=l.vF.withCategory("picture-by-picture-context"),t.setReady=function(e){t.setState({isReady:e})},t.setIsShowing=function(e){t.setState({isShowing:e})},t.setIsShowingTurboAdsUpsell=function(e){t.setState({isShowingTurboAdsUpsell:e})},t.setTriggerAfterAdBreakTurboUpsell=function(e){t.setState({triggerAfterAdBreakTurboUpsell:e})},t.onChannelChange=function(){t.logger.debug("pbyp player detected a channel change, reset isRestricted"),t.setState({isRestricted:!1})},t.onMainPlayerContentRestricted=function(){t.logger.debug("content restricted from pbyp context"),t.setState({isRestricted:!0})},t.onMainPlayerContentClassificationChange=function(e){var n=(0,p.cJ)(e);t.logger.debug("content classification change from pbyp context, should display gate:",n),t.setState({hasContentClassificationGate:n})},t.onMainPlayerPause=function(){t.logger.debug("pausing from pbyp context"),t.setState({status:h.D7.Paused})},t.onMainPlayerPlay=function(){t.logger.debug("playing from pbyp context"),t.setState({status:h.D7.Playing,isRestricted:!1})},t.onMainPlayerAdPodStart=function(e){var n=e.stitched,i=e.content,a=e.roll,r=e.sessionID,o=t.state.isReady,s=(0,u.fX)(h.qK),l=e.adFormat&&(0,c.ZJ)(e.adFormat);if(s&&(0,g.DG)(i)&&(a===f.d.Mid||a===f.d.Pre)&&!l){t.logger.debug("".concat("".concat(n?"stitched":"","adstart")," detected of rollType ").concat(a));var d=o;t.setState({isShowing:d,isStitched:n,rollType:a,adSessionID:r||"",isShowingTurboAdsUpsell:!0})}},t.onMainPlayerAdPodEnd=function(e){var n=e.stitched,i=e.roll;t.logger.debug("".concat("".concat(n?"stitched":"","adend")," detected of rollType ").concat(i)),t.setState({isShowing:!1,isStitched:n,rollType:null,adSessionID:null,isShowingTurboAdsUpsell:!1,triggerAfterAdBreakTurboUpsell:!0})},t.onMainPlayerInit=function(e){t.api=e},t.onMainPlayerHLSTrigger=function(e){t.setState({preflight:e})},t.getMainPlayerMetadata=function(){return t.api?t.api.getPlayerMetadata():v.S5},t.state={onChannelChange:t.onChannelChange,onMainPlayerContentRestricted:t.onMainPlayerContentRestricted,onMainPlayerContentClassificationChange:t.onMainPlayerContentClassificationChange,onMainPlayerPause:t.onMainPlayerPause,onMainPlayerPlay:t.onMainPlayerPlay,onMainPlayerAdPodStart:t.onMainPlayerAdPodStart,onMainPlayerAdPodEnd:t.onMainPlayerAdPodEnd,onMainPlayerInit:t.onMainPlayerInit,onMainPlayerHLSTrigger:t.onMainPlayerHLSTrigger,getMainPlayerMetadata:t.getMainPlayerMetadata,setReady:t.setReady,setIsShowing:t.setIsShowing,setIsShowingTurboAdsUpsell:t.setIsShowingTurboAdsUpsell,setTriggerAfterAdBreakTurboUpsell:t.setTriggerAfterAdBreakTurboUpsell,isEligible:!0,isShowing:!1,isStitched:!1,isReady:!1,isRestricted:!1,hasContentClassificationGate:!1,preflight:null,status:h.D7.Loading,rollType:null,adSessionID:null,isShowingTurboAdsUpsell:!1,triggerAfterAdBreakTurboUpsell:!1},t}return(0,a.__extends)(n,e),n.prototype.render=function(){return(0,r.jsx)(y.Provider,{value:this.state,children:this.props.children})},n}(o.Component),_=(0,s.Zz)((0,d.X)({name:"PictureByPictureContextManager"}))(S)},631077:function(e,n,t){"use strict";t.d(n,{m:function(){return p}});var i=t(474848),a=t(959340),r=t(914421),o=t(312663),s=t(588702),l=t(564368),d=(t(296540),t(982742)),u=t(452088),c=t(279610),p=function(e){return(0,i.jsxs)(a.P,{background:r.VS.Base,padding:2,children:[(0,i.jsx)(o.N,{bold:!0,type:s.M2.H4,children:(0,c.H)(e.channelLogin)}),(0,i.jsx)(a.P,{margin:{y:1},children:(0,i.jsx)(o.N,{children:(0,u.hw)("Proceed to file a report, or log in to see more options.","DSAModal")})}),(0,i.jsxs)(a.P,{display:r.nl.Flex,children:[(0,i.jsx)(a.P,{padding:{right:1},children:(0,i.jsx)(l.$n,{onClick:e.login,children:(0,u.hw)("Log In","DSAModal")})}),(0,i.jsx)(a.P,{children:(0,i.jsx)(l.$n,{variant:l.VQ.Secondary,onClick:function(){return e.showReportUserModal(e)},children:(0,u.hw)("File a Report","DSAModal")})})]}),(0,i.jsx)(d.w,{})]})}},120605:function(e,n,t){"use strict";t.d(n,{Z:function(){return b}});var i=t(331635),a=t(415044),r=t(868238),o=t(928778),s=t(681685),l=t(178196),d=t(369624),u=t(131883),c=t(576828),p=t(631077),m=t(474848),v=t(912800),f=t(368972),g=t(296540),h=t(584548),y=t(279610),k=t(69403),S="report-button-report-button",_=t(676233),C=t.n(_);var b=(0,r.Zz)((0,a.Ng)((function(e){return{isLoggedIn:(0,u.M3)(e)}}),(function(e){return(0,r.zH)({login:function(){return(0,d.iD)(s.W.ReportChannel)},showReportUserModal:function(e){var n=(0,i.__rest)(e,[]);return(0,l.to)(c.Z,n)},showDSAPreloginModal:function(e){var n=(0,i.__rest)(e,[]);return(0,l.to)(p.m,n)}},e)})),(0,o._v)(C(),{options:function(e){return{fetchPolicy:"network-only",variables:{channelID:e.channelID}}}}))((function(e){var n,t,a,r,o,s=e.isLoggedIn,l=e.showReportUserModal,d=e.showDSAPreloginModal,u=e.channelLogin,c=e.channelID,p=e.onModalClose,_=e.onClick,C=e.reportContext,b=e.login,P=e.hideIcon,x=e.labelOverride,E=e.data,A=null===(n=E.requestInfo)||void 0===n?void 0:n.countryCode,N=!!(null===(a=null===(t=E.user)||void 0===t?void 0:t.stream)||void 0===a?void 0:a.createdAt),w=null!==(o=null!==(r=(0,h.q)(c))&&void 0!==r?r:u)&&void 0!==o?o:"",T=g.useMemo((function(){return(0,i.__assign)({isLivestreaming:N,targetUserID:c},C)}),[c,N,C]),I=g.useCallback((function(e){s?l({onClose:p,reportContext:T}):!s&&(0,k.P)(A)?d({onClose:p,reportContext:T,login:b,showReportUserModal:l,canSkipLogin:!0,channelLogin:w}):b(),null==_||_(e)}),[s,A,_,l,p,T,d,b,w]),D=P?void 0:{icon:v.t.Report},O=x||(0,y.H)(w,null==C?void 0:C.contentType);return(0,m.jsx)(f.i,{label:O,"aria-label":O,onClick:I,figure:D,"data-a-target":S})}))},279610:function(e,n,t){"use strict";t.d(n,{H:function(){return r}});var i=t(452088),a=t(267924),r=function(e,n){switch(n){case a.Cah.BITS_BADGE_REPORT:return(0,i.hw)("Report Bits Badge","ReportMenuItem");case a.Cah.CHANNEL_FEED_COMMENT_REPORT:return(0,i.hw)("Report Channel Feed Comment","ReportMenuItem");case a.Cah.CHANNEL_FEED_POST_REPORT:return(0,i.hw)("Report Channel Feed Post","ReportMenuItem");case a.Cah.CHAT_REPORT:return(0,i.hw)("Report Chat","ReportMenuItem");case a.Cah.CHANNEL_POINTS_REPORT:return(0,i.hw)("Report Rewards","ReportMenuItem");case a.Cah.CLIP_REPORT:return(0,i.hw)("Report Clip","ReportMenuItem");case a.Cah.COLLECTION_REPORT:return(0,i.hw)("Report Collection","ReportMenuItem");case a.Cah.CREATOR_GOAL_REPORT:return(0,i.hw)("Report Creator Goal","ReportMenuItem");case a.Cah.EMOTE_REPORT:return(0,i.hw)("Report Emote","ReportMenuItem");case a.Cah.EVENT_REPORT:return(0,i.hw)("Report Event","ReportMenuItem");case a.Cah.EXTENSION_REPORT:return(0,i.hw)("Report Extension","ReportMenuItem");case a.Cah.LIVE_UP_REPORT:return(0,i.hw)("Report Live Up Notification","ReportMenuItem");case a.Cah.LIVESTREAM_REPORT:return(0,i.hw)("Report Live Stream","ReportMenuItem");case a.Cah.OFF_PLATFORM_REPORT:return(0,i.hw)("Report Off Platform Behavior","ReportMenuItem");case a.Cah.POLL_REPORT:return(0,i.hw)("Report Poll","ReportMenuItem");case a.Cah.RAID_REPORT:return(0,i.hw)("Report Raid","ReportMenuItem");case a.Cah.REWARD_REDEMPTION_REPORT:return(0,i.hw)("Report Reward Redemption","ReportMenuItem");case a.Cah.SUB_BADGE_REPORT:return(0,i.hw)("Report Subscriber Badge","ReportMenuItem");case a.Cah.UNBAN_REQUEST_REPORT:return(0,i.hw)("Report Unban Request","ReportMenuItem");case a.Cah.USERNAME_REPORT:return(0,i.hw)("Report Username","ReportMenuItem");case a.Cah.USER_REPORT:return(0,i.hw)("Report User","ReportMenuItem");case a.Cah.VOD_COMMENT_REPORT:return(0,i.hw)("Report VOD Comment","ReportMenuItem");case a.Cah.VOD_REPORT:return(0,i.hw)("Report VOD","ReportMenuItem");case a.Cah.WHISPER_REPORT:return(0,i.hw)("Report Whisper","ReportMenuItem");case a.Cah.MODERATOR_STRIKE_REASON:return(0,i.hw)("Report Reason from Moderator","ReportMenuItem");default:return(0,i.hw)("Report {channelLogin}",{channelLogin:e},"ReportMenuItem")}}},576828:function(e,n,t){"use strict";t.d(n,{OW:function(){return r},Z:function(){return a}});var i=t(407827),a=i.x.wrap((function(){return t.e(2435).then(t.bind(t,499475))}),"ReportUserModal"),r=i.x.wrap((function(){return Promise.all([t.e(29747),t.e(57420),t.e(53583)]).then(t.bind(t,783305))}),"ReportWizardNew")},245764:function(e,n,t){"use strict";t.d(n,{b:function(){return a},d:function(){return i}});var i=function(e,n){var t=n;return 1===(null==e?void 0:e.reportableContent.length)&&(t.content=e.reportableContent[0].type),t},a=new Set(["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GR","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK","IS","LI","NO"])},69403:function(e,n,t){"use strict";t.d(n,{P:function(){return r}});var i=t(452088),a=t(245764),r=function(e){var n=i.Zn.get("lor_auuk_enable",!1);return a.b.has(e)||n&&(function(e){return"GB"===e}(e)||function(e){return"AU"===e}(e))}},957573:function(e,n,t){"use strict";t.d(n,{CO:function(){return s},lN:function(){return d},pJ:function(){return o},pb:function(){return l},r3:function(){return p},rV:function(){return u},rW:function(){return m},xo:function(){return v}});var i=t(331635),a=t(452088),r=t(576852),o=999,s="twch",l="sm_w_tup_ntp_t_c",d="sm_w_tup_epg_t_c",u="sm_om_tpltp",c=a.vF.withCategory("PrimeUtilsLogger"),p=function(e,n,t,i){var r=a.$W.tryPrimeURI,o="";try{o=btoa(n)}catch(e){c.errorAndReport(e,"Could not decode location pathname substring for redirect")}var s={};return o&&(s.redirectRoute=o),t&&(s.twitchReferral=t),!e&&i&&("upsell"===i?e=l:"explore"===i?e=d:"sign"===i&&(e="sm_w_tup_am_psc_c")),s.ref_=e,v(r,s)},m=function(e,n){if(e)return v(e,{yTwchPos:"".concat(null!=n?n:o)})},v=function(e,n){var t=(0,i.__assign)((0,i.__assign)({},n),{ingress:s});return(0,r.tX)(e,t)}},945137:function(e,n,t){"use strict";t.d(n,{U0:function(){return o},zX:function(){return s}});var i=t(331635),a=t(474848),r=(0,t(25006).vt)()((function(e){return{isTurboSDAUpsellShowing:!1,displayTurboSDAUpsell:function(){return e((function(){return{isTurboSDAUpsellShowing:!0}}))},closeTurboSDAUpsell:function(){return e((function(){return{isTurboSDAUpsellShowing:!1}}))}}})),o=function(){var e=r();return(0,i.__assign)({},e)};function s(e){var n=function(n){var t=o();return(0,a.jsx)(e,(0,i.__assign)({},n,t))};return n.displayName="withUpsellState(".concat(e.displayName||e.name||"Component",")"),n}},730930:function(e,n,t){"use strict";t.d(n,{A:function(){return a},Q:function(){return i}});var i="video-player.VIDEO_PLAYER_INSTANCE_STARTED";function a(e){return{type:i,playerRefID:e}}},917601:function(e,n,t){"use strict";t.d(n,{G:function(){return c},H:function(){return p}});var i=t(296540),a=t(204870),r=t(447925),o=t(231273),s=t(457063),l=t(376347),d=t(207817),u=t(179405),c=864e5,p=function(){var e=(0,i.useContext)(o.$g),n=(0,i.useContext)(s.kl),t=n.behaviors&&n.behaviors.disableUserPreferencePersistence,p=e.mediaPlayerInstance,m=e.updateContext,v=e.quality,f=n.type,g=(0,i.useCallback)((function(){Date.now()-(0,u.Xz)(0)>=c&&p&&v===d.w&&(p.setAutoQualityMode(!0),m({quality:l._6.Auto,qualityBitrate:a.IJ.bitrate}),t||(0,u.XF)(a.IJ,f))}),[p,m,v,t,f]);return(0,r.p)("2020",g),null}},734830:function(e,n,t){"use strict";function i(e,n){var t={currSegment:null,prevSegment:null};if(!e||!n)return t;for(var i=e.length-1;i>=0;i--){if(a(e[i],n))return t.currSegment=e[i],t.prevSegment=e[i-1]||null,t;!t.prevSegment&&e[i].endOffset<=n&&(t.prevSegment=e[i])}return t}function a(e,n){return e.startOffset<=n&&n<=e.endOffset}function r(e,n){if(!e||!n)return!e&&!n;var t=e.segments,i=n.segments;return!((t||i)&&t!==i&&(!t||t.length||!i||i.length))||!(!t||!i||t.length!==i.length)&&t.every((function(e,n){var t=e.startOffset,a=e.endOffset,r=i[n],o=r.startOffset,s=r.endOffset;return t===o&&a===s}))}t.d(n,{F:function(){return r},y:function(){return i}})},992216:function(e,n,t){"use strict";t.d(n,{Nb:function(){return u}});var i=t(331635),a=t(296540),r=t(868238),o=t(107212),s=t(231273),l=t(954978),d=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleSeekCompleted=function(){var e=n.props.mediaPlayerInstance;if(e){var t=e.getPosition();n.props.onSeekComplete(t)}},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(l.a.SEEK_COMPLETED,this.handleSeekCompleted)},n.prototype.render=function(){return null},n}(a.Component),u=(0,r.Zz)((0,s.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,o.X)())(d)},982538:function(e,n,t){"use strict";t.d(n,{j:function(){return c}});var i=t(331635),a=t(296540),r=t(868238),o=t(192453),s=t(107212),l=t(231273),d=t(954978),u=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.timeInSecFloored=0,n.onTimeChanged=function(){var e=n.props.mediaPlayerInstance;if(e){var t=e.getPosition(),i=Math.floor(t);n.props.onTimeChanged&&n.props.onTimeChanged(t),i!==n.timeInSecFloored&&(n.props.onTimeSecondsChanged&&n.props.onTimeSecondsChanged(i),n.timeInSecFloored=i)}},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.throttleMilliseconds?(this.onTimeChangedThrottled=(0,o.n)(this.onTimeChanged,this.props.throttleMilliseconds,{leading:!1}),this.props.playerEvents.addEventListener(d.a.TIME_UPDATE,this.onTimeChangedThrottled)):this.props.playerEvents.addEventListener(d.a.TIME_UPDATE,this.onTimeChanged)},n.prototype.componentDidUpdate=function(e){e.throttleMilliseconds&&!this.props.throttleMilliseconds?(this.props.playerEvents.removeEventListener(d.a.TIME_UPDATE,this.onTimeChangedThrottled),this.onTimeChangedThrottled.cancel(),this.props.playerEvents.addEventListener(d.a.TIME_UPDATE,this.onTimeChanged)):!e.throttleMilliseconds&&this.props.throttleMilliseconds&&this.props.playerEvents.removeEventListener(d.a.TIME_UPDATE,this.onTimeChanged),this.props.throttleMilliseconds&&e.throttleMilliseconds!==this.props.throttleMilliseconds&&(e.throttleMilliseconds&&(this.props.playerEvents.removeEventListener(d.a.TIME_UPDATE,this.onTimeChangedThrottled),this.onTimeChangedThrottled.cancel()),this.onTimeChangedThrottled=(0,o.n)(this.onTimeChanged,this.props.throttleMilliseconds,{leading:!1}),this.props.playerEvents.addEventListener(d.a.TIME_UPDATE,this.onTimeChangedThrottled))},n.prototype.componentWillUnmount=function(){this.onTimeChangedThrottled&&(this.props.playerEvents.removeEventListener(d.a.TIME_UPDATE,this.onTimeChangedThrottled),this.onTimeChangedThrottled.cancel())},n.prototype.render=function(){return null},n}(a.Component),c=(0,r.Zz)((0,l.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,s.X)())(u)},811202:function(e,n,t){"use strict";t.d(n,{A$:function(){return u},SU:function(){return m},Tm:function(){return p},bz:function(){return f},oZ:function(){return c},vg:function(){return v}});var i=t(485272),a=t(855580),r=t(891918),o=t(573566),s=t(118483),l=t(177972),d=t(286169),u=function(e){var n=e.adContext,t=e.playerContext,r=e.channelSkinsContext,o=e.brandLiftContext,s=e.isTurboSDAUpsellShowing,u=(0,d.wk)(e),c=u.forceControlVisibility;return!(u.mini||t.isPlayerCoreLoading||(0,l.k1)({restrictions:t.restrictions})||c===a.Ie.Hidden||n.adFormatMetadata&&(0,i.rW)(n.adFormatMetadata.adFormat)||r.isLowerThirdEnabled||o.isSurveyShowing||s)},c=function(e){var n=e.playerContext,t=(0,d.wk)(e),i=t.forceControlVisibility;return!(t.mini||n.isPlayerCoreLoading||(0,l.k1)({restrictions:n.restrictions})||i===a.Ie.Hidden)},p=function(e){var n=e.playerPublicPropsContext,t=e.playerContext,i=t.playerState===r.p.ENDED,a=!t.hasPlayed;return!((0,o.cz)(e.adContext.videoAdMetadata)||!f(n.content,t.isOffline)||!a&&!i)},m=function(e){var n=e.active,t=e.videoPlaybackContext,i=e.uiContext,r=(0,d.wk)(e).forceControlVisibility;return!(!i.showControls||!n&&t.isPlaying&&r!==a.Ie.Showing)},v=function(e){return!e.uiContext.isCollectionSidebarShowing&&m(e)};function f(e,n){return(0,s.DG)(e)&&n}},722340:function(e,n,t){"use strict";t.d(n,{X:function(){return l},b:function(){return s}});var i=t(474848),a=t(959340),r=t(914421),o=(t(296540),(0,t(105146).k3)()),s=function(){return document.getElementById(o)},l=function(){return(0,i.jsx)(a.P,{position:r.yX.Absolute,attachTop:!0,attachRight:!0,margin:{top:"6rem",right:1},id:o,width:"37rem",style:{transform:"scale(1)"},"aria-label":"Chat Happening Now Overlay"})}},863845:function(e,n,t){"use strict";t.d(n,{rj:function(){return w}});var i=t(331635),a=t(474848),r=t(434848),o=t(371439),s=t(959340),l=t(312663),d=t(914421),u=t(588702),c=t(246942),p=t.n(c),m=t(296540),v=t(868238),f=t(452088),g=t(86043),h=t(912800),y=t(731667),k=t(990768),S=t(305528),_=t(488910),C=function(e){var n=null,t=e.isSmall?64:80,i=e.type===_.W.Icon&&e.icon===h.t.LogoTwitch;switch(e.type){case _.W.Icon:n=(0,a.jsx)(y.t,{asset:e.icon,type:y.H.Inherit,fill:!0});break;case _.W.Avatar:n=(0,a.jsx)(k.e,{src:e.src,alt:e.alt,size:t,userLogin:e.login});break;case _.W.Placeholder:n=(0,a.jsx)(S.Or,{height:t,width:t,overlay:!0});case _.W.Empty:}var r=80;return e.isSmall&&(r=i?40:64),(0,a.jsx)(s.P,{height:"".concat(r,"px"),children:n})},b=t(466307),P=t(231273),x=t(457063),E=t(764823),A=t(286169),N=t(334315);var w=(0,v.Zz)((0,x.cj)((function(e){return{mini:(0,A.wk)({playerPublicPropsContext:e}).mini}})),(0,E.c0)((function(e){return{videoContainer:e.videoContainer}})),(0,P.dd)((function(e){return{error:e.error}})))((function(e){var n=function(e){var n=(0,m.useState)(((0,N.P)(e.videoContainer).width||0)<580),t=n[0],i=n[1];return{isSmall:t,onResize:function(e){i(e<580)}}}({videoContainer:e.videoContainer}),t=n.onResize,c=n.isSmall,v=function(){var n=e.text;return(0,a.jsx)(s.P,{margin:{top:2},textAlign:d.nO.Center,children:"string"==typeof n?h(n,0):n.map(h)})},h=function(e,n){return(0,a.jsx)(l.N,{fontSize:c?d.Z4.Size6:d.Z4.Size4,bold:!0,lineHeight:u.aK.Heading,color:d.Q1.Overlay,className:"content-overlay-gate__allow-pointers",children:e},"".concat(e,"-").concat(n))};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(g.$,{onResize:t}),(0,a.jsx)(b.FT,{className:"content-overlay-gate",type:b.NL.Fullscreen,transparency:b.xL.Transparency0,children:e.mini?(0,a.jsxs)(a.Fragment,{children:[e.error?(0,a.jsx)(r.m,{height:60,width:60}):(0,a.jsx)(o.X,{size:80}),(0,a.jsx)(s.P,{padding:{top:1},children:(0,a.jsx)(l.N,{fontSize:d.Z4.Size4,bold:!0,lineHeight:u.aK.Heading,color:d.Q1.Overlay,children:e.error?(0,f.hw)("Error #{error}",{error:e.error.toString()},"ContentOverlayGate"):(0,f.hw)("Content Restricted","ContentOverlayGate")})})]}):(0,a.jsxs)(s.P,{className:p()("content-overlay-gate__content",{"content-overlay-gate__content--full":c}),display:d.nl.Flex,flexDirection:d.bo.Column,alignItems:d.k2.Center,"data-a-target":"player-overlay-content-gate",padding:c?{x:1}:void 0,position:d.yX.Relative,role:"dialog","aria-labelledby":"content-overlay-gate-text",children:[(0,a.jsx)(C,(0,i.__assign)({},e.iconProps,{isSmall:c})),v(),e.children&&(0,a.jsx)(s.P,{margin:{top:c?2:3},className:"content-overlay-gate__allow-pointers",children:e.children(c)})]})})]})}))},488910:function(e,n,t){"use strict";var i;t.d(n,{W:function(){return i}}),function(e){e.Empty="Empty",e.Icon="Icon",e.Avatar="Avatar",e.Placeholder="Placeholder"}(i||(i={}))},466307:function(e,n,t){"use strict";t.d(n,{FT:function(){return c},NL:function(){return a},xL:function(){return i}});var i,a,r=t(331635),o=t(474848),s=t(914421),l=t(959340),d=t(246942),u=t.n(d);t(296540);!function(e){e[e.Transparency0=0]="Transparency0",e[e.Transparency1=1]="Transparency1",e[e.Transparency3=3]="Transparency3",e[e.Transparency5=5]="Transparency5",e[e.Transparency6=6]="Transparency6",e[e.Transparency10=10]="Transparency10"}(i||(i={})),function(e){e.Center="center",e.Fullscreen="fullscreen",e.Sidebar="sidebar"}(a||(a={}));var c=function(e){var n,t,d=u()("player-overlay-background",(0,r.__assign)({},[i.Transparency0,i.Transparency1,i.Transparency3,i.Transparency5,i.Transparency6].reduce((function(n,t){var i;return(0,r.__assign)((0,r.__assign)({},n),((i={})["player-overlay-background--darkness-".concat(t)]=e.transparency===t,i))}),{})),e.className),c={};switch(e.type){case a.Fullscreen:c={flexDirection:s.bo.Column,justifyContent:s.A9.Center,alignItems:s.k2.Center,color:s.Q1.Overlay,attachLeft:!0,display:s.nl.Flex};break;case a.Center:c={padding:2,width:null!==(n=e.customWidth)&&void 0!==n?n:"37rem"};break;case a.Sidebar:c={padding:2,width:null!==(t=e.customWidth)&&void 0!==t?t:"32rem"}}return(0,o.jsx)(l.P,(0,r.__assign)({className:d,position:s.yX.Absolute,attachTop:!0,attachRight:!0,attachBottom:!0},c,{children:e.children}))}},381511:function(e,n,t){"use strict";var i;t.d(n,{G:function(){return i}}),function(e){e[e.Default=0]="Default",e[e.TopRight=1]="TopRight"}(i||(i={}))},419813:function(e,n,t){"use strict";var i,a,r,o;t.d(n,{GS:function(){return l},Gy:function(){return i},Ns:function(){return u},UE:function(){return d},XL:function(){return c},Xh:function(){return a},_n:function(){return s},dD:function(){return m},gu:function(){return o}}),function(e){e.LINKED="linked",e.UNLINKED="unlinked",e.LINK_REQUESTED="link_requested",e.UNLINK_REQUESTED="unlink_requested"}(i||(i={})),function(e){e.VIEWER="viewer",e.BROADCASTER="broadcaster"}(a||(a={})),function(e){e.EXTENSIONS_NOT_LOADED="not loaded",e.EXTENSIONS_LOADED="loaded",e.EXTENSIONS_LOADING="loading",e.EXTENSIONS_RELOADING="reloading"}(r||(r={})),function(e){e[e.NONE=0]="NONE",e[e.INSTALL=1]="INSTALL",e[e.SETTINGS=2]="SETTINGS",e[e.REPORT=3]="REPORT",e[e.MANAGE_ACCESS=4]="MANAGE_ACCESS",e[e.UNRELEASED=5]="UNRELEASED",e[e.INFO=6]="INFO",e[e.FOLLOW=7]="FOLLOW",e[e.PURCHASE=8]="PURCHASE",e[e.LOGIN_REQUIRED=9]="LOGIN_REQUIRED",e[e.CONDITION_CONFIRMATION=10]="CONDITION_CONFIRMATION"}(o||(o={}));var s,l=function(e){return e.type===o.FOLLOW},d=function(e){return e.type===o.PURCHASE},u=function(e){return e.type===o.LOGIN_REQUIRED},c=function(e){return e.type===o.CONDITION_CONFIRMATION};!function(e){e[e.NONE=0]="NONE",e[e.BITS_BALANCE=1]="BITS_BALANCE"}(s||(s={}));var p,m=function(e){return e.type===s.BITS_BALANCE};!function(e){e[e.UniqueExtensionID=0]="UniqueExtensionID"}(p||(p={}))},343026:function(e,n,t){"use strict";t.d(n,{MA:function(){return O},QH:function(){return r},YU:function(){return D},aX:function(){return w},bb:function(){return o},gw:function(){return s},l1:function(){return l},lK:function(){return F},nZ:function(){return C},p$:function(){return T},pi:function(){return N},wv:function(){return I},yi:function(){return d}});var i=t(288480),a=t(419813),r=3e3;function o(e){var n=e.activationConfig.slot.match(/\d+/)||[];return parseInt(n[0],10)}function s(e){var n,t=((n={})[i.Z1.Overlay]=[],n[i.Z1.Component]=[],n[i.Z1.Panel]=[],n[i.Z1.Hidden]=[],n);return e.length?(e.slice().sort((function(e,n){return o(e)-o(n)})).forEach((function(e){var n=e.activationConfig.anchor;Object.keys(i.Z1).some((function(e){return i.Z1[e]===n}))&&t[n].push(e)})),t):t}function l(e){return e.activationConfig.anchor===i.Z1.Overlay}function d(e){return e.activationConfig.anchor===i.Z1.Component}var u=150,c=175,p=75,m=75,v=1,f=30,g=70,h=100,y=75+v+v,k=1e4;function S(e,n,t,i,a){var r={height:n,width:t},o={height:Math.max(n,u),width:Math.max(t,c)},s={height:e?o.height:r.height,width:e?o.width:r.width},l=s.height+f;return{offset:Math.floor(0-l/2),canRender:o.height<=i&&o.height>p&&(o.width<=a&&o.width>=m),extensionSize:r,popoverContentSize:s}}var _={offset:0,shouldShow:!1,extensionSize:{height:0,width:0},popoverContentSize:{height:0,width:0},zoom:1};function C(e,n,t,a){if(void 0===n.videoHeight||void 0===n.videoWidth||null===t)return _;var r=2*(a?h:g)+2*v+f,o=n.videoHeight-r,s=n.videoWidth-y;if(t.activationConfig.anchor===i.Z1.Overlay){var l=S(e,u=Math.min(270,o),c=Math.min(260,s),o,s);return{offset:l.offset,shouldShow:l.canRender,extensionSize:E=l.extensionSize,popoverContentSize:l.popoverContentSize,zoom:1}}if(d(t)&&void 0!==t.extension.views.component){var u,c,p=t.extension.views.component,m=p.aspectRatioX,C=p.aspectRatioY,b=p.targetHeight,P=p.autoScale,x=p.scalePixels;(c=(u=o*(b/k))*m/C)>s&&(u=(c=s)*C/m);var E,A=S(e,u,c,o,s);return{offset:A.offset,shouldShow:A.canRender,extensionSize:E=A.extensionSize,popoverContentSize:A.popoverContentSize,zoom:P&&x>0?E.width/x:1}}return _}var b=142,P=80,x=59,E=.25,A={shouldShow:!1,height:0,xOffset:0,zoom:1};function N(e,n){if(!e.videoHeight)return A;var t=n?h:g,i=e.videoHeight-2*t,a=e.videoHeight*E,r=Math.min(a,b);return r<P||r>i?A:{shouldShow:!0,height:r,xOffset:r*x/b-x,zoom:r/b}}function w(e){var n={identityLinkedStatus:a.Gy.UNLINKED,role:a.Xh.VIEWER};try{var t=JSON.parse(atob(e.split(".")[1]));return{identityLinkedStatus:t&&t.user_id?a.Gy.LINKED:a.Gy.UNLINKED,role:t&&t.role===a.Xh.BROADCASTER?a.Xh.BROADCASTER:a.Xh.VIEWER}}catch(e){return n}}function T(e){return w(e.extension.token).role===a.Xh.BROADCASTER}var I=function(e){return"".concat(e.id,"-").concat(e.extension.version)},D=function(e,n){return n[I(e)]||{}},O=function(e,n){var t=n[I(e)],a=e.extension.state===i.HY.Released,r=t&&t.unreleasedAccepted;return!(!a&&!r)},F=function(e){var n=e.extension,t=n.id,i=n.version;return"https://twitch.tv/ext/".concat(t,"-").concat(i)}},26589:function(e,n,t){"use strict";t.d(n,{p8:function(){return m}});var i=t(474848),a=t(486489),r=t(959340),o=t(914421),s=t(312663),l=(t(296540),t(868238)),d=t(452088),u=t(805450),c=t(466307),p=t(231273),m=(0,l.Zz)((0,u.X)({name:"LoadingOverlay"}),(0,p.dd)((function(e){return{isNetworkOffline:e.isNetworkOffline}})))((function(e){var n=e.isNetworkOffline;return(0,i.jsxs)(c.FT,{transparency:c.xL.Transparency10,type:c.NL.Fullscreen,children:[(0,i.jsx)(a.k,{inheritColor:!0,size:a.H.Large}),n&&(0,i.jsx)(r.P,{className:"loading-overlay__user-offline",margin:{top:2},textAlign:o.nO.Center,children:(0,i.jsx)(s.N,{bold:!0,color:o.Q1.Overlay,type:"h4",children:(0,d.hw)("You seem to be offline. Please wait while we try to reconnect.","VideoPlayerLoadingOverlay")})})]})}))},480455:function(e,n,t){"use strict";t.d(n,{W:function(){return r}});var i=t(640598),a=t(456450);function r(e,n,t){(0,i.s)({topic:(0,a.dl)(null!=e?e:""),onMessage:function(e){e.target_user_id===n&&t&&t()},skip:!e||!n}),(0,i.s)({topic:(0,a.CH)(null!=e?e:""),onMessage:function(e){e.channel_id===n&&t&&t()},skip:!e||!n})}},372442:function(e,n,t){"use strict";t.d(n,{d:function(){return v},g:function(){return f}});var i=t(331635),a=t(474848),r=t(79004),o=t(552400),s=t(296540),l=t(877338),d=t(811202),u=t(961166),c=t(457063),p=t(764823),m=t(21824),v=function(e){var n,t=(0,a.jsx)(r.a2,(0,i.__assign)({icon:e.buttonIcon,linkTo:e.linkTo,onClick:e.onClick,disabled:e.disabled,"aria-label":e.label,"aria-haspopup":"menu",overlay:!0,ref:e.anchorRef},(0,l.F)(e)));return e.suppressTooltip||e.disabled?t:(0,a.jsx)(o.m,{label:e.label,options:{placement:null!==(n=e.tooltipPlacement)&&void 0!==n?n:"top",modifiers:e.tooltipModifiers},disabled:!e.arePlayerControlsShowing,show:e.showTooltip,children:t})},f=function(e){var n=(0,s.useContext)(u.MP).active,t=(0,s.useContext)(p._t),r=(0,s.useContext)(m.wL),o=(0,s.useContext)(c.kl),l=(0,d.SU)({active:n,uiContext:t,videoPlaybackContext:r,playerPublicPropsContext:o});return(0,s.useMemo)((function(){return(0,a.jsx)(v,(0,i.__assign)({arePlayerControlsShowing:l},e))}),[l,e])}},787755:function(e,n,t){"use strict";t.r(n),t.d(n,{LOWER_THIRD_MAFS_DECISION:function(){return y},SQUEEZEBACK_MAFS_DECISION:function(){return k},SettingsMenuSubmenuStaffComponent:function(){return C},SettingsMenuSubmenuStaffContainer:function(){return b},VERTICAL_VIDEO_MAFS_DECISION:function(){return S},mapAdContextProps:function(){return P}});var i=t(331635),a=t(474848),r=t(337051),o=t(368972),s=t(14668),l=t(903689),d=t(296540),u=t(868238),c=t(452088),p=t(337930),m=t(485272),v=t(960052),f=t(709673),g=t(44377),h=t(726280),y="CgQSAggE",k="CgQSAggD",S="CgQSAggF",_=[{formatPrioritization:[g.Z$.LOWER_THIRD],encodedDecision:y},{formatPrioritization:[g.Z$.SQUEEZEBACK],encodedDecision:k},{formatPrioritization:[g.Z$.OUTSTREAM_VERTICAL_VIDEO],encodedDecision:S},{formatPrioritization:[g.Z$.SQUEEZEBACK,g.Z$.LOWER_THIRD],encodedDecision:"CggKAggEEgIIAw=="},{formatPrioritization:[g.Z$.OUTSTREAM_VERTICAL_VIDEO,g.Z$.SQUEEZEBACK,g.Z$.LOWER_THIRD],encodedDecision:"CgwKAggDCgIIBBICCAU="},{formatPrioritization:[g.Z$.SQUEEZEBACK,g.Z$.OUTSTREAM_VERTICAL_VIDEO,g.Z$.LOWER_THIRD],encodedDecision:"CgwKAggFCgIIBBICCAM="}],C=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={inStreamAdFormatOrder:[],outStreamAdBreakSelection:-1},n.toggleOutStreamAdMenuItem=function(e){return n.setState((function(n){return(0,i.__assign)((0,i.__assign)({},n),{outStreamAdBreakSelection:e})}))},n.toggleInStreamAdMenuItem=function(e,t){var i=n.state.inStreamAdFormatOrder.indexOf(t);e?i<0&&n.setState((function(e){return e.inStreamAdFormatOrder.push(t),e})):i>=0&&n.setState((function(e){return e.inStreamAdFormatOrder.splice(i,1),e}))},n.getInStreamAdDecision=function(){if(1===n.state.inStreamAdFormatOrder.length){if(n.state.inStreamAdFormatOrder[0]===g.Z$.STANDARD_AUDIO)return"CgQSAggC";if(n.state.inStreamAdFormatOrder[0]===g.Z$.STANDARD_VIDEO)return"CgISAA=="}else if(2===n.state.inStreamAdFormatOrder.length){if(n.state.inStreamAdFormatOrder[0]===g.Z$.STANDARD_AUDIO)return"CgYKABICCAI=";if(n.state.inStreamAdFormatOrder[0]===g.Z$.STANDARD_VIDEO)return"CgYKAggCEgA="}},n.getOutStreamAdDecision=function(){return _[n.state.outStreamAdBreakSelection].encodedDecision},n.getOutStreamOptionLabel=function(e){var n=new Map([[g.Z$.LOWER_THIRD,"LowerThird"],[g.Z$.SQUEEZEBACK,"Squeezeback"],[g.Z$.OUTSTREAM_VERTICAL_VIDEO,"VerticalVideo"]]);return e.map((function(e){return n.get(e)})).join(">")},n.getInStreamOptionLabel=function(e){var t=n.state.inStreamAdFormatOrder.length>0?n.state.inStreamAdFormatOrder.slice(0,1):[],i=n.state.inStreamAdFormatOrder.length>1?n.state.inStreamAdFormatOrder.slice(1):[];switch(e){case g.Z$.STANDARD_AUDIO:return t.length>0&&t.indexOf(e)>=0?(0,c.hw)("Audio Ad (Primary Format)","SettingsMenuSubmenuStaff"):i.length>0&&i.indexOf(e)>=0?(0,c.hw)("Audio Ad (Fallback Format)","SettingsMenuSubmenuStaff"):(0,c.hw)("Audio Ad","SettingsMenuSubmenuStaff");case g.Z$.STANDARD_VIDEO:return t.length>0&&t.indexOf(e)>=0?(0,c.hw)("Video Ad (Primary Format)","SettingsMenuSubmenuStaff"):i.length>0&&i.indexOf(e)>=0?(0,c.hw)("Video Ad (Fallback Format)","SettingsMenuSubmenuStaff"):(0,c.hw)("Video Ad","SettingsMenuSubmenuStaff");default:return(0,c.hw)("Unknown Format Ad","SettingsMenuSubmenuStaff")}},n.runPreroll=function(){return n.requestAd(h.d.Pre,g.gz.STANDARD_VIDEO)},n.runMidroll=function(){return n.requestAd(h.d.Mid,g.gz.STANDARD_VIDEO)},n.runPostroll=function(){return n.requestAd(h.d.Post,g.gz.STANDARD_VIDEO)},n.runOutStreamAd=function(){var e=_[n.state.outStreamAdBreakSelection];n.requestAd(h.d.Mid,e.formatPrioritization[0],60,n.getOutStreamAdDecision())},n.runMAF=function(){return n.requestAd(h.d.Mid,n.state.inStreamAdFormatOrder[0],30)},n.requestAd=function(e,t,i,a){void 0===i&&(i=30),void 0===a&&(a=n.getInStreamAdDecision()),n.props.requestAd({sessionID:"staff-submenu-".concat((0,v.SG)()),adFormat:t,roll:e,duration:i,forced:!0,mafsDecision:a})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this,n=(0,c.hw)("Run Local Preroll Ad","SettingsMenuSubmenuStaff"),t=(0,c.hw)("Run Local Midroll Ad","SettingsMenuSubmenuStaff"),d=(0,c.hw)("Run Local Postroll Ad","SettingsMenuSubmenuStaff"),u=(0,c.hw)("Run Local Multi-Format Ad","SettingsMenuSubmenuStaff"),v=(0,p.fX)(m.Wj),f=[];return _.forEach((function(n,t){f.push((0,a.jsx)(r.G,{addRole:!0,name:"OutStreamOption",type:r.M.Radio,label:e.getOutStreamOptionLabel(n.formatPrioritization),onChange:function(){e.toggleOutStreamAdMenuItem(t)}}))})),(0,a.jsxs)(a.Fragment,{children:(0,i.__spreadArray)((0,i.__spreadArray)([(0,a.jsx)(o.i,{addRole:!0,autoFocus:!0,label:n,onClick:this.runPreroll}),(0,a.jsx)(o.i,{addRole:!0,label:t,onClick:this.runMidroll}),(0,a.jsx)(o.i,{addRole:!0,label:d,onClick:this.runPostroll}),(0,a.jsx)(s.m,{}),(0,a.jsx)(l.x,{children:"Out-Stream Ads"}),(0,a.jsx)(l.x,{})],f,!0),[(0,a.jsx)(o.i,{addRole:!0,label:"Run Local Out-Stream Ad",onClick:this.runOutStreamAd,disabled:-1===this.state.outStreamAdBreakSelection}),v&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(s.m,{}),(0,a.jsx)(l.x,{children:(0,c.hw)("Multi-Format Ads","SettingsMenuSubmenuStaff")}),(0,a.jsx)(r.G,{addRole:!0,type:r.M.CheckBox,label:this.getInStreamOptionLabel(g.Z$.STANDARD_AUDIO),onChange:function(n){e.toggleInStreamAdMenuItem(n.currentTarget.checked,g.Z$.STANDARD_AUDIO)}}),(0,a.jsx)(r.G,{addRole:!0,type:r.M.CheckBox,label:this.getInStreamOptionLabel(g.Z$.STANDARD_VIDEO),onChange:function(n){e.toggleInStreamAdMenuItem(n.currentTarget.checked,g.Z$.STANDARD_VIDEO)}}),(0,a.jsx)(o.i,{addRole:!0,label:u,onClick:this.runMAF,disabled:0===this.state.inStreamAdFormatOrder.length})]})],!1)})},n}(d.Component),b=(0,u.Zz)((0,f.VX)(P))(C);function P(e){return{requestAd:e.requestAd}}},155738:function(e,n,t){"use strict";t.d(n,{R6:function(){return D},Sb:function(){return R}});var i,a=t(331635),r=t(474848),o=t(163347),s=t(59542),l=t(267178),d=t(305528),u=t(959340),c=t(914421),p=t(97774),m=t(67813),v=t(723319),f=t(552400),g=t(216042),h=t(25437),y=t(296540),k=t(868238),S=t(452088),_=t(191132),C=t(192453),b=t(105146),P=t(407310),x=t(372442),E=t(961166),A=t(231273),N=t(457063),w=t(569939),T=t(21824),I=t(286169),D=.5;!function(e){e[e.SETTLED=0]="SETTLED",e[e.REQUESTED=1]="REQUESTED"}(i||(i={}));var O=(0,_.U)({name:"VideoPlayer_VolumeSlider",category:"broadcast"}).Available,F=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.popperRef=y.createRef(),n.state={volumeFocused:!1,requestedVolume:null,volumeState:i.SETTLED,showVolumeTooltip:!1,hasVolumeButtonBeenActivated:!1},n.rangeID="player-volume-slider-".concat((0,b.aq)()),n.throttledVolumeChange=(0,C.n)((function(e){var t=n.props,i=t.setVolume,a=t.setMuted,r=t.muted,o={persist:!0,userTriggered:!0};i(e,o),r&&0!==e&&a(!1,o),0===e&&a(!0,o)}),30,{leading:!0,trailing:!0}),n.calcDom=function(){if(n.rangeRef){n.remInPx=parseFloat(getComputedStyle(document.documentElement).fontSize);var e=n.rangeRef.getBoundingClientRect();n.rangeWidth=e.width}},n.setVolumeTooltipDisplayTimer=function(){clearTimeout(n.tooltipTimeoutRef),n.tooltipTimeoutRef=setTimeout((function(){n.setState((function(e){return e.showVolumeTooltip?{showVolumeTooltip:!1}:null}))}),2e3)},n.setVolumeFocused=function(){n.setState((function(e){return e.volumeFocused?null:{volumeFocused:!0}}))},n.setVolumeUnfocused=function(){n.setState((function(e){return e.volumeFocused?{volumeFocused:!1}:null}))},n.setRangeInputFocused=function(){n.setState((function(e){return e.showVolumeTooltip?null:{showVolumeTooltip:!0}}))},n.setRangeInputUnfocused=function(){n.setState((function(e){return e.showVolumeTooltip?{showVolumeTooltip:!1}:null}))},n.getButtonIcon=function(e){var n=e.muted,t=e.volume;return n||0===t?o.N:t&&t>.5?s.c:l.g},n.getButtonLabel=function(e){var n=e.muted,t=e.volume;return n||0===t?(0,S.hw)("Unmute (m)","VolumeSliderComponent"):(0,S.hw)("Mute (m)","VolumeSliderComponent")},n.getTooltipValues=function(e){var t=e.volume,i=e.muted?0:t||0,a=1.6*n.remInPx;return{tooltipValue:i,tooltipLeftOffset:a/2+i*(n.rangeWidth-a)}},n.getRangeValue=function(e){var t=e.muted,a=e.volume;if(t)return"0";var r=null!=a?a:D,o=n.state.volumeState===i.REQUESTED?n.state.requestedVolume:r;return"".concat(o)},n.handleRangeInputChange=function(e){var t=+e.currentTarget.value;n.setState((function(e){return e.requestedVolume===t?null:{requestedVolume:t,volumeState:i.REQUESTED,showVolumeTooltip:!0}}),(function(){n.throttledVolumeChange(t)})),n.setVolumeTooltipDisplayTimer(),n.props.enablePlayerActiveTimeout()},n.handleMuteButtonClick=function(){var e=n.props,t=e.muted,i=e.volume,a=e.setVolume,r=e.setMuted,o={persist:!0,userTriggered:!0};n.setState((function(){return{hasVolumeButtonBeenActivated:!0}})),t&&0===i&&a(.1,o),t&&void 0===i&&a(D,o),r(!t,o)},n.setRangeRef=function(e){return n.rangeRef=e},n}return(0,a.__extends)(n,e),n.prototype.componentWillUnmount=function(){clearTimeout(this.tooltipTimeoutRef),this.throttledVolumeChange.flush()},n.prototype.componentDidUpdate=function(){var e,n,t;null===(t=null===(n=null===(e=this.popperRef)||void 0===e?void 0:e.current)||void 0===n?void 0:n.update)||void 0===t||t.call(n),this.props.volume===this.state.requestedVolume&&this.state.volumeState!==i.SETTLED&&this.setState((function(e){return e.volumeState===i.SETTLED?null:{volumeState:i.SETTLED}}))},n.prototype.render=function(){var e,n,t=this.props,i=t.audioBlocked,a=t.isPlayerCoreLoading,o=t.disableControls,s=t.muted,l=t.playerControlsShowing,y=t.showInitialMutedOnVolumeButton,k=t.userEverUnmuted,_=this.getButtonIcon(this.props),C=this.getButtonLabel(this.props),b=this.getRangeValue(this.props),E=this.getTooltipValues(this.props),A=!!s&&y&&!k&&!this.state.hasVolumeButtonBeenActivated,N=(A||i)&&l&&y;if(a)return(0,r.jsx)(d.Or,{height:30,width:14.5});var w=this.state.volumeFocused,T=!P.j.os.isIOS()&&!this.props.disableVolumeSlider,I=Math.floor(100*Number(b)),D=this.state.showVolumeTooltip&&w&&l;return(0,r.jsx)(O,{children:(0,r.jsx)("div",{onMouseEnter:this.setVolumeFocused,onMouseLeave:this.setVolumeUnfocused,onFocus:this.setVolumeFocused,children:(0,r.jsxs)(u.P,{display:c.nl.Flex,alignItems:c.k2.Center,children:[(0,r.jsx)(u.P,{borderRadius:p.Z.Large,className:N?"volume-slider__button-container":void 0,children:(0,r.jsx)(x.g,{"data-a-target":"player-mute-unmute-button",label:N?(0,S.hw)("Tap to unmute","VolumeSlider"):C,buttonIcon:_,onClick:this.handleMuteButtonClick,disabled:o||this.props.error,suppressTooltip:!N&&A,showTooltip:A&&y&&l,tooltipModifiers:N?[{name:"flip",options:{allowedAutoPlacements:["top"],rootBoundary:null===(e=this.props.chromecastButtonRef)||void 0===e?void 0:e.current,boundary:null===(n=this.props.ref)||void 0===n?void 0:n.current}}]:void 0})}),T&&(0,r.jsx)(m.e,{alwaysRenderChild:!0,show:w,type:v.ES.Fade,duration:v.Cf.Short,className:"volume-slider__slider-container",onEnterComplete:this.calcDom,children:(0,r.jsx)(u.P,{display:c.nl.Flex,alignItems:c.k2.Center,fullHeight:!0,onMouseLeave:this.setRangeInputUnfocused,children:(0,r.jsxs)(u.P,{display:c.nl.Flex,flexDirection:c.bo.Column,alignItems:c.k2.Stretch,height:"100%",children:[(0,r.jsx)(u.P,{position:c.yX.Relative,display:c.nl.Flex,style:{insetInlineStart:"".concat(E.tooltipLeftOffset,"px")},children:(0,r.jsx)(f.m,{show:D,label:(0,S.ZV)(E.tooltipValue,"percent"),popperRef:this.popperRef,options:{placement:"top",modifiers:[{name:"flip",options:{allowedAutoPlacements:["top"]}}]},display:c.nl.Inline})}),(0,r.jsxs)(u.P,{display:c.nl.Flex,flexDirection:c.bo.Column,justifyContent:c.A9.Center,height:"100%",children:[(0,r.jsx)(g.S,{display:c.nl.HideAccessible,children:(0,r.jsx)("label",{htmlFor:this.rangeID,children:(0,S.hw)("Volume","VolumeSliderComponent")})}),(0,r.jsx)(h.Q,{ref:this.setRangeRef,"data-a-target":"player-volume-slider","data-a-visible":w,fill:!0,min:0,max:1,step:.01,onChange:this.handleRangeInputChange,value:b,disabled:o||this.props.error,id:this.rangeID,overlay:!0,"aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":I,"aria-valuetext":"".concat(I,"%"),onFocus:this.setRangeInputFocused,onBlur:this.setRangeInputUnfocused})]})]})})})]})})})},n}(y.Component),R=(0,k.Zz)((0,N.cj)((function(e){var n=(0,I.wk)({playerPublicPropsContext:e}),t=n.disableAudio,i=n.disableVolumeSlider,a=n.showInitialMutedOnVolumeButton;return{disableControls:!!t,disableVolumeSlider:!!i,showInitialMutedOnVolumeButton:null!=a&&a}})),(0,T.AP)((function(e){var n=e.muted,t=e.volume,i=e.setMuted,a=e.setVolume;return{muted:n,volume:t,setMuted:i,setVolume:a}})),(0,A.dd)((function(e){var n=e.audioBlocked,t=e.isPlayerCoreLoading,i=e.error,a=e.userEverUnmuted;return{audioBlocked:n,isPlayerCoreLoading:t,error:!!i,userEverUnmuted:a}})),(0,E.In)((function(e){return{enablePlayerActiveTimeout:e.enablePlayerActiveTimeout}})),(0,w.o1)())(F)},690982:function(e,n,t){"use strict";t.d(n,{F6:function(){return b}});var i,a=t(331635),r=t(474848),o=t(564368),s=t(296540),l=t(415044),d=t(868238),u=t(928778),c=t(503472),p=t(131883),m=t(457063),v=t(569939),f=t(959340),g=t(914421),h=t(734594),y=t(452088),k=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(n,e),n.prototype.render=function(){return(0,r.jsx)(f.P,{display:g.nl.Flex,flexDirection:g.bo.Column,alignItems:g.k2.Center,children:this.renderButton(this.props)})},n.prototype.renderButton=function(e){var n=e.notificationsDisabled,t=e.working,i=e.onDisableNotificationsClick,a=e.onEnableNotificationsClick,s=e.buttonSize,l=t?o.w.Loading:o.w.Default;return n?(0,r.jsx)(o.$n,{onClick:a,state:l,size:s,children:(0,y.hw)("Turn on Notifications","PlayerFollowButton")}):(0,r.jsx)(o.$n,{onClick:i,variant:o.VQ.Success,state:l,icon:h.i,size:s,children:(0,y.hw)("Notifications","PlayerFollowButton")})},n}(s.Component),S=t(922624),_=t.n(S);!function(e){e.NotificationsOff="notif_off",e.NotificationsOn="notif_on",e.FollowAndNotificationsOn="follow_on_notif_on"}(i||(i={}));var C=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={working:!1},n.trackNotificationButtonClick=function(e){n.props.track("player_notifbutton_clicks",{followState:e.wasFollowing,notif_state:e.wereNotificationsEnabled,src:n.props.playerType,action:e.action})},n.handleEnableNotifications=function(){var e=n.props.isFollowingUser;n.trackNotificationButtonClick({action:e?i.NotificationsOn:i.FollowAndNotificationsOn,wasFollowing:e,wereNotificationsEnabled:!1}),n.changeNotificationSettings({disableNotifications:!1})},n.handleDisableNotifications=function(){var e=n.props.isFollowingUser;n.trackNotificationButtonClick({action:i.NotificationsOff,wasFollowing:e,wereNotificationsEnabled:!0}),n.changeNotificationSettings({disableNotifications:!0})},n.changeNotificationSettings=function(e){return(0,a.__awaiter)(n,void 0,void 0,(function(){var n,t,i;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:n=e.disableNotifications,t=this.props.userID,i=(0,c.AR)({targetID:t,disableNotifications:n}),a.label=1;case 1:return a.trys.push([1,,4,5]),this.props.isLoggedIn?(this.setState({working:!0}),[4,this.props.followUser(i)]):[3,3];case 2:a.sent(),a.label=3;case 3:return[3,5];case 4:return this.setState({working:!1}),this.props.onFollow&&this.props.onFollow(),[7];case 5:return[2]}}))}))},n}return(0,a.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.isSmall,t=e.notificationsDisabled;return(0,r.jsx)(k,{notificationsDisabled:t,working:this.state.working,onDisableNotificationsClick:this.handleDisableNotifications,onEnableNotificationsClick:this.handleEnableNotifications,buttonSize:n?o.Mp.Small:o.Mp.Default})},n}(s.Component);var b=(0,d.Zz)((0,u._v)(_(),{name:"followUser"}),(0,v.o1)(),(0,m.cj)((function(e){return{playerType:e.type}})),(0,l.Ng)((function(e){return{isLoggedIn:(0,p.M3)(e)}})))(C)},15292:function(e,n,t){"use strict";t.d(n,{F$:function(){return v},yg:function(){return m}});var i=t(331635),a=t(474848),r=t(296540),o=t(868238),s=t(928778),l=t(300235),d=t(457063),u=t(118483),c=t(179245),p=t.n(c);function m(){return function(e){var n=function(n){function t(){return null!==n&&n.apply(this,arguments)||this}return(0,i.__extends)(t,n),t.prototype.render=function(){return(0,a.jsx)(e,(0,i.__assign)({},this.props))},t.displayName=(0,l.K)(t.name,e),t}(r.Component),t=(0,s._v)(p(),{options:function(e){return{variables:{channel:e.liveChannelLogin}}},skip:function(e){return!e.liveChannelLogin}});return(0,o.Zz)((0,d.cj)(f),t)(n)}}function v(e){return!!(e&&e.user&&e.user.stream&&e.user.stream.isEncrypted)}function f(e){var n=e.content;return{liveChannelLogin:(0,u.jp)(n)}}},282463:function(e,n,t){"use strict";t.d(n,{Pv:function(){return k},Tm:function(){return C},bi:function(){return i},cG:function(){return h},ur:function(){return y}});var i,a=t(331635),r=t(296540),o=t(868238),s=t(452088),l=t(90300),d=t(922314),u=t(107212),c=t(709673),p=t(231273),m=t(726280),v=t(954978),f=t(573566);!function(e){e.StandardAudioAd="STANDARD_AUDIO",e.StandardVideoAd="standard_video_ad"}(i||(i={}));var g,h="twitch-stitched-ad",y="twitch-stream-source",k="twitch-ad-quartile",S="|",_=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onMetadata=function(e){var t,a,r;try{if("text/json"===e.type){var o=void 0;try{o=JSON.parse(e.data)}catch(e){return void s.x2.logger.warn("failed to parse stitched ad metadata")}if(!o)return void s.x2.logger.warn("failed to parse stitched ad metadata");var l=n.getAdFormat(o["X-TV-TWITCH-AD-AD-FORMAT"]),u=l===i.StandardAudioAd;if(o.CLASS===h){var c=o["X-TV-TWITCH-AD-CLICK-TRACKING-URL"],p=parseFloat(o["X-TV-TWITCH-AD-LOUDNESS"]),m=o["X-TV-TWITCH-AD-MUTE-TRACKING-URL"],v=o["X-TV-TWITCH-AD-UNMUTE-TRACKING-URL"],f=o["X-TV-TWITCH-AD-PAUSE-TRACKING-URL"],_=o["X-TV-TWITCH-AD-RESUME-URL"],C=o["X-TV-TWITCH-AD-CREATIVE-VIEW"],P=o["X-TV-TWITCH-AD-COMPANION-CREATIVE-VIEW"],x={duration:parseInt(o.DURATION,10)||0,start:new Date(o["START-DATE"]).getTime(),numberOfAds:parseInt(o["X-TV-TWITCH-AD-POD-LENGTH"],10),adPosition:parseInt(o["X-TV-TWITCH-AD-POD-POSITION"],10)+1,adUrl:o["X-TV-TWITCH-AD-URL"],roll:n.getRollType(o["X-TV-TWITCH-AD-ROLL-TYPE"]),advertiserId:o["X-TV-TWITCH-AD-ADVERTISER-ID"]||"",creativeId:o["X-TV-TWITCH-AD-CREATIVE-ID"]||"",lineItemId:o["X-TV-TWITCH-AD-LINE-ITEM-ID"]||"",adSessionId:o["X-TV-TWITCH-AD-AD-SESSION-ID"]||"",adFormat:l,orderId:o["X-TV-TWITCH-AD-ORDER-ID"]||"",stitchedAdTrackingURLsStart:o["X-TV-TWITCH-AD-TRACKING-START"]||"",stichedAdTrackingURLsComplete:o["X-TV-TWITCH-AD-TRACKING-COMPLETE"]||"",stitched:!0,stitchedAdClickTrackUrls:c?c.split(S):[],radsToken:o["X-TV-TWITCH-AD-RADS-TOKEN"]||"",isVLM:"1"===o["X-TV-TWITCH-AD-VLM"],hideAdOverlay:"1"===o["X-TV-TWITCH-AD-HIDE-AD-OVERLAY"],clickBeaconId:o["X-TV-TWITCH-AD-CLICK-BEACON-ID"]||"",podFilledDuration:parseInt(o["X-TV-TWITCH-AD-POD-FILLED-DURATION"],10)||0,stitchedAdMuteTrackUrls:m?m.split(S):[],stitchedAdUnMuteTrackUrls:v?v.split(S):[],stitchedAdPauseTrackUrls:f?f.split(S):[],stitchedAdResumeTrackUrls:_?_.split(S):[],stitchedAdCreativeViewTrackUrls:C?C.split(S):[],stitchedAdCompanionCreativeViewTrackUrls:P?P.split(S):[],dsaAdvertiserId:o["X-TV-TWITCH-AD-DSA-ADVERTISER-ID"]||"",dsaCampaignId:o["X-TV-TWITCH-AD-DSA-CAMPAIGN-ID"]||"",dsaContext:"1"===o["X-TV-TWITCH-AD-DSA-SS-CONTEXT"],dsaLocation:"1"===o["X-TV-TWITCH-AD-DSA-SS-LOCATION"],dsaPastActivity:o["X-TV-TWITCH-AD-DSA-SS-PAST-ACTIVITY"]||"",dsaVersion:parseInt(o["X-TV-TWITCH-AD-DSA-VERSION"],10)},E={ad_loudness:p,has_ad_metadata:!!x,stitched_ad_metadata:!!(null==x?void 0:x.stitched),play_session_id:s.E5.getVideoPlayerTrackingData().playSessionID,was_normalized:void 0,ad_session_id:null==x?void 0:x.adSessionId,channel:null===(t=s.E5.getLastPageview())||void 0===t?void 0:t.channel,roll_type:null==x?void 0:x.roll};n.props.setRadToken(x.radsToken),(null===(a=n.props.stitchedAdMetadata)||void 0===a?void 0:a.adPosition)&&x.adPosition&&x.adPosition>(null===(r=n.props.stitchedAdMetadata)||void 0===r?void 0:r.adPosition)&&b(g.END,n.props.stitchedAdMetadata.stichedAdTrackingURLsComplete),b(g.START,x.stitchedAdTrackingURLsStart),s.x2.tracking.track("ad_loudness_normalization",E),n.props.startStitchedAd(x)}else if(o.CLASS===k&&o["X-TV-TWITCH-AD-QUARTILE"]){var A=parseInt(o["X-TV-TWITCH-AD-QUARTILE"]||"",10);0===A?n.props.trackVideoRAdEvent(u?d.V.AdImpression:d.V.VideoAdImpression,n.buildTrackingPayload()):n.props.trackVideoRAdEvent(u?d.V.AdQuartile:d.V.VideoAdQuartileComplete,n.buildTrackingPayload({quartile:A}))}else if(n.props.stitchedAdMetadata&&o.CLASS===y&&"live"===o["X-TV-TWITCH-STREAM-SOURCE"]){b(g.END,n.props.stitchedAdMetadata.stichedAdTrackingURLsComplete);var N={stitched:!0,roll_type:n.props.stitchedAdMetadata.roll,player_mute:!!n.props.muted,player_volume:+(n.props.volume||0).toFixed(10),visible:"visible"===document.visibilityState,ad_session_id:n.props.stitchedAdMetadata.adSessionId,format_name:l};u&&n.props.trackVideoAdData("ad_pod_complete",N),n.props.trackVideoRAdEvent(u?d.V.AdPodComplete:d.V.VideoAdPodComplete,N),n.props.reset()}}}catch(e){n.props.logger.errorAndReport(e,"Unable to create metadata for stitched ad.")}},n.buildTrackingPayload=function(e){var t=n.props.stitchedAdMetadata;return(0,a.__assign)({player_mute:!!n.props.muted,player_volume:+(n.props.volume||0).toFixed(10),visible:"visible"===document.visibilityState,ad_id:null==t?void 0:t.advertiserId,ad_position:null==t?void 0:t.adPosition,duration:null==t?void 0:t.duration,creative_id:null==t?void 0:t.creativeId,total_ads:null==t?void 0:t.numberOfAds,order_id:null==t?void 0:t.orderId,line_item_id:null==t?void 0:t.lineItemId,roll_type:null==t?void 0:t.roll},e)},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(v.a.METADATA,this.onMetadata)},n.prototype.render=function(){return null},n.prototype.getRollType=function(e){return"MIDROLL"===e?m.d.Mid:"POSTROLL"===e?m.d.Post:m.d.Pre},n.prototype.getAdFormat=function(e){switch(e){case"standard_audio_ad":case"STANDARD_AUDIO":return i.StandardAudioAd;default:return i.StandardVideoAd}},n}(r.Component),C=(0,o.Zz)((0,l._)(),(0,c.VX)((function(e){var n=e.reset,t=e.startStitchedAd,i=e.videoAdMetadata,a=e.setRadToken,r=(0,f.lq)(i)&&i||void 0;return{reset:n,startStitchedAd:t,stitchedAdMetadata:r,setRadToken:a}})),(0,p.dd)((function(e){var n=e.logger,t=e.muted,i=e.volume;return{logger:n,muted:t,volume:i}})),(0,u.X)())(_);function b(e,n){n?n.split("|").forEach((function(e){return fetch(e)})):s.x2.logger.warn("failed to send stitched ad ".concat(e," tracking event - no ").concat(e," URL(s) provided"))}!function(e){e.START="start",e.END="end"}(g||(g={}))},701022:function(e,n,t){"use strict";t.d(n,{OK:function(){return u},bi:function(){return i}});var i,a=t(331635),r=t(436617),o=t(44377);!function(e){e[e.Default=0]="Default",e[e.InVideo=1]="InVideo",e[e.Pushdown=2]="Pushdown"}(i||(i={}));var s={iframeEl1:void 0,iframeEl2:void 0,curFrame:1,hasActiveBid:!1,isSDASequenceVisible:!1,sdaFormat:o.Z$.SQUEEZEBACK,sdaMode:i.Default,pushdownAvailable:!1},l=(0,a.__assign)((0,a.__assign)({},s),{reportMount:function(){return null},reportUnmount:function(){return null},setSDAMode:function(){return null},setPushdownAvailable:function(){return null},checkAndUpdateSDAHiddenState:function(){return null}}),d=(0,r.e)("SDAContext",l,(function(e){return{sdaContext:e}})),u=(d.withMemoContext,d.context)},361124:function(e,n,t){"use strict";t.d(n,{MU:function(){return T},P4:function(){return N}});var i,a=t(331635),r=t(826094),o=t(296540),s=t(440961),l=t(290942),d=t(345029),u=t(337930),c=t(452088),p=t(518658),m=t(485272),v=t(945869),f=t(122560),g=t(543256),h=t(323692),y=t(709673),k=t(457063),S=t(764823),_=t(44377),C=t(726280),b=t(573566),P=t(701022),x=c.vF.withCategory("stream-display-ad"),E="caught an error while rendering an SDA",A="sda_dynamic_durations";!function(e){e.Start="START",e.End="END",e.Abort="ABORT"}(i||(i={}));var N=1e3,w=function(e){return!(!e||!e.offsetParent)};function T(e){var n=o.useState(!1),t=n[0],c=n[1],T=o.useState(0),I=T[0],D=T[1],O=o.useRef(void 0),F=o.useRef(!1),R=e.trackAdFormatData,M=e.trackAdFormatRAdEvent,L=o.useContext(S._t).setIsMenuShowing,V=o.useContext(k.kl).behaviors,j=(0,d.If)(),B=o.useContext(y.jK),U=B.adFormatRequest,G=B.adFormatMetadata,z=B.reset,q=B.resetOutstreamAd,H=B.startClientSideAd,W=B.updateOutstreamAdDisplayStatus,K=B.videoAdMetadata,Z=B.isDisplayingSDASequence,X=B.updateSDAHiddenState,Q=B.isSDAContainerHidden,Y=o.useRef(null),$=o.useRef(null),J=o.useState(1),ee=J[0],ne=J[1],te=o.useRef(ee),ie=o.useState(P.bi.Default),ae=ie[0],re=ie[1],oe=o.useState(!1),se=oe[0],le=oe[1],de=o.useRef(ae);o.useEffect((function(){de.current=ae}),[ae]);var ue=o.useRef();ue.current=(0,b.I9)(G)?G.adFormat===_.Z$.LOWER_THIRD?P.bi[ae]:P.bi[P.bi.InVideo]:void 0;var ce=o.useMemo((function(){return function(e){if(!(0,m.rW)(e))return _.Z$.SQUEEZEBACK;return e}((null==G?void 0:G.adFormat)||(null==U?void 0:U.adFormat))}),[null==G?void 0:G.adFormat,null==U?void 0:U.adFormat]),pe=o.useState({}),me=pe[0],ve=pe[1],fe=o.useCallback((function(e){x.debug("reporting mount of ".concat(e.format?_.Z$[e.format]:void 0," format, ").concat(P.bi[e.mode||P.bi.Default]," mode, ").concat(e.isSkyscraper?"skyscraper":"non-skyscraper"," SDA component")),ve(e)}),[]),ge=o.useCallback((function(e){x.debug("reporting unmount of ".concat(e.format?_.Z$[e.format]:void 0," format, ").concat(P.bi[e.mode||P.bi.Default]," mode, ").concat(e.isSkyscraper?"skyscraper":"non-skyscraper"," SDA component")),ve((function(n){return e.format===n.format&&e.mode===n.mode&&e.isSkyscraper===n.isSkyscraper?{}:n}))}),[]),he=o.useCallback((function(e){(0,u.fX)("nab_gate")&&void 0!==j&&!d.l$.has(j)&&(w(e)?R("nab_detection",(0,a.__assign)((0,a.__assign)({},Ne.current),{nab_value:"1",client_country_code:j})):(R("nab_detection",(0,a.__assign)((0,a.__assign)({},Ne.current),{nab_value:"3",client_country_code:j})),X(!0)))}),[j,R,X]);o.useEffect((function(){te.current=ee}),[ee]);var ye=o.useCallback((function(){ne((function(e){return e%2+1}))}),[]),ke=o.useCallback((function(){return te.current%2?Y.current:$.current}),[]),Se=o.useCallback((function(){return te.current%2?$.current:Y.current}),[]),_e=o.useCallback((function(e){e&&(e.src="about:blank",e.srcdoc="")}),[]),Ce=G,be=o.useMemo((function(){return null==Ce?void 0:Ce.bid}),[null==Ce?void 0:Ce.bid]),Pe=o.useMemo((function(){return(0,f.F)(ce,be)}),[be,ce]),xe=o.useMemo((function(){return(0,g.Ny)(Pe)}),[Pe]),Ee=o.useMemo((function(){if(null==Ce?void 0:Ce.bid)return Date.now()+1e3*((null==Ce?void 0:Ce.duration)||0)}),[null==Ce?void 0:Ce.duration,null==Ce?void 0:Ce.bid]),Ae=o.useCallback((function(){var e=(0,u.fX)(A),n=1e3*((null==Ce?void 0:Ce.duration)||0);if(!e||void 0===Ee)return x.debug("Using default SDA duration of ".concat(n)),n;var t=Math.max(2e3,Math.min(Ee-Date.now(),n));return x.debug("Using updated SDA duration of ".concat(t)),t}),[Ee,null==Ce?void 0:Ce.duration]),Ne=o.useRef((null==Ce?void 0:Ce.trackingParams)||{}),we=o.useCallback((function(e){Ne.current=e||{}}),[]),Te=o.useState(!0),Ie=Te[0],De=Te[1],Oe=o.useRef(0),Fe=o.useCallback((function(){L(!1),c(!1),D(0),De(!0),we(void 0),clearInterval(O.current)}),[L,c,D,we]),Re=o.useRef(""),Me=o.useState(!1),Le=Me[0],Ve=Me[1];o.useEffect((function(){Le&&(Fe(),(null==K?void 0:K.stitched)?q():z(),R("stream_display_ad_visibility_state",(0,a.__assign)((0,a.__assign)({},Ne.current),{ad_size:"".concat(null==be?void 0:be.width,"x").concat(null==be?void 0:be.height),state:i.Abort,sub_format_name:(0,v.Fn)(ce,null==be?void 0:be.height,null==be?void 0:be.width),abort_reason:"Error",error:Re.current})),Ve(!1))}),[Fe,null==be?void 0:be.height,null==be?void 0:be.width,Le,z,q,ce,R,null==K?void 0:K.stitched]),o.useEffect((function(){U&&U.status===C.s.Filled&&(0,b.I9)(Ce)&&(null==V?void 0:V.mini)&&(Fe(),z(),R("stream_display_ad_visibility_state",(0,a.__assign)((0,a.__assign)({},Ne.current),{ad_size:"".concat(null==be?void 0:be.width,"x").concat(null==be?void 0:be.height),state:i.Abort,abort_reason:"MINI",sub_format_name:(0,v.Fn)(ce,null==be?void 0:be.height,null==be?void 0:be.width)})))}),[U,null==V?void 0:V.mini,Fe,be,z,ce,Ce,R]),o.useEffect((function(){U&&U.status===C.s.Filled&&(0,b.I9)(Ce)&&(null==K?void 0:K.stitched)&&(Fe(),q(),R("stream_display_ad_visibility_state",(0,a.__assign)((0,a.__assign)({},Ne.current),{ad_size:"".concat(null==be?void 0:be.width,"x").concat(null==be?void 0:be.height),state:i.Abort,abort_reason:"SureStream",sub_format_name:(0,v.Fn)(ce,null==be?void 0:be.height,null==be?void 0:be.width)})))}),[U,Fe,be,q,ce,Ce,R,null==K?void 0:K.stitched]);var je=(0,l.Z)(ae);o.useEffect((function(){U&&U.status===C.s.Filled&&(0,b.I9)(Ce)&&Ce.adFormat===_.Z$.LOWER_THIRD&&void 0!==je&&je!==ae&&(Fe(),z(),R("stream_display_ad_visibility_state",(0,a.__assign)((0,a.__assign)({},Ne.current),{ad_size:"".concat(null==be?void 0:be.width,"x").concat(null==be?void 0:be.height),state:i.Abort,abort_reason:"PushdownEligibilityChanged",sub_format_name:(0,v.Fn)(ce,null==be?void 0:be.height,null==be?void 0:be.width)})))}),[U,Fe,null==be?void 0:be.height,null==be?void 0:be.width,ae,je,z,ce,Ce,R]),o.useEffect((function(){(null==be?void 0:be.creativeHtml)&&t&&"visible"===(null==Ce?void 0:Ce.status)&&c(!1)}),[be,t,null==Ce?void 0:Ce.status]),o.useEffect((function(){var e=Se();if(U&&U.status===C.s.Filled&&(0,b.I9)(Ce)&&e){var n=ce!==_.Z$.LOWER_THIRD||ae===me.mode||ae===P.bi.Default&&me.mode===P.bi.InVideo,i=ce!==_.Z$.SQUEEZEBACK||xe===me.isSkyscraper;ce===me.format&&n&&i&&!F.current&&!t&&Ie&&(null==Ce?void 0:Ce.bid)&&"ready"===(null==Ce?void 0:Ce.status)&&(x.debug("rendering the ad in the new location ".concat(me.format?_.Z$[me.format]:void 0," format, ").concat(P.bi[me.mode||P.bi.Default]," mode, ").concat(me.isSkyscraper?"skyscraper":"non-skyscraper"," SDA component")),_e(e),we(null==Ce?void 0:Ce.trackingParams),(null==be?void 0:be.creativeHtml)&&(F.current=!0,p.F.renderCreative(be,e,R,!1,_.Z$[Ce.adFormat],(0,a.__assign)((0,a.__assign)({},Ne.current),{ad_size:"".concat(null==be?void 0:be.width,"x").concat(null==be?void 0:be.height),pushdown_mode:ue.current})).then((function(){var n,t;1!==(null===(n=null==Ce?void 0:Ce.trackingParams)||void 0===n?void 0:n.sda_sequence_number)&&(null===(t=null==Ce?void 0:Ce.trackingParams)||void 0===t?void 0:t.sda_sequence_number)||he(e),M(h.V.AdImpression,(0,a.__assign)((0,a.__assign)({},Ne.current),{ad_size:"".concat(null==be?void 0:be.width,"x").concat(null==be?void 0:be.height),pushdown_mode:ue.current})),(0,s.flushSync)((function(){c(!0)})),(0,s.flushSync)((function(){De(!1)})),(0,s.flushSync)((function(){D(0)})),(0,s.flushSync)((function(){ye()}))})).catch((function(e){x.warn(e),Re.current=(0,r.d)(e,{useRawMessage:!0})||E,Ve(!0)})).finally((function(){F.current=!1}))))}}),[me.format,me.isSkyscraper,me.mode,Ie,U,_e,be,Z,xe,Se,ce,ae,X,t,Ce,ye,R,M,we,Q,j,he]),o.useEffect((function(){if(t&&"ready"===(null==Ce?void 0:Ce.status)){var e=setTimeout((function(){H({adFormat:Ce.adFormat,position:Ce.adPosition,numberOfAds:1}),L(!1)}),0);return function(){return clearTimeout(e)}}}),[L,null==Ce?void 0:Ce.status,null==Ce?void 0:Ce.adFormat,null==Ce?void 0:Ce.adPosition,t,H]),o.useEffect((function(){if("visible"===(null==Ce?void 0:Ce.status)){var e=Ae(),n=setTimeout((function(){W("hiding")}),e);return clearInterval(O.current),O.current=setInterval((function(){return D((function(e){return e+1}))}),(e-600)/4),function(){return clearTimeout(n)}}}),[null==Ce?void 0:Ce.status,null==Ce?void 0:Ce.duration,W,Ae]),o.useEffect((function(){if(!Z&&"hiding"===(null==Ce?void 0:Ce.status)){var e=setTimeout((function(){Fe(),z()}),N);return function(){return clearTimeout(e)}}}),[Fe,z,Z,null==Ce?void 0:Ce.status]),o.useEffect((function(){"visible"===(null==Ce?void 0:Ce.status)?R("stream_display_ad_visibility_state",(0,a.__assign)((0,a.__assign)({},Ne.current),{ad_size:"".concat(null==be?void 0:be.width,"x").concat(null==be?void 0:be.height),state:i.Start,sub_format_name:(0,v.Fn)(ce,null==be?void 0:be.height,null==be?void 0:be.width),pushdown_mode:ue.current})):"hiding"===(null==Ce?void 0:Ce.status)&&R("stream_display_ad_visibility_state",(0,a.__assign)((0,a.__assign)({},Ne.current),{ad_size:"".concat(null==be?void 0:be.width,"x").concat(null==be?void 0:be.height),state:i.End,sub_format_name:(0,v.Fn)(ce,null==be?void 0:be.height,null==be?void 0:be.width),pushdown_mode:ue.current}))}),[be,R,null==Ce?void 0:Ce.status,null==Ce?void 0:Ce.bid,ce]);var Be=o.useRef(be);o.useEffect((function(){Be.current=be}),[be]),o.useEffect((function(){var e,n,t,i,r,o,s,l,d=ke();Oe.current!==I&&(I>0&&I<=4&&d&&(R("ad_quartile",(0,a.__assign)((0,a.__assign)({},Ne.current),{ad_size:"".concat(null===(e=Be.current)||void 0===e?void 0:e.width,"x").concat(null===(n=Be.current)||void 0===n?void 0:n.height),sub_format_name:(0,v.Fn)(ce,null===(t=Be.current)||void 0===t?void 0:t.height,null===(i=Be.current)||void 0===i?void 0:i.width),quartile:I,pushdown_mode:ue.current})),R("ad_client_quartile",(0,a.__assign)((0,a.__assign)({},Ne.current),{ad_size:"".concat(null===(r=Be.current)||void 0===r?void 0:r.width,"x").concat(null===(o=Be.current)||void 0===o?void 0:o.height),sub_format_name:(0,v.Fn)(ce,null===(s=Be.current)||void 0===s?void 0:s.height,null===(l=Be.current)||void 0===l?void 0:l.width),quartile:I,pushdown_mode:ue.current})),Oe.current=I),I>=4&&(De(!0),clearInterval(O.current)))}),[I,R,ke,ce]);var Ue=!!K,Ge=o.useRef(!1);o.useEffect((function(){(0,b.I9)(G)?Ge.current=!0:Ge.current&&(Fe(),Ue?q():z(),Ge.current=!1)}),[G,Fe,q,z,Ue,R]);var ze=!!(0,b.I9)(G);o.useEffect((function(){ze||(_e(Y.current),_e($.current))}),[ze,_e]),o.useEffect((function(){ee%2&&(x.debug("clearing iframe 2"),_e($.current)),ee%2||(x.debug("clearing iframe 1"),_e(Y.current))}),[ee,_e]);var qe=o.useState(!1),He=qe[0],We=qe[1];o.useEffect((function(){!He&&(0,b.I9)(G)&&"visible"===G.status?We(!0):He&&!(0,b.I9)(G)&&We(!1)}),[He,G]);var Ke=o.useMemo((function(){return!(!(null==Ce?void 0:Ce.bid)||!(null==be?void 0:be.creativeHtml))}),[null==be?void 0:be.creativeHtml,null==Ce?void 0:Ce.bid]);return o.useMemo((function(){return{isSDASequenceVisible:He,iframeEl1:Y,iframeEl2:$,curFrame:ee,hasActiveBid:Ke,sdaFormat:ce,sdaMode:ae,pushdownAvailable:se,setSDAMode:re,setPushdownAvailable:le,reportMount:fe,reportUnmount:ge,checkAndUpdateSDAHiddenState:he}}),[He,ee,Ke,ce,ae,se,fe,ge,he])}},122560:function(e,n,t){"use strict";t.d(n,{F:function(){return S},J:function(){return k}});var i,a=t(296540),r=t(485272),o=t(194569),s=t(945137),l=t(709673),d=t(457063),u=t(44377),c=t(573566),p=t(319224),m=t(701022),v=t(543256),f="channel_skins",g="default",h="turbo_sda_upsell",y=((i={})[g]={height:90,width:728},i[u.Z$[u.Z$.LOWER_THIRD]]={height:90,width:728},i[u.Z$[u.Z$.SQUEEZEBACK]]={height:1050,width:300},i[u.Z$[u.Z$.OUTSTREAM_VERTICAL_VIDEO]]={height:1920,width:1080},i[f]={height:113,width:728},i[h]={height:90,width:728},i);function k(){var e=a.useContext(l.jK),n=e.adFormatMetadata,t=e.isDisplayingSDASequence,i=a.useContext(o.m9).isSurveyShowing,f=(0,p.f)(),g=!(!(0,s.U0)().isTurboSDAUpsellShowing||!f),h=a.useState(void 0),k=h[0],_=h[1],C=a.useState(void 0),b=C[0],P=C[1],x=a.useState(1),E=x[0],A=x[1],N=a.useState(0),w=N[0],T=N[1],I=a.useState(0),D=I[0],O=I[1],F=a.useState(1),R=F[0],M=F[1],L=a.useState(1),V=L[0],j=L[1],B=a.useState(0),U=B[0],G=B[1],z=a.useState(0),q=z[0],H=z[1],W=a.useContext(d.kl).behaviors,K=a.useCallback((function(e){return!(!W||!W[e])}),[W]),Z=a.useState(!1),X=Z[0],Q=Z[1];a.useEffect((function(){!X&&(0,c.I9)(n)&&"visible"===n.status?Q(!0):X&&!(0,c.I9)(n)&&Q(!1)}),[X,n]);var Y=K("enableStreamDisplayAds")&&n&&(0,r.rW)(n.adFormat),$=n&&n.adFormat===u.Z$.OUTSTREAM_VERTICAL_VIDEO,J=$&&"hiding"!==(null==n?void 0:n.status),ee=Y&&t||i||g,ne=(0,r.rW)(null==n?void 0:n.adFormat)&&(null==n?void 0:n.adFormat)===u.Z$.SQUEEZEBACK,te=a.useContext(m.OK).sdaMode,ie=(0,r.rW)(null==n?void 0:n.adFormat)&&(null==n?void 0:n.adFormat)===u.Z$.LOWER_THIRD&&te===m.bi.Pushdown,ae=a.useMemo((function(){return[{"video-player--stream-display-ad_lower-third":!ie&&Y&&!ne&&!$||i||g,"video-player--stream-display-ad_squeezeback":!(ie||!Y||!ne||$||i||g),"video-player--stream-display-ad_vertical-video":!(!$||ie||ne||i||g)}]}),[Y,ne,i,ie,$,g]),re=a.useMemo((function(){return!ie&&ee&&X||!ie&&$&&J||i||g?{height:"calc(".concat(100*R,"% - ").concat(U,"px)"),width:"calc(".concat(100*V,"%)"),insetInlineStart:ne||$?"".concat(q,"px"):void 0}:{}}),[ee,X,ne,i,R,U,V,q,ie,$,g,J]),oe=(0,c.I9)(n)?n:void 0,se=a.useMemo((function(){return null==oe?void 0:oe.bid}),[null==oe?void 0:oe.bid]),le=(0,c.hr)(n)?n:void 0,de=oe||le,ue=de&&de.adFormat,ce=a.useMemo((function(){return S(ue,se,i,g)}),[se,i,ue,g]),pe=a.useMemo((function(){return{height:E?ce.height*E:ce.height,width:E?ce.width*E:ce.width}}),[ce,E]),me=a.useMemo((function(){return b&&(ne||$)?{height:pe.height,width:pe.width+V*b}:pe}),[pe,b,V,ne,$]),ve=a.useMemo((function(){return E?{height:me.height/E,width:me.width/E}:me}),[E,me]),fe=a.useCallback((function(e,n){_(n),P(e)}),[]);return a.useEffect((function(){if(void 0!==b&&void 0!==k&&(ue===u.Z$.LOWER_THIRD||i||g)){var e=k/4,n=100*(ce.height?Math.min(1,e/ce.height):1)/100,t=100*(ce.width?Math.min(1,b/ce.width):1)/100,a=Math.min(1,Math.max(0,Math.min(t,n)));A(a);var r=a*ce.height,o=Math.min(k,9*b/16),s=o?Math.min(1,(k-r)/o):1;M(s),j(1);var l=k-o,d=l/2,c=Math.max(0,d<r?(k-o-r)/2:(k-o)/2-r);T(Math.floor(c)),G(Math.floor(d<r?r<l?r:l:0)),H(0)}}),[ce.height,ce.width,k,b,ue,i,g]),a.useEffect((function(){if(void 0!==b&&void 0!==k&&ue===u.Z$.SQUEEZEBACK&&!i&&!g){var e=Math.min(b,16*k/9),n=Math.min(k,9*b/16),t=n/ce.height,a=t*ce.width;if((0,v.Ny)(ce)){var r=y[u.Z$[u.Z$.SQUEEZEBACK]];a=(t=n/r.height)*r.width}var o=Math.min(b-a,e),s=9*o/16,l=Math.max(Math.min(1,o/b),0),d=Math.max(Math.min(1,s/k),0);j(l),M(d),(0,v.Ny)(ce)?(A(Math.min(1,s/ce.height)),O(b*l)):A(t),b-a>e?(H((b-(e+a))/2),G(0),T(0)):(H(0),G(0),T(0))}}),[ce,k,b,ue,i,g]),a.useEffect((function(){if(void 0!==b&&void 0!==k&&ue===u.Z$.OUTSTREAM_VERTICAL_VIDEO&&!i){var e=Math.min(b,16*k/9),n=Math.min(k,9*b/16)/ce.height*ce.width,t=.084*n,a=b/(e+n+3*t),r=e*a,o=9*r/16,s=n*a/ce.width,l=t*a,d=Math.max(Math.min(1,r/b),0),c=Math.max(Math.min(1,o/k),0);j(d),M(c),H(l),G(0),A(Math.min(1,s)),O(l),T(0)}}),[ce,k,b,ue,i]),a.useMemo((function(){return{handleResize:fe,sdaHorizontalOffset:D,sdaScale:E,sdaVerticalOffset:w,sdaVideoRefClasses:ae,sdaVideoRefStyles:re,adDimensions:ce,scaledAdDimensions:pe,containerDimensions:ve,scaledContainerDimensions:me}}),[ce,ve,fe,pe,me,D,E,w,ae,re])}function S(e,n,t,i){var a=y[g];return e&&u.Z$[e]in y&&(a=y[u.Z$[u.Z$.OUTSTREAM_VERTICAL_VIDEO]]),t?y[f]:i?y[h]:n&&isFinite(n.width)&&isFinite(n.height)?{height:n.height,width:n.width}:a}},883036:function(e,n,t){"use strict";t.d(n,{AF:function(){return C},W5:function(){return k},S:function(){return S},gD:function(){return _}});var i,a=t(474848),r=t(959340),o=t(914421),s=t(312663),l=t(588702),d=t(296540),u=t(452088),c=t(52166),p=t(447925),m=t(709673),v=t(231273),f=t(522646),g=t(954978),h=t(573566);!function(e){e.Control="control",e.PodCountdownInMinute="iteration1",e.PodCountdownInSecond="iteration2"}(i||(i={}));var y=function(e){return e?u.x2.experiments.__hardcodedStaleExperiment("during_ad_messaging_eligibility","iteration1"):""},k=function(e){return e<10?"0".concat(e):String(e)},S=function(e){var n=_(),t=n.minutes,a=n.seconds,r=n.time,o=n.roundedTime,s=n.adPosition,l=n.numberOfAds,c=k(a),p=(0,d.useContext)(m.jK).videoAdMetadata;if(!(0,h.cz)(p)||!e&&r<0)return"";var v,f=y((0,h.lq)(p));if(e)v=l>1?(0,u.hw)("Twitch Ad {adPosition} of {numberOfAds} : ({minutes}:{seconds})",{adPosition:s,numberOfAds:l,minutes:t,seconds:c},"VideoAdCountdown"):(0,u.hw)("Twitch Ad : ({minutes}:{seconds})",{minutes:t,seconds:c},"VideoAdCountdown");else switch(f){case i.PodCountdownInMinute:v=(0,u.hw)("Ad ({minutes}:{seconds})",{minutes:t,seconds:c},"VideoAdCountdown");break;case i.PodCountdownInSecond:v=(0,u.hw)("Ad: {roundedTime}s",{roundedTime:o},"VideoAdCountdown");break;default:v=l>1?(0,u.hw)("Ad {adPosition} of {numberOfAds} : ({minutes}:{seconds})",{adPosition:s,numberOfAds:l,minutes:t,seconds:c},"VideoAdCountdown"):(0,u.hw)("{minutes}:{seconds}",{minutes:t,seconds:c},"VideoAdCountdown")}return v},_=function(){var e,n,t=(0,d.useContext)(v.$g).mediaPlayerInstance,a=(0,d.useContext)(m.jK),r=a.videoAdMetadata,o=a.adFormatMetadata,s=(0,h.hr)(o),l=s?o:r,u=null!==(e=null==l?void 0:l.numberOfAds)&&void 0!==e?e:0,k=(0,h.lq)(r)?r:void 0,S=(0,h.cz)(r),_=null!==(n=null==l?void 0:l.adPosition)&&void 0!==n?n:0,C=(0,d.useState)(0),b=C[0],P=C[1],x=d.useState(0),E=x[0],A=x[1],N=(0,d.useCallback)((function(e){P(Math.round(e.duration-e.progress))}),[]);(0,c._)(f.V.Progress,N);var w=d.useMemo((function(){return t&&k?{duration:+k.duration,podFilledDuration:+k.podFilledDuration,startPosition:t.getPosition()||0}:null}),[t,k]);d.useEffect((function(){w?1===_&&A(w.startPosition):A(0)}),[w,_]);var T=y((0,h.lq)(r));if((0,p.p)(g.a.TIME_UPDATE,(0,d.useCallback)((function(){var e;t&&w&&(e=function(e){return e===i.PodCountdownInMinute||e===i.PodCountdownInSecond}(T)?w.podFilledDuration-(t.getPosition()-E):w.duration-(t.getPosition()-w.startPosition),P(Math.round(e)))}),[t,w,T,E])),!S&&!s)return{minutes:0,seconds:0,time:0,roundedTime:0,adPosition:0,numberOfAds:0};var I=Math.max(0,b);return{minutes:Math.floor(I/60),seconds:Math.round(I%60),time:b,roundedTime:I,adPosition:_,numberOfAds:u}},C=function(){var e=S();return e?(0,a.jsx)(r.P,{position:o.yX.Absolute,attachTop:!0,attachLeft:!0,padding:1,background:o.VS.Overlay,display:o.nl.InlineBlock,"data-a-target":"video-ad-countdown",children:(0,a.jsx)(s.N,{color:o.Q1.Overlay,type:l.M2.Span,children:e})}):null};C.displayName="VideoAdCountdown"},321949:function(e,n,t){"use strict";t.d(n,{Cq:function(){return p}});var i=t(331635),a=t(474848),r=(t(296540),t(415044)),o=t(868238),s=t(128633),l=t(709673),d=t(457063),u=t(21824),c=t(573566);var p=(0,o.Zz)((0,r.Ng)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled,rightColumnExpanded:e.ui.rightColumnExpanded}})),(0,l.VX)((function(e){return{videoAdMetadata:e.videoAdMetadata,adFormatMetadata:e.adFormatMetadata,request:e.videoAdRequest,isVideoAdShowing:(0,c.cz)(e.videoAdMetadata),stitchedAdMetadata:(0,c.lq)(e.videoAdMetadata)&&e.videoAdMetadata||void 0,clientSideAdMetadata:(0,c.EF)(e.videoAdMetadata)&&e.videoAdMetadata||void 0}})),(0,d.cj)((function(e){return{behaviors:e.behaviors}})),(0,u.AP)((function(e){return{play:e.play,pause:e.pause}})))((function(e){var n,t,r,o,l=e.rightColumnExpanded,d=null===(n=e.videoAdMetadata)||void 0===n?void 0:n.stitched,u=e.format,p="audio-csai"===u,m=e.left,v=e.bottom;if(!e.isVideoAdShowing&&!(0,c.pt)(e.adFormatMetadata))return null;var f=d?function(e){var n,t,a,r,o,s,l,d,u,c,p,m,v;return(0,i.__assign)({adInput:{adIDValue:null===(n=e.stitchedAdMetadata)||void 0===n?void 0:n.lineItemId,adProgramIDValue:null,adSessionIDValue:null===(t=e.stitchedAdMetadata)||void 0===t?void 0:t.adSessionId,advertiserIDNS:null!==(r=null===(a=e.stitchedAdMetadata)||void 0===a?void 0:a.dsaAdvertiserId)&&void 0!==r?r:"",campaignIDNS:null!==(s=null===(o=e.stitchedAdMetadata)||void 0===o?void 0:o.dsaCampaignId)&&void 0!==s?s:"",creativeIDValue:null===(l=e.stitchedAdMetadata)||void 0===l?void 0:l.creativeId,mediaDurationInSeconds:null===(d=e.videoAdMetadata)||void 0===d?void 0:d.duration,pageURL:document.URL,selectionSignals:{dsaPastActivity:null===(u=e.stitchedAdMetadata)||void 0===u?void 0:u.dsaPastActivity,dsaVersion:null===(c=e.stitchedAdMetadata)||void 0===c?void 0:c.dsaVersion,isShownBasedOffUserDsaContext:null===(p=e.stitchedAdMetadata)||void 0===p?void 0:p.dsaContext,isShownBasedOffUserDsaLocation:null===(m=e.stitchedAdMetadata)||void 0===m?void 0:m.dsaLocation},slotName:null===(v=e.stitchedAdMetadata)||void 0===v?void 0:v.adFormat}},{clientInput:{ttMedium:"channel_videos"},countryInfo:{geoCode:null,isFromEU:!1}})}(e):function(e){var n,t,a,r,o,s,l,d,u,p,m,v,f,g,h,y,k,S,_,C=(0,c.hr)(e.adFormatMetadata)?e.adFormatMetadata:e.clientSideAdMetadata;return(0,i.__assign)({adInput:{adIDValue:(null===(n=null==C?void 0:C.adInfo)||void 0===n?void 0:n.adCfId)||(null===(t=null==C?void 0:C.adInfo)||void 0===t?void 0:t.adID),adProgramIDValue:null,adSessionIDValue:null===(a=e.request)||void 0===a?void 0:a.sessionID,advertiserIDNS:null!==(s=null===(o=null===(r=null==C?void 0:C.adInfo)||void 0===r?void 0:r.transparencyInfo)||void 0===o?void 0:o.advertiserId)&&void 0!==s?s:"",campaignIDNS:null!==(u=null===(d=null===(l=null==C?void 0:C.adInfo)||void 0===l?void 0:l.transparencyInfo)||void 0===d?void 0:d.campaignId)&&void 0!==u?u:"",creativeIDValue:(null===(p=null==C?void 0:C.adInfo)||void 0===p?void 0:p.creativeCfId)||(null===(m=null==C?void 0:C.adInfo)||void 0===m?void 0:m.creativeID),mediaDurationInSeconds:null==C?void 0:C.duration,pageURL:document.URL,selectionSignals:{dsaPastActivity:null===(f=null===(v=null==C?void 0:C.adInfo)||void 0===v?void 0:v.transparencyInfo)||void 0===f?void 0:f.selectionSignals.pastActivity,dsaVersion:null===(h=null===(g=null==C?void 0:C.adInfo)||void 0===g?void 0:g.transparencyInfo)||void 0===h?void 0:h.version,isShownBasedOffUserDsaContext:null===(k=null===(y=null==C?void 0:C.adInfo)||void 0===y?void 0:y.transparencyInfo)||void 0===k?void 0:k.selectionSignals.context,isShownBasedOffUserDsaLocation:null===(_=null===(S=null==C?void 0:C.adInfo)||void 0===S?void 0:S.transparencyInfo)||void 0===_?void 0:_.selectionSignals.location},slotName:null==C?void 0:C.adFormat.toString()}},{clientInput:{ttMedium:"channel_videos"},countryInfo:{geoCode:null,isFromEU:!1}})}(e);return(0,a.jsx)(s.V,{dsaContext:f,onClick:null!==(t=e.onClick)&&void 0!==t?t:e.pause,onClose:null!==(r=e.onClose)&&void 0!==r?r:e.play,format:u,left:m,bottom:v,margin:{bottom:0,top:p?0:l?1:2,right:p?0:l?1:null!==(o=e.right)&&void 0!==o?o:4},rendersInVideoPlayer:!0})}));p.displayName="VideoDSAButton"},52166:function(e,n,t){"use strict";t.d(n,{_:function(){return o}});var i=t(296540),a=t(709673),r=t(573566);function o(e,n){var t=i.useContext(a.jK),o=t.videoAdMetadata,s=t.adFormatMetadata;i.useEffect((function(){var t=(0,r.jC)(o,s);return t&&t.addEventListener(e,n),function(){t&&t.removeEventListener(e,n)}}),[o,s,e,n])}},538211:function(e,n,t){"use strict";t.d(n,{TF:function(){return iS},_4:function(){return rS},Go:function(){return oS}});var i=t(331635),a=t(474848),r=t(959340),o=t(914421),s=t(246942),l=t.n(s),d=t(296540),u=t(415044),c=t(452088),p=t(718059),m=t(37441),v=t(407827),f=t(486612),g=t(868238),h=t(730930),y=t(300235),k=t(709673),S=t(573566);function _(){return function(e){var n=function(n){function t(e){var t=n.call(this,e)||this;return t.bufferedEventListeners=[],t.attachedEventListeners=[],t.addEventListener=function(e,n){var i=t.props,a=i.videoAdMetadata,r=i.adFormatMetadata,o={event:e,listener:n},s=(0,S.jC)(a,r);s?(t.attachedEventListeners.push(o),t.bufferedEventListeners=t.filterEventListeners(t.bufferedEventListeners,e,n),s.addEventListener(e,n)):t.bufferedEventListeners.push(o)},t.removeEventListener=function(e,n){var i=t.props,a=i.videoAdMetadata,r=i.adFormatMetadata,o=(0,S.jC)(a,r);o&&(t.attachedEventListeners=t.filterEventListeners(t.attachedEventListeners,e,n),o.removeEventListener(e,n))},t.updateEventListeners=function(){var e=t.props,n=e.videoAdMetadata,i=e.adFormatMetadata;n?t.attachEventListeners(n):(0,S.hr)(i)?t.attachEventListeners(i):t.bufferPreviouslyAttachedListeners()},t.attachEventListeners=function(e){0!==t.bufferedEventListeners.length&&e&&!e.stitched&&t.bufferedEventListeners.forEach((function(e){var n=e.event,i=e.listener;return t.addEventListener(n,i)}))},t.bufferPreviouslyAttachedListeners=function(){0!==t.attachedEventListeners.length&&(t.attachedEventListeners.forEach((function(e){return t.bufferedEventListeners.push(e)})),t.attachedEventListeners=[])},t.filterEventListeners=function(e,n,t){return e.filter((function(e){var i=e.event,a=e.listener;return n!==i&&t!==a}))},t.state={adEvents:{addEventListener:t.addEventListener,removeEventListener:t.removeEventListener}},t}return(0,i.__extends)(t,n),t.prototype.componentDidMount=function(){this.updateEventListeners()},t.prototype.componentDidUpdate=function(){this.updateEventListeners()},t.prototype.componentWillUnmount=function(){var e=this;this.attachedEventListeners.forEach((function(n){var t=n.event,i=n.listener;return e.removeEventListener(t,i)}))},t.prototype.render=function(){return(0,a.jsx)(e,(0,i.__assign)({},this.props,this.state))},t.displayName=(0,y.K)(t.name,e),t}(d.Component);return(0,k.VX)(C)(n)}}function C(e){return{videoAdMetadata:e.videoAdMetadata,adFormatMetadata:e.adFormatMetadata}}var b=t(107212),P=t(231273),x=t(457063),E=t(21824),A=t(522646),N=t(891918),w=t(936608),T=t(286169),I=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onPlayerStateChange=function(e){n.maybeSetActivePlayerRef(e===N.p.PLAYING,e===N.p.IDLE)},n.onAdStateChange=function(e){var t=e===A.V.Resumed||e===A.V.Started,i=e===A.V.Paused;n.maybeSetActivePlayerRef(t,i)},n.maybeSetActivePlayerRef=function(e,t){var i=n.props.playerRefID===n.props.activeVideoPlayerRefID;e&&!i&&n.props.reportPlayerInstanceStarted(n.props.playerRefID),t&&i&&n.props.reportPlayerInstanceStarted(void 0)},n}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){e.activeVideoPlayerRefID!==this.props.activeVideoPlayerRefID&&this.props.activeVideoPlayerRefID&&this.props.activeVideoPlayerRefID!==this.props.playerRefID&&this.props.isPlaying&&this.props.exclusivePlayback&&this.props.pause()},n.prototype.componentDidMount=function(){var e=this;[N.p.IDLE,N.p.PLAYING].forEach((function(n){e.props.playerEvents.addEventListener(n,(function(){return e.onPlayerStateChange(n)}))})),[A.V.Paused,A.V.Started,A.V.Resumed].forEach((function(n){e.props.adEvents.addEventListener(n,(function(){return e.onAdStateChange(n)}))}))},n.prototype.render=function(){return null},n}(d.Component),D=(0,g.Zz)((0,u.Ng)((function(e){return{activeVideoPlayerRefID:(0,w.LG)(e)}}),(function(e){return(0,g.zH)({reportPlayerInstanceStarted:h.A},e)})),(0,E.AP)((function(e){var n=e.isPlaying,t=e.pause;return{isPlaying:n,pause:t}})),(0,P.dd)((function(e){var n=e.playerRefID;return{playerRefID:n}})),(0,x.cj)((function(e){return{exclusivePlayback:!!(0,T.wk)({playerPublicPropsContext:e}).exclusivePlayback}})),(0,b.X)(),_())(I);var O=function(e){return function(e){var n=e.playerId,t=(0,u.d4)(w.LG),i=(0,u.wA)(),a=(0,d.useRef)(t);(0,d.useEffect)((function(){a.current=t}),[t]);var r=(0,d.useRef)(n);(0,d.useEffect)((function(){r.current=n}),[n]),(0,d.useEffect)((function(){return function(){r.current===a.current&&i((0,h.A)(void 0))}}),[i])}(e),null},F=t(783321),R=t(503472),M=t(447925),L=t(954978),V=t(118483),j=t(20742),B=t.n(j),U=function(){var e=(0,F.n_)(B())[0],n=(0,d.useContext)(P.$g).logger,t=(0,d.useRef)(n.withCategory("clips-update-view-count")),a=(0,d.useContext)(x.kl).content,r=(0,V.Qc)(a),o=(0,V.Jn)(a),s=(0,d.useCallback)((function(n){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var a;return(0,i.__generator)(this,(function(s){switch(s.label){case 0:if("video-play"!==n.name||!o||!r)return[3,4];t.current.debug("incrementing clip view count",r),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,e((0,i.__assign)({},(0,R.AR)({slug:r})))];case 2:return s.sent(),[3,4];case 3:return a=s.sent(),t.current.warn("Failed to increment clip view count.",a),[3,4];case 4:return[2]}}))}))}),[r,o,e]);return(0,M.p)(L.a.ANALYTICS_EVENT,s),null},G=function(e){return e.isClip?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(U,{})}):null},z=t(928778),q=t(732446),H=t(105146),W=t(711274),K=t(648101),Z=t(289007),X=t(330925),Q=t.n(X),Y=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.logger=c.x2.logger.withCategory("CollectionManagerComponent"),n.getVodID=function(){var e,t,i,a,r;return null!==(r=null!==(e=n.props.vodID)&&void 0!==e?e:null===(a=null===(i=null===(t=n.props.data)||void 0===t?void 0:t.collection)||void 0===i?void 0:i.items.edges[0])||void 0===a?void 0:a.node.id)&&void 0!==r?r:null},n.handleEndOfVideo=function(e,t){if(t&&e){var i=function(e){var n=e.items.edges;return n.filter((function(e){return null!==e})).map((function(e){return e.node}))}(t),a=i.findIndex((function(n){return n.id===e}));if(!(a<0||i.length<=a))a<i.length-1&&n.showNextVideo(i[a+1].id,t.id)}},n.showNextVideo=function(e,t){var i=n.props.getContentUrl({type:K.FC.Collection,vodID:e,collectionID:t});i?(0,Z.cW)(i,n.props.navigate):n.logger.warn("Failed to get get next video URL.",{nextVideoID:e,collectionID:t})},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){var e=this.props,n=e.data,t=e.playbackEnded,i=e.collectionID,a=this.getVodID();i&&this.props.updateContext({collectionSessionId:(0,H.aq)()}),$(n)&&t&&this.handleEndOfVideo(a,n.collection)},n.prototype.componentDidUpdate=function(e){var n=this.getVodID();(!e.playbackEnded&&this.props.playbackEnded&&$(this.props.data)||!$(e.data)&&$(this.props.data)&&this.props.playbackEnded)&&this.handleEndOfVideo(n,this.props.data.collection),this.props.collectionID&&this.props.collectionID!==e.collectionID?this.props.updateContext({collectionSessionId:(0,H.aq)()}):this.props.collectionID||this.props.updateContext({collectionSessionId:void 0})},n.prototype.componentWillUnmount=function(){this.props.updateContext({collectionSessionId:null})},n.prototype.render=function(){return null},n}(d.Component);function $(e){return!!e&&!e.loading&&!e.error}var J=(0,g.Zz)((0,P.dd)((function(e){var n=e.mediaPlayerInstance,t=e.playerState,i=e.updateContext;return{updateContext:i,mediaPlayerInstance:n,playbackEnded:t===N.p.ENDED}})),(0,x.cj)((function(e){var n=(0,T.Rh)({playerPublicPropsContext:e}),t=(0,V.P3)(n)?n:null,i=t&&t.collectionID,a=t&&t.vodID||null;return{collectionID:i,vodID:a}})),(0,z._v)(Q(),{options:function(e){return{variables:{collectionID:e.collectionID||""}}},skip:function(e){return null===e.collectionID}}),q.y,(0,W.e)())(Y);var ee,ne,te=t(882439),ie=t(267924),ae=t(574156),re=t(669022),oe=t(711574);!function(e){e.Creative="Creative",e.Poker="Poker",e.Music="Music",e.Gaming="Gaming"}(ne||(ne={}));var se,le,de=ne.Gaming;!function(e){e.Null="*null",e.True="1",e.False="0"}(se||(se={})),function(e){e.AssetID="ns_st_ci",e.ClipLength="ns_st_cl",e.StationTitle="ns_st_st",e.Publisher="ns_st_pu",e.ProgramTitle="ns_st_pr",e.EpisodeTitle="ns_st_ep",e.SeasonNumber="ns_st_sn",e.EpisodeNumber="ns_st_en",e.Genre="ns_st_ge",e.TMSID="ns_st_ti",e.IsAdLoad="ns_st_ia",e.IsCompleteEpisode="ns_st_ce",e.DigitalAirdate="ns_st_ddt",e.TVAirdate="ns_st_tdt",e.DidConsent="cs_ucfr",e.MetrixC3="c3",e.MetrixC4="c4",e.MetrixC6="c6"}(le||(le={}));var ue=((ee={})[le.Publisher]=null,ee[le.ProgramTitle]=null,ee[le.SeasonNumber]=null,ee[le.EpisodeNumber]=null,ee[le.TMSID]=null,ee[le.IsAdLoad]=!1,ee[le.TVAirdate]=null,ee[le.MetrixC3]="TWITCH",ee[le.MetrixC4]="twitch.tv",ee[le.MetrixC6]=null,ee),ce=t(802533),pe=t(726280),me=t(953059),ve=t.n(me);function fe(e){if(!e)return null;var n=(0,ce._U)(e);return(0,ce.Yq)(n,ce.Bd.Comscore)}function ge(e){return null!==e&&Object.values(ne).includes(e)?e:de}function he(e){for(var n={},t=0,i=Object.keys(e);t<i.length;t++){var a=i[t];null===e[a]?n[a]=se.Null:!0===e[a]?n[a]=se.True:!1===e[a]?n[a]=se.False:n[a]=String(e[a])}return n}var ye=t(177972);var ke=t(324991),Se=t.n(ke),_e=function(e){function n(n){var t=e.call(this,n)||this;return t.streaming=!1,t.onPlaying=function(){var e;if(t.props.isLive&&!(0,ae.bq)(f.F.ComScore,null===(e=t.props)||void 0===e?void 0:e.consent)&&t.prevPlaySessionId!==t.props.playSessionId){var n={c1:9,c2:31864766,ax_uuid:t.props.playSessionId};!function(e,n){var t,i,a,r,o,s="comScore=",l=document,d=l.cookie,u="",c="indexOf",p="substring",m="length",v=2048,f="&ns_",g=window,h=g.encodeURIComponent||escape;if(d[c](s)+1)for(r=0,o=(a=d.split(";"))[m];r<o;r++)(i=a[r][c](s))+1&&(u="&"+unescape(a[r][p](i+s[m])));(e+=f+"_t="+ +new Date+f+"c="+(l.characterSet||l.defaultCharset||"")+(g===g.top?"":f+"if=1")+"&cv=3.1&c8="+h(l.title)+u+"&c7="+h(l.URL)+"&c9="+h(l.referrer))[m]>v&&e[c]("&")>0&&(t=e[p](0,v-8).lastIndexOf("&"),e=(e[p](0,t)+f+"cut="+h(e[p](t+1)))[p](0,v)),l.images?(i=new Image,g.ns_p||(g.ns_p=i),"function"==typeof n&&(i.onload=i.onerror=n),i.src=e):l.write("<","p","><",'img src="',e,'" height="1" width="1" alt="*"',"><","/p",">")}("https://sb.scorecardresearch.com/p?".concat(te.stringify(n))),t.prevPlaySessionId=t.props.playSessionId}t.isAdPlaying()||t.streaming||t.startComscore()},t.onIdle=function(){t.isAdPlaying()||t.stopComscore()},t.onEnded=function(){t.resetTag()},t.onContentPauseRequested=function(){t.stopComscore()},t.onAdImpression=function(){var e,n;if(t.props.videoAdMetadata||t.props.adFormatMetadata||(0,S.hr)(t.props.adFormatMetadata)){var a=(0,S.hr)(t.props.adFormatMetadata)?t.props.adFormatMetadata:t.props.videoAdMetadata,r=a.duration,o=a.roll,s=he((0,i.__assign)((0,i.__assign)({},t.consentMetadata()),((e={})[le.ClipLength]=1e3*r,e)));t.streaming=!0,null===(n=t.streamingTag)||void 0===n||n.playVideoAdvertisement(s,function(e){switch(e){case pe.d.Pre:return ve().StreamingTag.AdType.LinearOnDemandPreRoll;case pe.d.Mid:return ve().StreamingTag.AdType.LinearOnDemandMidRoll;case pe.d.Post:return ve().StreamingTag.AdType.LinearOnDemandPostRoll;default:return ve().StreamingTag.AdType.Other}}(o))}},t.onAdImpressionComplete=function(){t.stopComscore()},t.resetTag(),t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(N.p.PLAYING,this.onPlaying),this.props.playerEvents.addEventListener(N.p.IDLE,this.onIdle),this.props.playerEvents.addEventListener(N.p.ENDED,this.onEnded),this.props.adEvents.addEventListener(A.V.ContentPauseRequested,this.onContentPauseRequested),this.props.adEvents.addEventListener(A.V.Impression,this.onAdImpression),this.props.adEvents.addEventListener(A.V.Complete,this.onAdImpressionComplete)},n.prototype.componentDidUpdate=function(e){this.props.playSessionId!==e.playSessionId&&this.resetTag()},n.prototype.componentWillUnmount=function(){this.stopComscore()},n.prototype.render=function(){return null},n.prototype.startComscore=function(){var e,n=this.assetMetadata();n&&(this.streaming=!0,null===(e=this.streamingTag)||void 0===e||e.playVideoContentPart(he(n)))},n.prototype.stopComscore=function(){var e;this.streaming&&(this.streaming=!1,null===(e=this.streamingTag)||void 0===e||e.stop())},n.prototype.resetTag=function(){this.stopComscore(),this.streamingTag=new(ve().StreamingTag)({customerC2:"6745306"})},n.prototype.assetMetadata=function(){var e,n,t;if(this.props.isLive){var a=this.props.data&&this.props.data.user;return a?(0,i.__assign)((0,i.__assign)((0,i.__assign)({},ue),this.consentMetadata()),((e={})[le.AssetID]=this.props.broadcastID||"",e[le.ClipLength]=0,e[le.StationTitle]=a.displayName,e[le.EpisodeTitle]=a.broadcastSettings&&a.broadcastSettings.title||"",e[le.Genre]=ge(a.stream&&a.stream.game&&a.stream.game.name),e[le.DigitalAirdate]=fe(a.stream&&a.stream.createdAt),e[le.IsCompleteEpisode]=!0,e)):null}if(this.props.isVodOrCollection){var r=this.props.data&&this.props.data.video;return r?(0,i.__assign)((0,i.__assign)((0,i.__assign)({},ue),this.consentMetadata()),((n={})[le.AssetID]=r.id||"",n[le.ClipLength]=r.lengthSeconds&&1e3*r.lengthSeconds||null,n[le.StationTitle]=r.owner&&r.owner.displayName,n[le.EpisodeTitle]=r.title,n[le.Genre]=ge(r.game&&r.game.name),n[le.DigitalAirdate]=fe(r.createdAt),n[le.IsCompleteEpisode]=r.broadcastType===ie.Suw.ARCHIVE,n)):null}if(this.props.isClip){var o=this.props.data&&this.props.data.clip;return o?(0,i.__assign)((0,i.__assign)((0,i.__assign)({},ue),this.consentMetadata()),((t={})[le.AssetID]=o.id||"",t[le.ClipLength]=1e3*o.durationSeconds,t[le.StationTitle]=o.broadcaster&&o.broadcaster.displayName,t[le.EpisodeTitle]=o.title,t[le.Genre]=ge(o.game&&o.game.name),t[le.DigitalAirdate]=fe(o.createdAt),t[le.IsCompleteEpisode]=!1,t)):null}return null},n.prototype.consentMetadata=function(){var e,n,t,i=(0,ae.gK)(f.F.ComScore,null===(n=this.props)||void 0===n?void 0:n.consent)?!(0,ae.bq)(f.F.ComScore,null===(t=this.props)||void 0===t?void 0:t.consent):null;return(e={})[le.DidConsent]=i,e},n.prototype.isAdPlaying=function(){return!!this.props.videoAdMetadata||(0,S.pt)(this.props.adFormatMetadata)},n}(d.Component),Ce=(0,g.Zz)((0,P.dd)((function(e){return{broadcastID:(0,ye.RX)(e)||null,playSessionId:e.playSessionId}})),(0,b.X)(),(0,k.VX)((function(e){return{videoAdMetadata:e.videoAdMetadata,adFormatMetadata:e.adFormatMetadata}})),(0,x.cj)((function(e){var n=e.content;return{channelLogin:(0,V.hd)(n),clipSlug:(0,V.Qc)(n),isClip:(0,V.Jn)(n),isLive:(0,V.DG)(n),isVodOrCollection:(0,V.wy)(n)||(0,V.P3)(n),vodID:(0,V.hq)(n)}})),_(),re.z3,(0,oe.h)(),(0,z._v)(Se(),{options:function(e){var n,t,i,a;return{variables:{channel:null!==(n=e.channelLogin)&&void 0!==n?n:"",clipSlug:null!==(t=e.clipSlug)&&void 0!==t?t:"",isClip:e.isClip,isLive:e.isLive,isVodOrCollection:e.isVodOrCollection,vodID:null!==(a=null!==(i=e.vodID)&&void 0!==i?i:e.collectionVodID)&&void 0!==a?a:""}}},skip:function(e){var n;return e.isVodOrCollection&&!(null!==(n=e.vodID)&&void 0!==n?n:e.collectionVodID)}}))(_e);var be=t(917601),Pe=t(982538),xe=t(376347),Ee=t(734830),Ae=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.currSegmentPrevTimeChange=null,n.handleTimeChanged=function(e){var t=n.props.editingSegments;if(t&&t.length){var i=(0,Ee.y)(t,e),a=i.currSegment,r=i.prevSegment,o=n.currSegmentPrevTimeChange&&!a,s=o&&n.currSegmentPrevTimeChange===t[t.length-1];(n.lastEndBehaviorReceived===xe.CK.PlayAndPauseAtCurrentEditingSegmentEnd&&o||n.lastEndBehaviorReceived===xe.CK.PlayAndPauseAtLastEditingSegmentEnd&&s)&&n.pausePlayback(),r&&o&&n.lastEndBehaviorReceived===xe.CK.PlayAndReplayAtCurrentEditingSegmentEnd&&n.seekToTime(r.startOffset),n.currSegmentPrevTimeChange=a}},n.storeLastEndBehaviorRequest=function(){n.props.endBehavior&&(n.lastEndBehaviorReceived=n.props.endBehavior)},n.maybeRestartPlayback=function(e){var t=n.props,i=t.mediaPlayerInstance,a=t.endBehavior,r=t.videoOffset,o=t.isPostEdit;if(i){var s=e.videoOffset!==r&&void 0!==r,l=e.endBehavior!==a&&void 0!==a,d=e.isPostEdit!==o&&!0===o;(s||l||d)&&(i.seekTo(n.props.videoOffset||0),n.currSegmentPrevTimeChange=null,n.lastEndBehaviorReceived=a||xe.CK.PlayAndPauseAtCurrentEditingSegmentEnd),i.isPaused()&&l&&i.play()}},n.pausePlayback=function(){var e=n.props.mediaPlayerInstance;e&&e.pause()},n.seekToTime=function(e){var t=n.props.mediaPlayerInstance;t&&t.seekTo(e)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.storeLastEndBehaviorRequest()},n.prototype.componentDidUpdate=function(e){this.maybeRestartPlayback(e),this.storeLastEndBehaviorRequest()},n.prototype.render=function(){return(0,a.jsx)(Pe.j,{onTimeChanged:this.handleTimeChanged})},n}(d.Component),Ne=(0,g.Zz)((0,x.cj)((function(e){var n=(0,T.Rh)({playerPublicPropsContext:e}),t=(0,V.N1)(n),i=(0,V.J8)(n),a=(0,V.xq)(n);return{editingSegments:t,videoOffset:a,isPostEdit:i,endBehavior:(0,T.wk)({playerPublicPropsContext:e}).editingPlaybackBehavior}})),(0,P.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})))(Ae);var we=t(706411),Te=t.n(we),Ie=t(586122),De=t(764823),Oe=t(855580),Fe=t(347806),Re=["space","k"],Me=["shift+up","shift+down"],Le=["j","l","left","right"],Ve=[",","."],je=[.25,.5,.75,1,1.25,1.5,2],Be=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.mouseTrapInstance=null,n.togglePlayback=function(e,t){n.props.hasPlaybackRestriction||"space"===t&&document.activeElement&&document.activeElement!==document.body||(e.preventDefault(),n.props.isPlaying?n.props.pause({userTriggered:!0}):n.props.play({userTriggered:!0}))},n.changeVolume=function(e,t){if(!n.props.disableAudio){e.preventDefault();var i=n.props.volume||0,a="shift+up"===t?Math.round(100*Math.min(i+.1,1))/100:Math.round(100*Math.max(i-.1,0))/100;n.props.setVolume(a,{persist:!0,userTriggered:!0})}},n.closeCollectionsSidebar=function(e){e.preventDefault(),n.props.isCollectionSidebarShowing&&n.props.toggleCollectionSidebar()},n.seek=function(e,t){e.preventDefault();var i=(0,Fe.E9)(n.props),a=(0,Fe.Ds)(n.props),r=n.props.isClipContent?2:10,o=n.calculateTargetSeekTime(i,"j"===t||"left"===t?-r:r,.01,a);o&&n.props.seek(o)},n.toggleFullscreen=function(e){if(n.props.fullscreen.supported()&&!n.props.disableFullscreen){e.preventDefault();var t=n.props,i=t.isFullscreen,a=t.enterFullscreen,r=t.exitFullscreen;i?r():a()}},n.toggleMute=function(e){var t=n.props,i=t.disableAudio,a=t.isClipContent,r=t.muted,o=t.setMuted;a||i||(e.preventDefault(),o(!r,{persist:!0,userTriggered:!0}))},n.changePlaybackRate=function(e,t){if(!n.props.isLiveContent){e.preventDefault();var i=(0,Fe.ym)(n.props),a=je.findIndex((function(e){return e===i})),r=","===t?a-1:a+1;if(r>=0&&r<=je.length-1){var o=je[r];(0,Fe.qr)(o,n.props)}}},n.toggleShortcutOverlay=function(e){e.preventDefault(),n.props.isKeyboardShortcutsVisible?n.props.hideKeyboardShortcuts():(n.props.showKeyboardShortcuts(),n.props.setStatsOverlay(De.Uz.None))},n.initHandlers=function(){n.clearKeyHandlers(),n.mouseTrapInstance=new(Te());var e=n.mouseTrapInstance.stopCallback;n.mouseTrapInstance.stopCallback=n.stopCallback(e),n.setKeyHandlers()},n.setKeyHandlers=function(){n.mouseTrapInstance&&(n.mouseTrapInstance.bind(Re,n.togglePlayback,"keydown"),n.mouseTrapInstance.bind(Me,n.changeVolume,"keydown"),n.mouseTrapInstance.bind("esc",n.closeCollectionsSidebar,"keydown"),n.mouseTrapInstance.bind(Le,n.seek,"keydown"),n.mouseTrapInstance.bind("m",n.toggleMute,"keydown"),n.mouseTrapInstance.bind("f",n.toggleFullscreen,"keydown"),n.mouseTrapInstance.bind(Ve,n.changePlaybackRate,"keydown"),n.mouseTrapInstance.bind("?",n.toggleShortcutOverlay,"keydown"))},n.clearKeyHandlers=function(){n.mouseTrapInstance&&(n.mouseTrapInstance.unbind(Re,"keydown"),n.mouseTrapInstance.unbind(Me,"keydown"),n.mouseTrapInstance.unbind("esc","keydown"),n.mouseTrapInstance.unbind(Le,"keydown"),n.mouseTrapInstance.unbind("m","keydown"),n.mouseTrapInstance.unbind("f","keydown"),n.mouseTrapInstance.unbind(Ve,"keydown"),n.mouseTrapInstance.unbind("?","keydown"))},n.stopCallback=function(e){return function(t,i,a){return!!(e(t,i,a)||n.props.disableKeyboardShortcuts||n.props.forceControlVisibilityHidden)}},n.calculateTargetSeekTime=function(e,n,t,i){var a=e+n;return a<t?t:a>i?null:a},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.initHandlers()},n.prototype.componentWillUnmount=function(){this.clearKeyHandlers()},n.prototype.render=function(){return null},n}(d.Component);var Ue=(0,g.Zz)((0,k.VX)((function(e){return{videoAdMetadata:e.videoAdMetadata}})),(0,Ie.W)(),(0,P.dd)((function(e){return{hasPlaybackRestriction:(0,ye.k1)(e),mediaPlayerInstance:e.mediaPlayerInstance}})),(0,x.cj)((function(e){var n=(0,T.wk)({playerPublicPropsContext:e}),t=e.content;return{disableAudio:n.disableAudio,disableFullscreen:n.disableFullscreen,disableKeyboardShortcuts:n.disableKeyboardShortcuts,disableUserPreferencePersistence:n.disableUserPreferencePersistence,forceControlVisibilityHidden:n.forceControlVisibility===Oe.Ie.Hidden,isClipContent:(0,V.Jn)(t),isLiveContent:(0,V.DG)(t)}})),(0,De.c0)((function(e){return{enterFullscreen:e.enterFullscreen,exitFullscreen:e.exitFullscreen,hideKeyboardShortcuts:e.hideKeyboardShortcuts,isCollectionSidebarShowing:e.isCollectionSidebarShowing,isFullscreen:e.isFullscreen,isKeyboardShortcutsVisible:e.isKeyboardShortcutsVisible,setStatsOverlay:e.setStatsOverlay,showKeyboardShortcuts:e.showKeyboardShortcuts,toggleCollectionSidebar:e.toggleCollectionSidebar}})),(0,E.AP)((function(e){return{isPlaying:e.isPlaying,muted:e.muted,pause:e.pause,play:e.play,seek:e.seek,setMuted:e.setMuted,setVolume:e.setVolume,volume:e.volume}})))(Be),Ge=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.pausedFromModalShowing=!1,n.handleModalChange=function(e){var t=n.props,i=t.modalShowing,a=t.pause,r=t.play,o=t.isPlaying,s=!e.modalShowing&&i,l=e.modalShowing&&!i;s&&(n.pausedFromModalShowing=!0,a()),l&&n.pausedFromModalShowing&&!o&&r()},n.updatePausedFromModalStatus=function(e){var t=n.props.isPlaying;!e.isPlaying&&t&&(n.pausedFromModalShowing=!0)},n}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){this.updatePausedFromModalStatus(e),this.handleModalChange(e)},n.prototype.render=function(){return null},n}(d.Component),ze=(0,g.Zz)((0,u.Ng)((function(e){return{modalShowing:e.modal.show}})),(0,E.AP)((function(e){var n=e.isPlaying,t=e.pause,i=e.play;return{isPlaying:n,pause:t,play:i}})))(Ge);var qe=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={wasPlayingOnOffline:n.props.isPlaying},n.onOffline=function(){n.props.updateContext({isNetworkOffline:!0}),n.setState({wasPlayingOnOffline:n.props.isPlaying})},n.onOnline=function(){n.state.wasPlayingOnOffline&&n.props.play(),n.props.updateContext({isNetworkOffline:!1})},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){window.addEventListener("offline",this.onOffline),window.addEventListener("online",this.onOnline)},n.prototype.componentWillUnmount=function(){window.removeEventListener("offline",this.onOffline),window.removeEventListener("online",this.onOnline)},n.prototype.render=function(){return null},n}(d.Component);var He,We,Ke=(0,g.Zz)((0,P.dd)((function(e){return{updateContext:e.updateContext}})),(0,E.AP)((function(e){return{isPlaying:e.isPlaying,play:e.play}})))(qe),Ze=t(891975),Xe=t(345029),Qe=t(393749),Ye=t.n(Qe);!function(e){e.End="end",e.LoadMetadata="loadMetadata",e.SetPlayheadPosition="setPlayheadPosition",e.Stop="stop"}(He||(He={})),function(e){e[e.End=3]="End",e[e.Start=1]="Start"}(We||(We={}));var $e;!function(e){e.Active="active",e.Inactive="inactive"}($e||($e={}));var Je=d.memo((function(e){var n=e.blockConsentRequiredContent,t=e.channelLogin,i=e.disableNielsenAuditPings,a=e.isLiveContent,r=(0,d.useContext)(P.$g),o=r.hasPlayed,s=r.playSessionId,l=r.playSessionStartTime,u=(0,ye.F4)(r),p=(0,ye.pl)(r),m=(0,d.useCallback)((function(e){if(s&&!n&&a&&!i&&"US"===((0,Xe.If)()||"US")){var r="";r="primevideo"===t||"twitchmedia18"===t||"twitchmedia58"===t||"primevideo_espanol"===t||"PrimeVideo_XRayVision"===t||"Prime_XRayVision"===t||"PrimeVision"===t||"primevideo_altstream"===t?"dtvr":"dcr";var o=te.stringify({prd:"audit",apid:"PE7867845-886F-4940-8BB2-44030EE44570",sessionid:c.x2.session.appSessionID||s,streamid:s,pingtype:e,product:r,uoo:0,createtm:Math.floor((e===We.Start?l:Date.now())/1e3)}),d="nielsen-s2s-audit-ping",u=document.getElementById(d);u&&u.parentNode&&u.parentNode.removeChild(u);var p=document.createElement("img");p.id=d,p.src="".concat("https://secure-sts-prod.imrworldwide.com/cgi-bin/gn","?").concat(o),p.style.display="none",document.body.appendChild(p)}}),[i,a,s,l,t,n]),v=(0,d.useCallback)((function(){m(We.End)}),[m]),f=(0,d.useCallback)((function(){o||m(We.Start)}),[o,m]);return d.useEffect((function(){return function(){o&&!p&&m(We.End)}}),[o,p,m]),(0,M.p)(N.p.ENDED,(0,d.useCallback)((function(){m(We.End)}),[m])),(0,M.p)(N.p.PLAYING,f),(0,Ze.S)((function(){return u&&f(),window.addEventListener("beforeunload",v),function(){window.removeEventListener("beforeunload",v)}})),null}));Je.displayName="NielsenAnalytics";var en=(0,z._v)(Ye(),{options:function(e){return{variables:{isCollectionContent:e.isCollectionContent,isLiveContent:e.isLiveContent,isVODContent:e.isVodContent,collectionID:e.collectionID,login:e.channelLogin||"",vodID:e.vodID}}}})(Je),nn=function(){var e=(0,re.S9)().data,n=(0,ae.bq)(f.F.Nielsen,e),t=(0,d.useContext)(x.kl),i=t.behaviors,r=t.content,o=(0,V.DG)(r),s=(0,V.hd)(r)||null,l=(0,V.hq)(r)||"",u=(0,V.Eq)(r)||"",c=(0,V.P3)(r)&&!l,p=(0,V.wy)(r)&&!c,m=!(!i||!i.disableNielsenAuditPings);return(0,a.jsx)(en,{blockConsentRequiredContent:n,channelLogin:s,collectionID:u,disableNielsenAuditPings:m,isCollectionContent:c,isLiveContent:o,isVodContent:p,vodID:l})},tn=t(805450),an=t(65684),rn=t(194569),on=t(226483),sn=t(447944),ln=t(945137),dn=t(912800),un=t(145748),cn=t(456450),pn=t(131883),mn=t(932376),vn=t(318768),fn=function(e){var n;if(null===(n=e.authorization)||void 0===n?void 0:n.isForbidden){var t=e.authorization.forbiddenReasonCode;return t===ie.Xaf.UNAUTHORIZED||t===ie.Xaf.CHANNEL_RESTRICTED_BANNED_USER}return!1},gn=t(863845),hn=t(488910),yn=t(386864),kn=function(e){var n,t,r=d.useContext(x.kl),o=null===(n=(0,u.d4)(pn.wz))||void 0===n?void 0:n.id,s=(0,V.hd)(r.content),l=(0,mn.C)(null!=s?s:"").id,p=d.useContext(P.$g),m=p.addRestriction,v=p.liftRestriction,f=p.videoAccessToken,g=p.updateContext,h=(0,un.D)((0,cn.v7)(null!=o?o:""),{skip:!o,skipMessage:function(e){return!(function(e){return"refetch_video_token"===e.type}(e)&&e.data.channel_id===l)}})[0];return d.useEffect((function(){h&&(0,i.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return s?[4,(0,yn.X)(s,r.type)]:[3,2];case 1:(e=n.sent())&&(fn(e)?m(vn.S.AccountRestricted):v(vn.S.AccountRestricted),g({videoAccessToken:e})),n.label=2;case 2:return[2]}}))}))}),[m,s,r.type,v,h,g]),s&&e.show?(null===(t=null==f?void 0:f.authorization)||void 0===t?void 0:t.forbiddenReasonCode)===ie.Xaf.CHANNEL_RESTRICTED_BANNED_USER?(0,a.jsx)(gn.rj,{iconProps:{type:hn.W.Icon,icon:dn.t.Lock},text:[(0,c.hw)("You are banned.","AccountRestrictedOverlay"),(0,c.hw)("You are unable to watch this channel's stream until a moderator unbans you. You may be able to request an unban in the chat column.","AccountRestrictedOverlay")]}):(0,a.jsx)(gn.rj,{iconProps:{type:hn.W.Icon,icon:dn.t.Lock},text:(0,c.hw)("You are not allowed to view this stream.","AccountRestrictedOverlay")}):null},Sn=t(882197),_n=t(216042),Cn=t(79004),bn=t(953838),Pn=t(574570),xn=t(8194),En=t(898791),An=t(608189),Nn=t(124751),wn=t(548271),Tn=t(959385),In=d.memo((function(e){var n=e.stats,t=e.onClose;return(0,a.jsx)(Sn.e,{theme:"dark",children:(0,a.jsx)(_n.S,{position:o.yX.Absolute,attachTop:!0,margin:1,children:(0,a.jsx)(Tn.Vq,{suppressScrollX:!0,children:(0,a.jsxs)(r.P,{background:o.VS.Base,color:o.Q1.Base,children:[(0,a.jsx)(r.P,{display:o.nl.Flex,justifyContent:o.A9.End,children:(0,a.jsx)(Cn.a2,{"aria-label":(0,c.hw)("Close ad stats","AdstatsOverlay"),onClick:t,icon:bn.g})}),(0,a.jsxs)(Pn.X,{children:[(0,a.jsx)(xn.A,{children:(0,a.jsxs)(En.H,{children:[(0,a.jsx)(An.x,{padding:.5,label:(0,c.hw)("Name","AdStatsOverlay")}),(0,a.jsx)(An.x,{padding:.5,label:(0,c.hw)("Value","AdStatsOverlay")})]})}),(0,a.jsxs)(Nn.B,{children:[Dn((0,c.hw)("ID","AdStatsOverlay"),n&&n.id),Dn((0,c.hw)("Impression Time","AdStatsOverlay"),n&&n.impressionTime),Dn((0,c.hw)("Ad Position","AdStatsOverlay"),n&&n.adPosition),Dn((0,c.hw)("Total Ads","AdStatsOverlay"),n&&n.totalAds),Dn((0,c.hw)("Creative ID","AdStatsOverlay"),n&&n.creativeId),Dn((0,c.hw)("Ad Wrapper IDs","AdStatsOverlay"),n&&JSON.stringify(n.adWrapperIds)),Dn((0,c.hw)("System","AdStatsOverlay"),n&&n.system),Dn((0,c.hw)("Title","AdStatsOverlay"),n&&n.title),Dn((0,c.hw)("Content Type","AdStatsOverlay"),n&&n.contentType),Dn((0,c.hw)("VAST Media Height","AdStatsOverlay"),n&&n.vastMediaHeight),Dn((0,c.hw)("VAST Media Width","AdStatsOverlay"),n&&n.vastMediaWidth),Dn((0,c.hw)("VAST Media Bitrate","AdStatsOverlay"),n&&n.vastMediaBitrate)]})]})]})})})})}));function Dn(e,n){var t=void 0===n||""===n?"--":n,i="".concat(e,":");return(0,a.jsxs)(En.H,{children:[(0,a.jsx)(wn.n,{padding:.5,children:i}),(0,a.jsx)(wn.n,{padding:.5,children:t})]},e)}var On=t(312663),Fn=(0,g.Zz)((0,tn.X)({name:"AdStatsOverlay",content:(0,a.jsx)((function(){return(0,a.jsx)(r.P,{position:o.yX.Absolute,attachTop:!0,margin:1,className:"ad-stats-overlay__error-container",children:(0,a.jsx)(On.N,{color:o.Q1.Overlay,children:(0,c.hw)("The ad stats overlay has crashed. Please disable it in the player settings menu.","AdStatsOverlay")})})}),{})}))((function(){var e=d.useContext(De._t).setStatsOverlay,n=d.useContext(k.jK).adPodStats,t=d.useCallback((function(){return e(De.Uz.None)}),[e]);return(0,a.jsx)(In,{stats:n.length?n[n.length-1]:void 0,onClose:t})})),Rn=t(466307),Mn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.updateRestriction=function(){var e=n.props,t=e.addRestriction,i=e.liftRestriction,a=e.skip,r=e.restriction,o=e.restrictions,s=!a&&!o[r],l=a&&!!o[r];s?t(r):l&&i(r)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.updateRestriction()},n.prototype.componentDidUpdate=function(){this.updateRestriction()},n.prototype.componentWillUnmount=function(){var e=this.props;(0,e.liftRestriction)(e.restriction)},n.prototype.render=function(){return this.props.children||null},n}(d.Component),Ln=(0,P.dd)((function(e){var n=e.addRestriction,t=e.liftRestriction,i=e.restrictions;return{addRestriction:n,liftRestriction:t,restrictions:i}}))(Mn);var Vn=function(e){var n=e.restriction;return(0,a.jsx)(Rn.FT,{className:"content-overlay-gate",type:Rn.NL.Fullscreen,transparency:Rn.xL.Transparency0,children:(0,a.jsx)(Ln,{restriction:n})})};function jn(e,n){return(0,tn.X)({name:e,content:(0,a.jsx)(Vn,{restriction:n})})}var Bn="age_restricted_channels";function Un(e){var n=e.split(":"),t=n[0],i=n[1];return[t,parseInt(i,10)||0]}function Gn(){return c.Zn.get(Bn,[])}var zn=t(292644),qn=t(920962),Hn=t(160526),Wn=t(564368),Kn=t(917705);function Zn(e){var n=e.previousDay,t=e.newMonth,i=e.newYear;return n>(0,Kn.getDaysInMonth)(new Date(i,t))?1:n}function Xn(){return(0,Kn.getYear)(new Date)-14}function Qn(e){return void 0===e?0:tt()[e]||0}function Yn(e){var n,t,a=tt(),r=a[e],o=void 0===r?1:r+1;return t=(0,i.__assign)((0,i.__assign)({},a),((n={})[e]=o,n)),c.VS.set(nt,t),o}function $n(e,n){var t;void 0===n&&(n=!0);var a,r=at();a=(0,i.__assign)((0,i.__assign)({},r),((t={})[e]=n,t)),c.IG.set(it,a)}function Jn(e){return void 0!==e&&!!at()[e]}function et(e){var n=(0,Kn.setHours)(e,0);return n=(0,Kn.setMinutes)(n,0),n=(0,Kn.setSeconds)(n,0)}var nt="age_gates_failed";function tt(){return c.VS.get(nt,{})}var it="age_gate";function at(){return c.IG.get(it,{})}var rt=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={month:0,day:1,year:Xn()},n.renderGateContent=function(e,t){if(e.failureCount>1)return null;var i=t?zn.Y.Small:zn.Y.Default;return(0,a.jsx)(qn.h,{overlay:!0,children:(0,a.jsxs)(r.P,{display:o.nl.Flex,"data-a-target":"player-overlay-age-gate-form",children:[(0,a.jsx)(r.P,{padding:{x:.5},children:(0,a.jsxs)(Hn.l,{value:"".concat(n.state.month),onChange:n.handleMonthChange,size:i,"aria-label":(0,c.hw)("Month","AgeGateOverlay"),children:[(0,a.jsx)("option",{value:"0",children:(0,c.hw)("January","AgeGateOverlay")}),(0,a.jsx)("option",{value:"1",children:(0,c.hw)("February","AgeGateOverlay")}),(0,a.jsx)("option",{value:"2",children:(0,c.hw)("March","AgeGateOverlay")}),(0,a.jsx)("option",{value:"3",children:(0,c.hw)("April","AgeGateOverlay")}),(0,a.jsx)("option",{value:"4",children:(0,c.hw)("May","AgeGateOverlay")}),(0,a.jsx)("option",{value:"5",children:(0,c.hw)("June","AgeGateOverlay")}),(0,a.jsx)("option",{value:"6",children:(0,c.hw)("July","AgeGateOverlay")}),(0,a.jsx)("option",{value:"7",children:(0,c.hw)("August","AgeGateOverlay")}),(0,a.jsx)("option",{value:"8",children:(0,c.hw)("September","AgeGateOverlay")}),(0,a.jsx)("option",{value:"9",children:(0,c.hw)("October","AgeGateOverlay")}),(0,a.jsx)("option",{value:"10",children:(0,c.hw)("November","AgeGateOverlay")}),(0,a.jsx)("option",{value:"11",children:(0,c.hw)("December","AgeGateOverlay")})]})}),(0,a.jsx)(r.P,{padding:{x:.5},children:(0,a.jsx)(Hn.l,{value:"".concat(n.state.day),onChange:n.handleDayChange,size:i,"aria-label":(0,c.hw)("Day","AgeGateOverlay"),children:n.renderDayOptions(n.state)})}),(0,a.jsx)(r.P,{padding:{x:.5},children:(0,a.jsx)(Hn.l,{value:"".concat(n.state.year),onChange:n.handleYearChange,"data-a-target":"player-overlay-age-gate-year",size:i,"aria-label":(0,c.hw)("Year","AgeGateOverlay"),children:n.renderYearOptions()})}),(0,a.jsx)(r.P,{padding:{x:.5},children:(0,a.jsx)(Wn.$n,{onClick:n.handleSubmit,"data-a-target":"player-overlay-age-gate-submit",size:t?Wn.Mp.Small:Wn.Mp.Default,children:(0,c.hw)("Submit","AgeGateOverlay")})})]})})},n.renderDayOptions=function(e){for(var n=e.month,t=e.year,i=(0,Kn.getDaysInMonth)(new Date(t,n)),r=[],o=1;o<=i;o++)r.push((0,a.jsx)("option",{value:"".concat(o),children:o},"day-".concat(o)));return r},n.renderYearOptions=function(){for(var e=Xn(),n=[],t=e;t>e-100;t--)n.push((0,a.jsx)("option",{value:"".concat(t),children:t},"year-".concat(t)));return n},n.handleDayChange=function(e){n.setState({day:+e.currentTarget.value})},n.handleMonthChange=function(e){var t=+e.currentTarget.value;n.setState((function(e){return{day:Zn({previousDay:e.day,newMonth:t,newYear:e.year}),month:t}}))},n.handleYearChange=function(e){var t=+e.currentTarget.value;n.setState((function(e){return{day:Zn({previousDay:e.day,newMonth:e.month,newYear:t}),year:t}}))},n.handleSubmit=function(){var e=n.state,t=e.day,i=e.month,a=e.year;n.props.onSubmit({day:t,month:i,year:a})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this,n=this.props,t=n.requiredAge,i=n.failureCount>0?(0,c.hw)("Sorry, you must be over the age of {requiredAge} to view this content.",{requiredAge:t},"AgeGateOverlay"):(0,c.hw)("You must be {requiredAge} to view this content. Please enter your date of birth.",{requiredAge:t},"AgeGateOverlay");return(0,a.jsx)(gn.rj,{iconProps:{type:hn.W.Icon,icon:dn.t.Warning},text:i,children:function(n){return e.renderGateContent(e.props,n)}})},n}(d.Component),ot=t(532770),st=t.n(ot);function lt(e){var n,t=(0,V.hd)(e.content);if(t)return t;var i=e.broadcasterData;return(null===(n=null==i?void 0:i.userByAttribute)||void 0===n?void 0:n.login)||void 0}var dt=function(e){function n(n){var t=e.call(this,n)||this;t.getRequiredAge=function(e){var n=e.broadcasterData,a=lt(e);if(a){var r=Gn().reduce((function(e,n){var t,a=Un(n),r=a[0],o=a[1];return(0,i.__assign)((0,i.__assign)({},e),((t={})[r]=o,t))}),{}),o=r[a];if(o)return o}return(0,V.DG)(t.props.content)&&n&&n.userByAttribute&&n.userByAttribute.adProperties&&null!==n.userByAttribute.adProperties.requiredAge?n.userByAttribute.adProperties.requiredAge:0},t.handleSubmit=function(e){var n=lt(t.props);if(n){var i=e.day,a=e.month,r=e.year,o=t.getRequiredAge(t.props),s=function(e,n){var t=et(new Date),i=(0,Kn.subYears)(t,n);return(0,Kn.compareAsc)(et(e),i)<=0}(new Date(r,a,i),o);s?($n(n),t.setState({hasPassed:!0})):t.setState({failureCount:Yn(n)})}};var a=lt(n);return t.state={failureCount:Qn(a),hasPassed:Jn(a)},t}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){var n=lt(e),t=lt(this.props);n!==t&&this.setState({failureCount:Qn(t),hasPassed:Jn(t)})},n.prototype.render=function(){var e=this.getRequiredAge(this.props);return e<=0||this.state.hasPassed?null:(0,a.jsx)(Ln,{restriction:vn.S.Age,children:(0,a.jsx)(rt,{requiredAge:e,failureCount:this.state.failureCount,onSubmit:this.handleSubmit})})},n}(d.Component),ut=(0,g.Zz)(jn("AgeGateOverlay",vn.S.Age),(0,x.cj)((function(e){var n=e.content;return{content:n}})),(0,z._v)(st(),{name:"broadcasterData",options:function(e){return{variables:{input:{login:(0,V.hd)(e.content)||null,ownsVideoID:(0,V.hq)(e.content)||null}}}},skip:function(e){return!(0,V.DG)(e.content)&&!(0,V.hd)(e.content)&&!(0,V.hq)(e.content)}}))(dt);var ct=t(86043),pt=t(292624),mt=t(334315),vt=t(36935),ft=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderCaptionStyledError=function(e){var t=e.containerStyles,i=e.windowContainerStyles,r=e.windowStyles,o=e.textStyles;return(0,a.jsx)("div",{className:"player-captions-container",style:t,children:(0,a.jsx)("div",{className:"player-captions-container__caption-window",style:i,children:(0,a.jsx)("div",{style:r,children:(0,a.jsx)("p",{className:"player-captions-container__caption-line",style:o,children:n.getMessage()})})})})},n.renderUnstyledFallbackError=function(){return(0,a.jsx)(r.P,{display:o.nl.Flex,justifyContent:o.A9.Center,children:(0,a.jsx)(r.P,{color:o.Q1.Overlay,position:o.yX.Absolute,attachBottom:!0,margin:3,children:(0,a.jsx)(vt.hE,{children:n.getMessage()})})})},n.getMessage=function(){return(0,c.hw)("The closed caption overlay has crashed. To re-enable captions, toggle closed captions off and on in the player, or refresh the page.","CaptionOverlay")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(!this.props.captionsEnabled||!this.props.captionsAvailable)return null;var e;try{e=bt(this.props.captionsStyle)}catch(e){return this.renderUnstyledFallbackError()}return this.renderCaptionStyledError(e)},n}(d.Component),gt=(0,g.Zz)((0,De.c0)((function(e){var n=e.captions;return{captionsAvailable:n.available,captionsEnabled:n.enabled,captionsStyle:n.style}})))(ft);var ht=/\r?\n|\r/g;function yt(e){var n=e.text;return(n&&n.length>0?n.trim():"")?String(n).split(ht):[]}var kt=Object.freeze(["top","bottom","fontSize"]),St=Object.freeze(["alignItems"]);function _t(e,n){return n.reduce((function(n,t){return e.hasOwnProperty(t)&&(n[t]=e[t]),n}),{})}function Ct(e,n){return Object.getOwnPropertyNames(e).reduce((function(t,i){return n.includes(i)||(t[i]=e[i]),t}),{})}function bt(e){var n=function(e){var n=e.fontColorName,t=void 0===n?pt.OU.White:n,i=e.fontOpacity,a=void 0===i?pt.Y4.Solid:i;return{color:pt.Rw(pt.tZ[t],pt.sT[a].opacityValue),animation:pt.sT[a].animation}}(e),t=function(e){var n=e.backgroundOpacity,t=void 0===n?pt.Y4.Solid:n,i=e.backgroundColorName,a=void 0===i?pt.DA.Black:i;return pt.Rw(pt.Yi[a],pt.sT[t].opacityValue)}(e),a=function(e){var n=e.windowColorName,t=void 0===n?pt.DA.Transparent:n,i=e.windowOpacity,a=void 0===i?pt.Y4.Solid:i;return{backgroundColor:pt.Rw(pt.Yi[t],pt.sT[a].opacityValue)}}(e),r=(0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)({},e),n),pt.yF[e.fontFamily]),pt.K7[e.edge]),pt.iB[e.verticalPosition]),pt.o8[e.fontUnderline]),pt.sy[e.fontItalic]),pt.Bn[e.fontBold]),pt.kf[e.alignment]),{backgroundColor:t});return{textStyles:Ct(r,kt),containerStyles:_t(r,kt),windowContainerStyles:_t(r,St),windowStyles:a}}var Pt=function(e){function n(n){var t=e.call(this,n)||this;return t.CAPTION_THRESHOLD=10,t.onCaption=function(e){t.ccCounter=0,t.setState({data:yt(e)}),t.props.captionsAvailable||t.props.setClosedCaptionsAvailable(!0)},t.onSeekComplete=function(){t.clearCaption()},t.clearCaption=function(){t.setState({data:[]})},t.closedCaptionTick=function(){t.props.isPlaying&&!t.props.adIsPlaying&&t.ccCounter++,t.ccCounter===t.CAPTION_THRESHOLD&&t.clearCaption()},t.shouldShow=function(){return!t.props.error&&t.state.data.length&&t.props.captionsEnabled&&t.props.captionsAvailable},t.onResize=function(e){t.setState({width:e})},t.ccInterval=0,t.ccCounter=0,t.state={data:[],width:(0,mt.P)(n.videoContainer).width||0},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(L.a.TEXT_CUE,this.onCaption),this.props.playerEvents.addEventListener(L.a.SEEK_COMPLETED,this.onSeekComplete),this.ccInterval=setInterval(this.closedCaptionTick,1e3)},n.prototype.componentDidUpdate=function(e){var n=this;e.adIsPlaying!==this.props.adIsPlaying&&setTimeout((function(){n.setState({data:[]})}),500)},n.prototype.componentWillUnmount=function(){clearInterval(this.ccInterval)},n.prototype.render=function(){if(!this.shouldShow())return null;var e=bt(this.props.captionsStyle),n=e.containerStyles,t=e.textStyles,i=e.windowContainerStyles,r=e.windowStyles;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ct.$,{onResize:this.onResize,debounceMs:50}),(0,a.jsx)("div",{className:l()("player-captions-container",{"player-captions-container__sm":this.state.width<=580}),style:n,children:(0,a.jsx)("div",{className:"player-captions-container__caption-window",style:i,children:(0,a.jsx)(d.Fragment,{children:this.state.data.map((function(e,n){return(0,a.jsx)("div",{style:r,children:(0,a.jsx)("p",{style:t,className:"player-captions-container__caption-line",children:e})},e+n)}))},this.state.data.join())})})]})},n}(d.Component),xt=(0,g.Zz)((0,tn.X)({name:"CaptionOverlay",content:(0,a.jsx)(gt,{})}),(0,De.c0)((function(e){return{captionsAvailable:e.captions.available,captionsEnabled:e.captions.enabled,captionsStyle:e.captions.style,setClosedCaptionsAvailable:e.setClosedCaptionsAvailable,videoContainer:e.videoContainer}})),(0,b.X)(),(0,P.dd)((function(e){var n=e.error;return{error:!!n}})),(0,k.VX)((function(e){return{adIsPlaying:(0,S.cz)(e.videoAdMetadata)}})),(0,E.AP)((function(e){var n=e.isPlaying;return{isPlaying:n}})))(Pt);var Et=t(722340),At=t(588702),Nt=t(982592);var wt=(0,g.Zz)((0,tn.X)({name:"ChromecastOverlay"}),(0,Nt.vM)((function(e){return{isCasting:(0,Nt.mh)(e),deviceName:e.deviceName}})))((function(e){return e.isCasting?(0,a.jsx)(Rn.FT,{transparency:Rn.xL.Transparency5,type:Rn.NL.Fullscreen,children:(0,a.jsx)(r.P,{margin:{top:2},textAlign:o.nO.Center,children:(0,a.jsx)(On.N,{fontSize:o.Z4.Size4,bold:!0,lineHeight:At.aK.Heading,color:o.Q1.Overlay,children:(0,c.hw)("Now casting to {deviceName}",{deviceName:e.deviceName},"ChromecastOverlay")})})}):null}));var Tt=t(961166),It=t(569939),Dt=t(465356),Ot=t(127540),Ft=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onClick=function(e){var t=n.props,i=t.content,a=t.isPlaying,r=t.muted,o=t.onPlayerClick,s=t.volume,l=t.publicAPI;o&&o({event:e,state:{currentVideoOffsetTimestamp:n.getCurrentVideoOffsetTimestamp(),isPlaying:a,muted:r,volume:s},api:l,content:i})},n.onTouchEnd=function(e){e.preventDefault(),(0,n.props.togglePlayerActivity)(),n.onClick(e)},n.getCurrentVideoOffsetTimestamp=function(){var e=n.props,t=e.content,i=e.mediaPlayerInstance;return((0,V.Jn)(t)||(0,V.wy)(t)||(0,V.P3)(t))&&i?(0,Ot.O)(Math.floor(i.getPosition())):null},n.handleToggleFullscreen=function(){n.props.disableDoubleClickFullscreen||(n.props.isFullscreen?n.props.exitFullscreen():n.props.enterFullscreen())},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsx)(_n.S,{position:o.yX.Absolute,attachTop:!0,attachBottom:!0,attachLeft:!0,attachRight:!0,children:(0,a.jsx)("div",{className:"click-handler","data-a-target":"player-overlay-click-handler",onDoubleClick:this.handleToggleFullscreen,onClick:this.onClick,onTouchEnd:this.onTouchEnd})})},n}(d.Component),Rt=(0,g.Zz)((0,tn.X)({name:"ClickHandlerOverlay"}),(0,P.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,De.c0)((function(e){var n=e.enterFullscreen,t=e.exitFullscreen,i=e.isFullscreen;return{enterFullscreen:n,exitFullscreen:t,isFullscreen:i}})),(0,It.o1)(),(0,E.AP)((function(e){var n=e.isPlaying,t=e.muted,i=e.volume;return{isPlaying:n,muted:t,volume:i}})),(0,x.cj)((function(e){var n=e.content,t=(0,T.wk)({playerPublicPropsContext:e}).disableDoubleClickFullscreen,i=(0,T.zB)({playerPublicPropsContext:e}).onPlayerClick;return{disableDoubleClickFullscreen:t,content:n,onPlayerClick:i}})),(0,Dt.BZ)((function(e){return{publicAPI:e}})),(0,Tt.In)((function(e){var n=e.active,t=e.__doNotUse_SetPlayerActivity;return{togglePlayerActivity:function(){t(!n)}}})),q.y)(Ft);var Mt=t(67813),Lt=t(723319),Vt=t(97774),jt=t(792486),Bt=t(509534),Ut=t(298830),Gt=function(){var e=(0,d.useContext)(E.wL),n=e.play,t=e.isPlaying,i=e.pause,o=(0,d.useContext)(P.$g).mediaPlayerInstance,s=(0,c.hw)("Play","ClickToPlayPauseOverlay"),l=(0,c.hw)("Pause","ClickToPlayPauseOverlay"),u=(0,d.useState)(!1),p=u[0],m=u[1],v=(0,d.useCallback)((function(){m(!0)}),[]);(0,d.useEffect)((function(){v()}),[t,v]);var f=function(){return o?o.getDisplayHeight()<=240?30:o.getDisplayHeight()>=480?80:Math.round(o.getDisplayHeight()*(1/6)):60},g=function(){return o?o.getDisplayHeight()<=240?"6rem":o.getDisplayHeight()>=480?"10rem":"".concat(Math.round(o.getDisplayHeight()*(1/3)),"px"):"10rem"};return(0,a.jsx)(r.P,{color:"overlay",width:"fit-content",height:"100%",margin:"0 auto",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",children:(0,a.jsx)(Mt.e,{show:p,type:[Lt.ES.ScaleOver,Lt.ES.Fade],children:(0,a.jsx)(_n.S,{borderRadius:Vt.Z.Rounded,background:"overlay",height:g(),width:g(),children:(0,a.jsx)(jt.M,{onClick:function(){t?i({userTriggered:!0}):n({userTriggered:!0})},"aria-label":t?l:s,children:(0,a.jsx)(r.P,{display:"flex",alignItems:"center",justifyContent:"center",color:"overlay",children:t?(0,a.jsx)(Bt.i,{size:f()}):(0,a.jsx)(Ut.A,{size:f()})})})})})})},zt=t(187033),qt=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={audioBlockedCTATimeoutElapsed:!1},n.setAudioBlockedCTATimeoutElapsed=function(){n.setState((function(e){return e.audioBlockedCTATimeoutElapsed?null:{audioBlockedCTATimeoutElapsed:!0}}))},n.handleClick=function(){n.props.setMuted(!1,{persist:!0,userTriggered:!0})},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.overlayDuration>=0&&isFinite(this.props.overlayDuration)&&(this.visibleTimeout=setTimeout(this.setAudioBlockedCTATimeoutElapsed,this.props.overlayDuration))},n.prototype.componentWillUnmount=function(){clearTimeout(this.visibleTimeout)},n.prototype.render=function(){var e=this.props,n=e.canShow,t=e.initialMuted,i=e.muted,s=e.showOverlay,l=e.audioBlocked,d=e.userEverUnmuted;if(!n)return null;var u=!!i&&t&&s&&!d,p=l&&!this.state.audioBlockedCTATimeoutElapsed,m=u||p;return(0,a.jsx)(Mt.e,{show:m,type:Lt.ES.Fade,children:(0,a.jsx)("div",{onClick:this.handleClick,className:"click-to-unmute__container",children:(0,a.jsxs)(Rn.FT,{type:Rn.NL.Fullscreen,transparency:Rn.xL.Transparency5,children:[(0,a.jsx)(zt.x,{size:35}),(0,a.jsx)(r.P,{margin:{top:2},children:(0,a.jsx)(On.N,{fontSize:o.Z4.Size6,bold:!0,lineHeight:At.aK.Heading,color:o.Q1.Overlay,children:(0,c.hw)("Click to unmute","AutomatedMuteOverlay")})})]})})})},n}(d.Component),Ht=(0,g.Zz)((0,tn.X)({name:"ClickToUnmuteOverlay"}),(0,E.AP)((function(e){var n=e.setMuted;return{setMuted:n}})),(0,P.dd)((function(e){var n=e.audioBlocked,t=e.updateContext,i=e.muted,a=e.userEverUnmuted;return{audioBlocked:n,updateContext:t,muted:i,userEverUnmuted:a}})),(0,x.cj)((function(e){var n,t,i,a=(0,T.wk)({playerPublicPropsContext:e}).initialMuted;return{initialMuted:null!==(n=null==a?void 0:a.enabled)&&void 0!==n&&n,showOverlay:null!==(t=null==a?void 0:a.showOverlay)&&void 0!==t&&t,overlayDuration:null!==(i=null==a?void 0:a.overlayDuration)&&void 0!==i?i:5e3}})),(0,It.o1)())(qt);function Wt(){return(0,a.jsx)(gn.rj,{iconProps:{type:hn.W.Icon,icon:dn.t.DeadGlitch},text:(0,c.hw)("This clip is no longer available","ClipEmbedErrorOverlay")})}var Kt,Zt,Xt=t(847388),Qt=t(540943);!function(e){e.Clip="clip",e.Live="live_channel",e.VOD="vod"}(Kt||(Kt={})),function(e){e.Broadcaster="channel_popular_clips",e.Game="game_popular_clips",e.Top="popular_clips"}(Zt||(Zt={}));function Yt(e,n,t){var a=new URL(e),r=""!==a.search?te.parse(a.search):{};return a.search=te.stringify((0,i.__assign)((0,i.__assign)({},r),{tt_content:n,tt_medium:t})),a.toString()}function $t(e){return e?{channelLogin:e.login||"",displayName:e.displayName||e.login||""}:{channelLogin:"",displayName:""}}function Jt(e,n,t){return(0,i.__assign)((0,i.__assign)({},$t(e.broadcaster)),{category:n,content:{channelLogin:e.broadcaster&&e.broadcaster.login||void 0,clipSlug:e.slug,type:K.FC.Clip},durationSeconds:e.durationSeconds,gameName:e.game?e.game.displayName:"",itemID:e.id,imageUrl:e.thumbnailURL,title:e.title,tracking:{content:"recommendation",medium:t},type:Kt.Clip,viewCount:e.viewCount})}function ei(e,n){var t=[];if(!e.clip||!e.clip.broadcaster)return t;var a=$t(e.clip.broadcaster);return function(e){return!!(e.clip&&e.clip.broadcaster&&e.clip.broadcaster.stream&&e.clip.broadcaster.stream.id)}(e)&&t.push((0,i.__assign)((0,i.__assign)({},a),function(e,n){return{content:{channelLogin:e.login||"",type:K.FC.Live},gameName:e.stream&&e.stream.game?e.stream.game.displayName:"",itemID:e.id||"",imageUrl:Yt(e.stream&&e.stream.previewImageURL||"","recommend_stream_img",n),tracking:{content:"recommend_stream_link",medium:n},type:Kt.Live}}(e.clip.broadcaster,n))),e.clip.video&&t.push((0,i.__assign)((0,i.__assign)({},a),function(e,n,t){var i=e.game?e.game.displayName:"";return{content:{videoOffset:n||void 0,vodID:e.id,type:K.FC.VOD},durationSeconds:e.lengthSeconds||0,gameName:i,itemID:e.id,imageUrl:Yt(e.previewThumbnailURL,"recommend_vod_img",t),tracking:{content:"recommend_vod_link",medium:t},type:Kt.VOD}}(e.clip.video,e.clip.videoOffsetSeconds,n))),t.length<2&&e.clip.relatedClips&&t.push.apply(t,function(e,n,t){var i=[];if(e.broadcaster){var a=e.broadcaster.map((function(e){return Jt(e,Zt.Broadcaster,t)}));i.push.apply(i,a)}if(e.game&&i.length<n){var r=e.game.map((function(e){return Jt(e,Zt.Game,t)}));i.push.apply(i,r)}if(e.top&&i.length<n){var o=e.top.map((function(e){return Jt(e,Zt.Top,t)}));i.push.apply(i,o)}return i}(e.clip.relatedClips,2-t.length,n)),t.slice(0,2)}var ni=t(663953),ti=t(725681),ii=t(65538),ai=t(235233),ri=t(973474),oi=t(468777),si=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderOverlay=function(){var e=n.props.typeOverlay;return e?e.type===K.FC.Live?(0,a.jsx)(r.P,{position:o.yX.Absolute,attachTop:!0,attachLeft:!0,margin:1,children:(0,a.jsx)(r.P,{fontSize:o.Z4.Size4,children:(0,a.jsx)(ni.qd,{label:(0,c.hw)("LIVE","VideoPlayerVideoCard")})})}):e.type===K.FC.VOD?(0,a.jsx)(r.P,{position:o.yX.Absolute,attachTop:!0,attachLeft:!0,margin:1,children:(0,a.jsx)(r.P,{fontSize:o.Z4.Size4,children:(0,a.jsx)(ti.L,{icon:Ut.A,children:(0,oi.X)(e.durationInSeconds)})})}):e.type===K.FC.Clip?(0,a.jsx)(r.P,{position:o.yX.Absolute,attachTop:!0,attachLeft:!0,margin:1,children:(0,a.jsx)(r.P,{fontSize:o.Z4.Size4,children:(0,a.jsx)(ti.L,{icon:ii.y,children:(0,oi.X)(e.durationInSeconds)})})}):void 0:null},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.video,t=e.onSelect,i=e.info,s=e.content,l=e.marginBottom,d=void 0===l?1:l,u=e.targetBlank,p=e.getContentUrl,m=e.trackingContext;return(0,a.jsx)(_n.S,{borderRadius:Vt.Z.Small,display:o.nl.Block,margin:{bottom:d},attachTop:!0,attachBottom:!0,children:(0,a.jsxs)(jt.M,{linkTo:p(s,m),targetBlank:u,className:"offline-recommendations-video-card",onClick:t,children:[(0,a.jsx)("div",{className:"offline-recommendations-video-card-border-2",children:(0,a.jsx)("div",{className:"offline-recommendations-video-card-border-3",children:(0,a.jsx)("div",{className:"offline-recommendations-video-card-border-4",children:(0,a.jsx)(ai.j$,{ratio:16/9,children:(0,a.jsx)("div",{style:{backgroundImage:'url("https://vod-secure.twitch.tv/_404/404_processing_640x360.png")',backgroundSize:"cover"},children:(0,a.jsx)(ri.L,{className:"offline-recommendations-video-card-img",src:n.previewThumbnailURL,alt:(0,c.hw)("Video Thumbnail","VideoCard")})})})})})}),i&&(0,a.jsx)(r.P,{padding:{bottom:1},textAlign:o.nO.Left,color:o.Q1.Overlay,margin:{top:1},children:i}),this.renderOverlay()]})})},n}(d.Component),li=(0,W.e)()(si),di=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getTitle=function(e){switch(e.type){case Kt.Live:return(0,c.hw)("Watch {channelDisplayName} Live",{channelDisplayName:e.displayName},"ClipPostplayRecommendationCard");case Kt.VOD:return(0,c.hw)("Continue Watching","ClipPostplayRecommendationCard");case Kt.Clip:return e.title;default:return""}},n.getSubtitle=function(e){if(e.type===Kt.Clip){var n=(0,c.hw)("{viewCount} views",{viewCount:e.viewCount},"ClipPostplayRecommendationCard");return e.gameName?"".concat(n,"  ").concat(e.gameName):n}return e.gameName?(0,c.hw)("{channelDisplayName} playing {gameName}",{channelDisplayName:e.displayName,gameName:e.gameName},"ClipPostplayRecommendationCard"):e.type===Kt.Live?(0,c.hw)("{channelDisplayName} streaming on Twitch",{channelDisplayName:e.displayName},"ClipPostplayRecommendationCard"):e.type===Kt.VOD?(0,c.hw)("{channelDisplayName}'s video on Twitch",{channelDisplayName:e.displayName},"ClipPostplayRecommendationCard"):""},n.getTypeOverlay=function(e){switch(e.type){case Kt.Live:return{type:K.FC.Live};case Kt.VOD:return{durationInSeconds:e.durationSeconds,type:K.FC.VOD};case Kt.Clip:return{durationInSeconds:e.durationSeconds,type:K.FC.Clip};default:return}},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.recommendation,t=e.targetBlank,i=e.trackSelectionClick;return(0,a.jsx)(li,{video:{previewThumbnailURL:n.imageUrl,title:this.getTitle(n)},content:n.content,onSelect:i,info:(0,a.jsxs)(On.N,{fontSize:o.Z4.Size6,ellipsis:!0,children:[this.getTitle(n),(0,a.jsx)("br",{}),this.getSubtitle(n)]}),typeOverlay:this.getTypeOverlay(n),targetBlank:t,trackingContext:n.tracking})},n}(d.Component),ui=(0,x.cj)()(di);function ci(e){return e&&e.clip&&e.clip.broadcaster&&e.clip.broadcaster.login||null}function pi(e){return e&&e.clip&&e.clip.game&&e.clip.game.name||null}function mi(e){return e&&e.clip&&e.clip.id||null}function vi(e){return e.map((function(e){return e.type})).join(",")}function fi(e){return e.map((function(e){return e.type===Kt.Clip?e.viewCount:"null"})).join(",")}function gi(e){return{carousel_content:"similar_clips",section_index:0,source_channel:ci(e),source_game:pi(e),source_item_type:"clips",source_vod_id:mi(e)}}var hi=t(4711),yi=t.n(hi),ki=(0,z._v)(yi(),{options:function(e){var n;return{variables:{slug:null!==(n=e.clipSlug)&&void 0!==n?n:""}}},skip:function(e){return!e.clipSlug}}),Si=(0,g.Zz)((0,tn.X)({name:"ClipPostplayRecommendations"}),(0,x.cj)((function(e){var n,t=e.content,i=e.behaviors;return{clipSlug:(0,V.Qc)(t),isEmbedded:!!(null==i?void 0:i.embed),medium:null===(n=null==i?void 0:i.linkTrackingContext)||void 0===n?void 0:n.medium}})),(0,It.o1)(),ki,(0,De.c0)((function(e){var n=e.setRecommendationsShowing;return{setRecommendationsShowing:n}})))((function(e){var n=d.useRef(!1);if((0,Ze.S)((function(){return function(){return e.setRecommendationsShowing(!1)}})),d.useEffect((function(){e.data&&e.data.clip&&e.setRecommendationsShowing(!0)}),[e,e.data]),d.useEffect((function(){var t,a;n.current||!e.data||e.data.loading||e.data.error||(e.track("item_section_load",(0,i.__assign)((0,i.__assign)({},gi(e.data)),{num_recs_visible:(t=ei(e.data,e.medium)).length,rendered_item_count:t.length,rendered_item_list:(a=t,a.map((function(e){return e.itemID})).join(",")),rendered_items_types:vi(t),rendered_items_viewcounts:fi(t)})),n.current=!0)})),!e.data||!e.data.clip)return null;var t=ei(e.data,e.medium);return(0,a.jsx)(Rn.FT,{transparency:Rn.xL.Transparency1,type:Rn.NL.Fullscreen,children:(0,a.jsx)(r.P,{className:"clip-postplay-recommendations",display:o.nl.Flex,flexWrap:o.I4.NoWrap,justifyContent:o.A9.Center,alignItems:o.k2.Center,margin:{x:1},children:(0,a.jsx)(Xt.x,{justifyContent:o.A9.Center,children:t.map((function(n){return(0,a.jsx)(Qt.VP,{cols:6,children:(0,a.jsx)(ui,{recommendation:n,trackSelectionClick:function(){return function(n){e.track("item_section_click",(0,i.__assign)((0,i.__assign)({},gi(e.data)),{content:n.type===Kt.Clip?n.category:null,channel:n.channelLogin,item_id:n.itemID,item_type:n.type,item_viewcount:n.type===Kt.Clip?n.viewCount:null}))}(n)},targetBlank:e.isEmbedded})},n.itemID)}))})})})}));var _i=t(902418),Ci=t(927784),bi=t(82984),Pi=function(e){function n(n){var t=e.call(this,n)||this;return t.setRef=function(e){t.setState({clipboardInput:e})},t.copy=function(e){var n;try{t.state.clipboardInput&&t.state.clipboardInput.select(),n=document.execCommand("copy")}catch(e){n=!1}return t.props.onClick&&t.props.onClick(e),t.setState({copied:n}),n},t.state={copied:!1,clipboardInput:null},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},n.prototype.render=function(){var e=this.state.copied?(0,c.hw)("copied","CopyButton"):(0,c.hw)("copy","CopyButton");return(0,a.jsxs)(r.P,{className:"copy-button copy-btn",display:o.nl.Flex,children:[(0,a.jsx)(_n.S,{className:"copy-button__btn",children:(0,a.jsx)(Wn.$n,{onClick:this.copy,variant:this.state.copied?Wn.VQ.Success:Wn.VQ.Primary,children:e})}),(0,a.jsx)("input",{"aria-hidden":!0,className:"copy-button__copy-input",ref:this.setRef,value:this.props.clipboardText,readOnly:!0})]})},n}(d.Component),xi=(0,g.Zz)((0,bi.W)("CopyButton"))(Pi),Ei=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={value:n.props.initialText},n.onChange=function(e){n.setState({value:e.currentTarget.value})},n.handleInputClick=function(e){n.props.onInputClick&&n.props.onInputClick(e)},n.handleButtonClick=function(e){n.props.onButtonClick&&n.props.onButtonClick(e)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.latencyTracking.reportInteractive()},n.prototype.render=function(){return this.state&&this.state.value?(0,a.jsxs)(r.P,{className:"copyable-item",display:o.nl.Flex,flexGrow:1,children:[(0,a.jsx)(r.P,{flexGrow:1,children:(0,a.jsx)(Ci.pd,{disabled:this.props.disabled,onChange:this.onChange,onClick:this.handleInputClick,readOnly:this.props.readOnly,type:Ci.NZ.Text,value:this.state.value,overlay:this.props.overlay})}),(0,a.jsx)(r.P,{children:(0,a.jsx)(xi,{clipboardText:this.state.value,onClick:this.handleButtonClick})})]}):null},n}(d.Component),Ai=(0,g.Zz)((0,bi.W)("CopyableItem"))(Ei),Ni=t(291822),wi=t(523540),Ti=t(956174),Ii=t.n(Ti),Di=t(265430);function Oi(e,n){void 0===n&&(n={});var t=n.title,i=n.broadcaster,a=t||"",r="";return!a&&i&&(a=(0,c.hw)("Check out this clip from {broadcaster}'s broadcast",{broadcaster:i},"ClipShareOverlay")),a||(a=(0,c.hw)("Check out this clip","ClipShareOverlay")),"twitter"===e&&(r=" ".concat("#twitchclips"," "),a=(0,Di.W)(a,117-r.length)),a+r}var Fi=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getInputText=function(e){return(0,Z.Yk)(e,{tt_medium:"clips_api",tt_content:"url"})},n.handleCopyClick=function(){return n.trackShareClick("copy")},n.trackShareClick=function(e){n.props.track("video_share",{share_platform:wi.mO[e],location:"embed"})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.clipSlug;if(!e)return null;var n=(0,c.hw)("Sharing is Caring","ClipShareOverlay"),t=this.getInputText(e),i=this.getClipMetaData(this.props);return(0,a.jsxs)(Rn.FT,{transparency:Rn.xL.Transparency3,type:Rn.NL.Fullscreen,children:[(0,a.jsx)(r.P,{position:o.yX.Absolute,attachRight:!0,attachTop:!0,margin:{top:2,left:2,right:2},children:(0,a.jsx)(Cn.a2,{"aria-label":(0,c.hw)("Close clip sharing dialog","AdstatsOverlay"),overlay:!0,icon:bn.g,size:_i.f.Large,onClick:this.props.toggleClipSharing})}),(0,a.jsx)(Mt.e,{show:!0,transitionInitialMount:!0,type:Lt.ES.SlideOverBottom,children:(0,a.jsxs)(r.P,{children:[(0,a.jsx)(r.P,{textAlign:o.nO.Center,children:(0,a.jsx)(On.N,{fontSize:o.Z4.Size3,children:n})}),(0,a.jsxs)(r.P,{display:o.nl.Flex,padding:{top:2,bottom:2},justifyContent:o.A9.Center,children:[(0,a.jsx)(Ni.y,{size:"large",type:"twitter",onShareClick:this.trackShareClick,url:(0,Z.Yk)(e,{tt_content:"url",tt_medium:"twtr"}),text:Oi("twitter",i)}),(0,a.jsx)(Ni.y,{size:"large",type:"facebook",onShareClick:this.trackShareClick,url:(0,Z.Yk)(e,{tt_content:"url",tt_medium:"fb"})}),(0,a.jsx)(Ni.y,{size:"large",type:"reddit",onShareClick:this.trackShareClick,url:(0,Z.Yk)(e,{tt_content:"url",tt_medium:"redt"}),text:Oi("reddit",i)}),(0,a.jsx)(Ni.y,{size:"large",type:"embed",clipSlug:e,embedModalType:"clip"})]}),(0,a.jsx)(r.P,{padding:{top:2},display:o.nl.Flex,flexGrow:1,borderTop:!0,children:(0,a.jsx)(Ai,{initialText:t,onButtonClick:this.handleCopyClick,onInputClick:this.handleCopyClick,overlay:!0,readOnly:!0})})]})})]})},n.prototype.getClipMetaData=function(e){return{title:e.data&&e.data.clip&&e.data.clip.title||"",broadcaster:e.data&&e.data.clip&&e.data.clip.broadcaster&&e.data.clip.broadcaster.login||""}},n}(d.Component),Ri=(0,g.Zz)((0,tn.X)({name:"ClipShareOverlay"}),(0,De.c0)((function(e){var n=e.toggleClipSharing;return{toggleClipSharing:n}})),(0,x.cj)((function(e){var n=e.content;return{clipSlug:(0,V.Qc)(n)}})),(0,z._v)(Ii(),{skip:function(e){return!e.clipSlug},options:function(e){var n;return{variables:{slug:null!==(n=e.clipSlug)&&void 0!==n?n:""}}}}),(0,It.o1)())(Fi);var Mi=t(818578),Li=t(627561),Vi=t(539896),ji=t(536250),Bi=t(336853),Ui=function(e){var n=e.colors,t=e.onSelect;return(0,a.jsx)("div",{className:"closed-captions-settings-color-selector",children:(0,a.jsx)(Bi.n,{colors:n,onSelect:t})})},Gi=t(950962),zi=function(e){return(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(Gi.gE,(0,i.__assign)({},e,{orientation:e.orientation||Gi.aG.Vertical,children:e.children}))})},qi=function(e){var n=e.leftSide,t=e.rightSide;return(0,a.jsxs)(Xt.x,{gutterSize:Xt.V.Medium,children:[(0,a.jsx)(Qt.VP,{cols:{default:6},children:n}),(0,a.jsx)(Qt.VP,{cols:{default:6},children:t})]})};function Hi(e){switch(e){case pt.Pf.WhiteOnBlack:return(0,c.hw)("White on Black","ClosedCaptionsSettingsPresetTab");case pt.Pf.BlackOnWhite:return(0,c.hw)("Black on White","ClosedCaptionsSettingsPresetTab");case pt.Pf.CyanOnBlack:return(0,c.hw)("Cyan on Black","ClosedCaptionsSettingsPresetTab");case pt.Pf.YellowOnBlack:return(0,c.hw)("Yellow on Black","ClosedCaptionsSettingsPresetTab");case pt.Pf.LimeOnBlack:return(0,c.hw)("Lime on Black","ClosedCaptionsSettingsPresetTab");case pt.Pf.MagentaOnBlack:return(0,c.hw)("Magenta on Black","ClosedCaptionsSettingsPresetTab");case pt.Pf.WhiteOnTransBlack:return(0,c.hw)("White on Transparent Black","ClosedCaptionsSettingsPresetTab");case pt.Pf.CyanOnTransBlack:return(0,c.hw)("Cyan on Transparent Black","ClosedCaptionsSettingsPresetTab");case pt.Pf.YellowOnTransBlack:return(0,c.hw)("Yellow on Transparent Black","ClosedCaptionsSettingsPresetTab");case pt.Pf.LimeOnTransBlack:return(0,c.hw)("Lime on Transparent Black","ClosedCaptionsSettingsPresetTab");case pt.Pf.MagentaOnTransBlack:return(0,c.hw)("Magenta on Transparent Black","ClosedCaptionsSettingsPresetTab");default:return""}}function Wi(e){switch(e){case pt.zz.Bold:return(0,c.hw)("Bold","ClosedCaptionsSettingsFontStyleSelector");case pt.zz.Underline:return(0,c.hw)("Underline","ClosedCaptionsSettingsFontStyleSelector");case pt.zz.Italic:return(0,c.hw)("Italic","ClosedCaptionsSettingsFontStyleSelector");default:return""}}function Ki(e){switch(e){case pt.wX.Depressed:return(0,c.hw)("Depressed","ClosedCaptionsSettingsFontEdgeEffectSelector");case pt.wX.Uniform:return(0,c.hw)("Uniform","ClosedCaptionsSettingsFontEdgeEffectSelector");case pt.wX.Drop:return(0,c.hw)("Drop","ClosedCaptionsSettingsFontEdgeEffectSelector");case pt.wX.Raised:return(0,c.hw)("Raised","ClosedCaptionsSettingsFontEdgeEffectSelector");case pt.wX.None:return(0,c.hw)("None","ClosedCaptionsSettingsFontEdgeEffectSelector");default:return""}}var Zi,Xi=[pt.DA.Transparent,pt.DA.White,pt.DA.LightGray,pt.DA.Gray,pt.DA.DarkGray,pt.DA.Black,pt.DA.Green,pt.DA.Blue,pt.DA.Cyan,pt.DA.Magenta,pt.DA.Yellow,pt.DA.Red],Qi="ClosedCaptionsSettingsBackgroundAndWindowTabs",Yi=function(e){var n=e.currentColor,t=e.currentOpacity,i=e.onSelectColor,r=e.onSelectOpacity,o=(0,a.jsx)(zi,{label:(0,c.hw)("Opacity","ClosedCaptionsSettingsBackgroundAndWindowTabs"),id:"".concat(Qi,"-opacity"),orientation:"vertical",children:(0,a.jsx)($i,{currentOpacity:t,onChange:r})}),s=(0,a.jsx)(zi,{label:(0,c.hw)("Color","ClosedCaptionsSettingsBackgroundAndWindowTabs"),orientation:"vertical",children:(0,a.jsx)(Ji,{currentColor:n,onSelect:i})});return(0,a.jsx)(qi,{leftSide:o,rightSide:s})},$i=function(e){var n=e.currentOpacity,t=e.onChange;return(0,a.jsxs)(Hn.l,{size:zn.Y.Small,onChange:t,value:n,id:"".concat(Qi,"-opacity"),children:[(0,a.jsx)("option",{value:pt.Y4.Solid,children:(0,c.hw)("Solid","ClosedCaptionsSettingsBackgroundAndWindowTabs")}),(0,a.jsx)("option",{value:pt.Y4.Translucent,children:(0,c.hw)("Translucent","ClosedCaptionsSettingsBackgroundAndWindowTabs")})]})},Ji=function(e){var n=e.onSelect,t=e.currentColor;return(0,a.jsx)(Ui,{onSelect:n,colors:Xi.map((function(e){return{id:e,label:(0,ji.A)(e),cssValue:(0,pt.Rw)(pt.Yi[e],1),selected:t===e}}))})},ea=function(e){var n=e.captions,t=e.setClosedCaptionsStyleProperty,i=d.useCallback((function(e){t("backgroundColorName",e.id||"")}),[t]),r=d.useCallback((function(e){t("backgroundOpacity",e.currentTarget.value)}),[t]);return(0,a.jsx)(Yi,{currentColor:n.style.backgroundColorName,currentOpacity:n.style.backgroundOpacity,onSelectColor:i,onSelectOpacity:r})},na=t(736585),ta=t(965645),ia=function(e){var n=e.children;return(0,a.jsx)(r.P,{className:"closed-captions-preview",display:o.nl.Flex,children:n})},aa=function(e){var n=e.fontSize,t=e.styles;return(0,a.jsx)(r.P,{display:o.nl.Flex,flexGrow:1,className:"closed-captions-style-preview",children:(0,a.jsx)(_n.S,{display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.Center,flexGrow:1,children:(0,a.jsx)("div",{style:(0,i.__assign)((0,i.__assign)({},bt(t).textStyles),{fontSize:n}),children:(0,c.hw)("Aa","ClosedCaptionSettingsStylePreview")})})})},ra=function(e){var n=e.captionStyles,t=e.setEdgeEffect,s=d.useCallback((function(e){var n=e.currentTarget.value;t(n)}),[t]);return(0,a.jsx)(zi,{label:(0,c.hw)("Effect","FontEdgeEffectSelector"),orientation:"vertical",children:(0,a.jsx)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Row,flexWrap:o.I4.Wrap,children:[pt.wX.None,pt.wX.Raised,pt.wX.Drop,pt.wX.Depressed,pt.wX.Uniform].map((function(e){return(0,a.jsx)(r.P,{margin:{right:1,bottom:1},children:(0,a.jsx)(na.cv,{label:Ki(e),children:(0,a.jsx)(ta.nx,{borderRadius:Vt.Z.Medium,checked:n.edge===e,type:ta.h8.Radio,onChange:s,value:e,children:(0,a.jsxs)(ia,{children:[e===pt.wX.None&&(0,a.jsx)("hr",{className:"font-edge-effect-selector__no-effect-indicator"}),(0,a.jsx)(aa,{styles:(0,i.__assign)((0,i.__assign)({},pt.qS[pt.Pf.WhiteOnBlack]),{backgroundColorName:pt.DA.LightGray,edge:e}),fontSize:16})]})})})},e)}))})})},oa=function(e){var n=e.captions,t=e.setClosedCaptionsStyleProperty,i=n.style,s=d.useCallback((function(){return t(pt.zz.Bold,i.fontBold===pt.dP.Bold?pt.dP.Normal:pt.dP.Bold)}),[i.fontBold,t]),l=d.useCallback((function(){return t(pt.zz.Underline,i.fontUnderline===pt.mK.Underline?pt.mK.None:pt.mK.Underline)}),[i.fontUnderline,t]),u=d.useCallback((function(){return t(pt.zz.Italic,i.fontItalic===pt.Yf.Italic?pt.Yf.Normal:pt.Yf.Italic)}),[i.fontItalic,t]),p=d.useCallback((function(e){return t("edge",e)}),[t]),m=(0,a.jsx)(zi,{label:(0,c.hw)("Style","ClosedCaptionsSettingsEffectsTab"),orientation:"vertical",children:(0,a.jsxs)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Row,children:[(0,a.jsx)(sa,{name:pt.zz.Bold,checked:i.fontBold===pt.dP.Bold,toggleFontStyle:s,children:(0,a.jsx)(On.N,{fontSize:o.Z4.Size3,bold:!0,children:(0,c.hw)("B","ClosedCaptionsSettingsEffectsTab")})}),(0,a.jsx)(sa,{name:pt.zz.Italic,checked:i.fontItalic===pt.Yf.Italic,toggleFontStyle:u,children:(0,a.jsx)(On.N,{fontSize:o.Z4.Size3,italic:!0,children:(0,c.hw)("I","ClosedCaptionsSettingsEffectsTab")})}),(0,a.jsx)(sa,{name:pt.zz.Underline,checked:i.fontUnderline===pt.mK.Underline,toggleFontStyle:l,children:(0,a.jsx)(On.N,{fontSize:o.Z4.Size3,decoration:At.i8.Underline,children:(0,c.hw)("U","ClosedCaptionsSettingsEffectsTab")})})]})});return(0,a.jsx)(qi,{leftSide:m,rightSide:(0,a.jsx)(ra,{captionStyles:i,setEdgeEffect:p})})},sa=function(e){var n=e.name,t=e.checked,i=e.children,s=e.toggleFontStyle;return(0,a.jsx)(r.P,{margin:{right:1,bottom:1},children:(0,a.jsx)(na.cv,{label:Wi(n),children:(0,a.jsx)(ta.nx,{onChange:s,checked:t,type:ta.h8.Checkbox,borderRadius:Vt.Z.Medium,children:(0,a.jsx)(r.P,{display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.Center,className:"font-style-selector",children:i})})})},n)},la=function(e){var n=e.captions,t=e.setClosedCaptionsStylesPreset,i=d.useCallback((function(e){var n=e.currentTarget.value;t(n)}),[t]);return(0,a.jsx)(r.P,{display:o.nl.Flex,flexWrap:o.I4.Wrap,margin:{top:1},children:Object.entries(pt.qS).map((function(e){var t=e[0],o=e[1];return(0,a.jsx)(r.P,{margin:{right:1,bottom:1},children:(0,a.jsx)(na.cv,{label:Hi(t),children:(0,a.jsx)(ta.nx,{"aria-label":Hi(t),borderRadius:Vt.Z.Medium,checked:n.preset===t,type:ta.h8.Radio,onChange:i,value:t,children:(0,a.jsx)(ia,{children:(0,a.jsx)(aa,{styles:o,fontSize:14})})})})},t)}))})},da=t(25437),ua="ClosedCaptionsSettingsBackgroundAndWindowTabs",ca=function(e){var n=e.captions,t=e.setClosedCaptionsStyleProperty,i=d.useCallback((function(e){t("fontFamily",e.currentTarget.value)}),[t]),r=d.useCallback((function(e){t("fontOpacity",e.currentTarget.value)}),[t]),o=d.useCallback((function(e){t("alignment",e.currentTarget.value)}),[t]),s=d.useCallback((function(e){t("verticalPosition",e.currentTarget.value)}),[t]),l=d.useCallback((function(e){t("fontColorName",e.id||"")}),[t]),u=d.useCallback((function(e){t("fontSize",Number(e.currentTarget.value))}),[t]),p=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(zi,{label:(0,c.hw)("Font","ClosedCaptionsSettingsTextTab"),id:"".concat(ua,"-font"),orientation:"vertical",children:(0,a.jsx)(fa,{currentFontFamily:n.style.fontFamily,onChange:i})}),(0,a.jsx)(zi,{label:(0,c.hw)("Text Size","ClosedCaptionsSettingsTextTab"),id:"".concat(ua,"-font-size"),orientation:"vertical",children:(0,a.jsx)(ha,{currentFontSize:n.style.fontSize,onChange:u,previewStyle:n.style})}),(0,a.jsx)(zi,{label:(0,c.hw)("Color","ClosedCaptionsSettingsTextTab"),orientation:"vertical",children:(0,a.jsx)(ga,{currentFontColorName:n.style.fontColorName,onSelect:l})})]}),m=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(zi,{label:(0,c.hw)("Alignment","ClosedCaptionsSettingsTextTab"),id:"".concat(ua,"-alignment"),orientation:"vertical",children:(0,a.jsx)(va,{onChange:o,currentAlignment:n.style.alignment})}),(0,a.jsx)(zi,{label:(0,c.hw)("Position","ClosedCaptionsSettingsTextTab"),id:"".concat(ua,"-position"),orientation:"vertical",children:(0,a.jsx)(pa,{onChange:s,currentVerticalPosition:n.style.verticalPosition})}),(0,a.jsx)(zi,{label:(0,c.hw)("Opacity","ClosedCaptionsSettingsTextTab"),id:"".concat(ua,"-opacity"),orientation:"vertical",children:(0,a.jsx)(ma,{onChange:r,currentOpacity:n.style.fontOpacity})})]});return(0,a.jsx)(qi,{leftSide:p,rightSide:m})},pa=function(e){var n=e.onChange,t=e.currentVerticalPosition;return(0,a.jsxs)(Hn.l,{size:zn.Y.Small,onChange:n,value:t,id:"".concat(ua,"-position"),children:[(0,a.jsx)("option",{value:pt.G0.Bottom,children:(0,c.hw)("Bottom","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:pt.G0.Top,children:(0,c.hw)("Top","ClosedCaptionsSettingsTextTab")})]})},ma=function(e){var n=e.onChange,t=e.currentOpacity;return(0,a.jsxs)(Hn.l,{size:zn.Y.Small,onChange:n,value:t,id:"".concat(ua,"-opacity"),children:[(0,a.jsx)("option",{value:pt.Y4.Solid,children:(0,c.hw)("Solid","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:pt.Y4.Translucent,children:(0,c.hw)("Translucent","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:pt.Y4.SemiTransparent,children:(0,c.hw)("Semi-Transparent","ClosedCaptionsSettingsTextTab")})]})},va=function(e){var n=e.onChange,t=e.currentAlignment;return(0,a.jsxs)(Hn.l,{size:zn.Y.Small,onChange:n,value:t,id:"".concat(ua,"-alignment"),children:[(0,a.jsx)("option",{value:pt.$3.Left,children:(0,c.hw)("Left","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:pt.$3.Center,children:(0,c.hw)("Center","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:pt.$3.Right,children:(0,c.hw)("Right","ClosedCaptionsSettingsTextTab")})]})},fa=function(e){var n=e.onChange,t=e.currentFontFamily;return(0,a.jsxs)(Hn.l,{size:zn.Y.Small,onChange:n,value:t,id:"".concat(ua,"-font"),children:[(0,a.jsx)("option",{value:pt.ay.MonoSerif,children:(0,c.hw)("Mono Serif","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:pt.ay.Serif,children:(0,c.hw)("Serif","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:pt.ay.MonoSansSerif,children:(0,c.hw)("Mono Sans-Serif","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:pt.ay.SansSerif,children:(0,c.hw)("Sans-Serif","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:pt.ay.Casual,children:(0,c.hw)("Casual","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:pt.ay.Cursive,children:(0,c.hw)("Cursive","ClosedCaptionsSettingsTextTab")}),(0,a.jsx)("option",{value:pt.ay.SmallCapitals,children:(0,c.hw)("Small Capitals","ClosedCaptionsSettingsTextTab")})]})},ga=function(e){var n=e.onSelect,t=e.currentFontColorName;return(0,a.jsx)(Ui,{onSelect:n,colors:[pt.OU.White,pt.OU.Black,pt.OU.Red,pt.OU.Green,pt.OU.Cyan,pt.OU.Magenta,pt.OU.Yellow,pt.OU.Blue].map((function(e){return{id:e,label:(0,ji.A)(e),cssValue:(0,pt.Rw)(pt.tZ[e],1),selected:t===e}}))})},ha=function(e){var n=e.currentFontSize,t=e.onChange,i=e.previewStyle;return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)(r.P,{display:o.nl.Flex,alignItems:o.k2.Center,children:[(0,a.jsx)(da.Q,{min:pt.z9.min,max:pt.z9.max,step:pt.z9.increment,value:String(n),onChange:t,id:"".concat(ua,"-font-size")}),(0,a.jsx)(r.P,{className:"closed-captions-settings-font-size__preview",display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.Center,padding:{left:.5},children:(0,a.jsx)(aa,{styles:i,fontSize:i.fontSize})})]})})},ya=function(e){var n=e.captions,t=e.setClosedCaptionsStyleProperty,i=n.style,r=d.useCallback((function(e){t("windowColorName",e.id||"")}),[t]),o=d.useCallback((function(e){t("windowOpacity",e.currentTarget.value)}),[t]);return(0,a.jsx)(Yi,{currentColor:i.windowColorName,currentOpacity:i.windowOpacity,onSelectColor:r,onSelectOpacity:o})};!function(e){e[e.Presets=0]="Presets",e[e.Text=1]="Text",e[e.Effects=2]="Effects",e[e.Background=3]="Background",e[e.Window=4]="Window"}(Zi||(Zi={}));var ka=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={activeTabIndex:Zi.Presets},n.setClosedCaptionsStyleProperty=function(e,t){var i;n.props.setClosedCaptionsStyles(((i={})[e]=t,i))},n.closeSettings=function(){n.props.setClosedCaptionsSettingsShowing(!1)},n.setActiveTabIndex=function(e,t){n.setState({activeTabIndex:t})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsx)(Rn.FT,{type:Rn.NL.Fullscreen,transparency:Rn.xL.Transparency10,children:(0,a.jsx)(Vi.V,{onClickOut:this.closeSettings,children:(0,a.jsxs)(r.P,{background:o.VS.Base,color:o.Q1.Base,className:"cc-settings-overlay__modal",padding:2,children:[(0,a.jsx)(Mi.r,{title:(0,c.hw)("Closed Caption Settings","ClosedCaptionsSettingsOverlay"),closeButton:{"aria-label":(0,c.hw)("Close","ClosedCaptionsSettingsOverlay"),onClick:this.closeSettings}}),this.renderTabs(),this.renderContent()]})})})},n.prototype.renderTabs=function(){return(0,a.jsx)(Li.t,{activeTabIndex:this.state.activeTabIndex,tabs:[{label:(0,c.hw)("Presets","ClosedCaptionsSettingsOverlay"),onClick:this.setActiveTabIndex},{label:(0,c.hw)("Text","ClosedCaptionsSettingsOverlay"),onClick:this.setActiveTabIndex},{label:(0,c.hw)("Effects","ClosedCaptionsSettingsOverlay"),onClick:this.setActiveTabIndex},{label:(0,c.hw)("Background","ClosedCaptionsSettingsOverlay"),onClick:this.setActiveTabIndex},{label:(0,c.hw)("Window","ClosedCaptionsSettingsOverlay"),onClick:this.setActiveTabIndex}]})},n.prototype.renderContent=function(){switch(this.state.activeTabIndex){case Zi.Presets:return(0,a.jsx)(la,{setClosedCaptionsStylesPreset:this.props.setClosedCaptionsStylesPreset,captions:this.props.captions});case Zi.Text:return(0,a.jsx)(ca,{setClosedCaptionsStyleProperty:this.setClosedCaptionsStyleProperty,captions:this.props.captions});case Zi.Effects:return(0,a.jsx)(oa,{setClosedCaptionsStyleProperty:this.setClosedCaptionsStyleProperty,captions:this.props.captions});case Zi.Background:return(0,a.jsx)(ea,{setClosedCaptionsStyleProperty:this.setClosedCaptionsStyleProperty,captions:this.props.captions});case Zi.Window:return(0,a.jsx)(ya,{setClosedCaptionsStyleProperty:this.setClosedCaptionsStyleProperty,captions:this.props.captions});default:return null}},n}(d.Component),Sa=(0,g.Zz)((0,tn.X)({name:"ClosedCaptionsSettingsOverlay"}),(0,De.c0)((function(e){var n=e.captions,t=e.setClosedCaptionsSettingsShowing,i=e.setClosedCaptionsStyles,a=e.setClosedCaptionsStylesPreset;return{captions:n,setClosedCaptionsSettingsShowing:t,setClosedCaptionsStyles:i,setClosedCaptionsStylesPreset:a}})))(ka);var _a,Ca=t(779075),ba=function(){return(0,a.jsx)(Ca.t,{name:"CollectionEmptyOverlay",children:(0,a.jsx)(r.P,{position:o.yX.Absolute,display:o.nl.Flex,flexDirection:o.bo.Column,justifyContent:o.A9.Center,alignItems:o.k2.Center,color:o.Q1.Overlay,attachTop:!0,attachBottom:!0,attachLeft:!0,attachRight:!0,textAlign:o.nO.Center,children:(0,a.jsx)(On.N,{fontSize:o.Z4.Size4,bold:!0,lineHeight:At.aK.Heading,color:o.Q1.Overlay,children:(0,c.hw)("This collection is empty.","VideoPlayerCollectionEmptyOverlay")})})})},Pa=t(70931),xa=t(636367),Ea=t(702671),Aa=t(718254),Na=t.n(Aa);function wa(e){return null!==e}function Ta(){clearTimeout(_a)}var Ia=(0,g.Zz)((0,tn.X)({name:"CollectionSidebarOverlay"}),(0,x.cj)((function(e){var n=e.content,t=e.behaviors;return{skipQuery:!(0,V.P3)(n)||!n.collectionID,collectionID:(0,V.P3)(n)&&n.collectionID||"",vodID:(0,V.P3)(n)&&n.vodID||void 0,openLinksExternally:null==t?void 0:t.openStreamInfoLinksExternally}})),(0,De.c0)((function(e){var n=e.hideCollectionSidebar,t=e.isCollectionSidebarShowing;return{hideCollectionSidebar:n,isCollectionSidebarShowing:t}})),(0,E.AP)((function(e){var n=e.pause;return{pause:n}})),(0,z._v)(Na(),{skip:function(e){return e.skipQuery},options:function(e){return{variables:{collectionID:e.collectionID}}}}),(0,W.e)())((function(e){var n,t=e.data,i=e.hideCollectionSidebar,s=e.vodID,l=e.isCollectionSidebarShowing,u=e.getContentUrl,p=e.openLinksExternally,m=e.pause,v=d.useCallback((function(){p&&m()}),[p,m]),f=t&&t.collection;if(!f)return null;var g=f.items&&f.items.edges.filter(wa),h=f.owner&&f.owner.displayName||"",y=f.lengthSeconds||0,k=f.title||"";if(!g)return null;var S=null!=s?s:null===(n=g[0])||void 0===n?void 0:n.node.id;return(0,a.jsx)(Sn.e,{theme:"dark",children:(0,a.jsx)("aside",{onMouseLeave:function(){return function(e){_a=setTimeout(e,400)}(i)},onMouseEnter:Ta,children:(0,a.jsx)(_n.S,{className:"collections-sidebar",position:o.yX.Absolute,attachTop:!0,attachBottom:!0,attachLeft:!0,display:o.nl.Flex,flexDirection:o.bo.Column,background:o.VS.Base,children:(0,a.jsxs)(Mt.e,{show:l,type:Lt.ES.TranslateLeft,children:[(0,a.jsx)(r.P,{position:o.yX.Absolute,attachRight:!0,attachTop:!0,padding:{right:1,top:1},children:(0,a.jsx)(Cn.a2,{"aria-label":(0,c.hw)("Close collection listing","collections-sidebar"),icon:bn.g,overlay:!0,onClick:i})}),(0,a.jsxs)(r.P,{padding:1,background:o.VS.Alt2,children:[(0,a.jsx)(On.N,{color:o.Q1.Overlay,children:k}),(0,a.jsx)(On.N,{color:o.Q1.Alt2,children:(0,c.hw)("by <x:link>{owner}</x:link>  {videos} videos  {timeText}",{owner:h,"x:link":function(e){var n,t,i=null===(n=f.owner)||void 0===n?void 0:n.profileURL;return!p&&(null===(t=f.owner)||void 0===t?void 0:t.login)&&(i="/".concat(f.owner.login)),(0,a.jsx)(Pa.Cb,{linkTo:null!=i?i:"",targetBlank:p,onClick:v,children:e})},videos:f.items.totalCount,timeText:(0,Ea.a3)(y)},"collections-sidebar")})]}),(0,a.jsx)(r.P,{borderRadius:Vt.Z.Medium,elevation:3,padding:1,border:!0,overflow:o.nE.Auto,children:g.map((function(e,n){var t=e.node;return(0,a.jsx)(xa.tD,{linkTo:u({type:K.FC.Collection,vodID:t.id,collectionID:f.id}),onClick:i,borderRadius:Vt.Z.Medium,tabIndex:0,selected:S===t.id,children:(0,a.jsxs)(r.P,{padding:{x:1,y:.5},display:o.nl.Flex,alignItems:o.k2.Center,children:[(0,a.jsx)(r.P,{flexGrow:0,flexShrink:0,children:(0,a.jsx)(On.N,{className:"collections-sidebar-index",color:o.Q1.Overlay,children:n+1})}),(0,a.jsx)(r.P,{flexGrow:0,flexShrink:0,children:(0,a.jsx)("img",{alt:(0,c.hw)("Thumbnail of one of the videos in the collection.","collections-sidebar"),src:t.previewThumbnailURL})}),(0,a.jsxs)(r.P,{flexGrow:1,flexShrink:1,padding:{left:1},children:[(0,a.jsx)(On.N,{color:o.Q1.Overlay,children:t.title}),(0,a.jsx)(On.N,{color:o.Q1.Alt2,ellipsis:!0,children:h})]})]})},t.id)}))})]})})})})}));var Da=t(808835),Oa=t(424749),Fa=v.x.wrap((function(){return t.e(31012).then(t.bind(t,706367))}),"ContentClassificationGateBackgroundPlayerOverlay"),Ra=v.x.wrap((function(){return t.e(43883).then(t.bind(t,301988))}),"ContentClassificationGateMiniPlayerOverlay"),Ma=v.x.wrap((function(){return t.e(53421).then(t.bind(t,302552))}),"ContentClassificationGateVideoOverlay"),La=(0,g.Zz)((0,x.cj)((function(e){return{behaviors:e.behaviors}})),(0,Da.Z)((function(e){return{overlayType:e.overlayType,channelName:e.channelName,contentLabels:e.contentLabels,storeAcknowledgement:e.storeAcknowledgement,trackClick:e.trackClick}})),(0,k.VX)((function(e){return{videoAdMetadata:e.videoAdMetadata}})))((function(e){var n=e.overlayType,t=e.channelName,i=e.contentLabels,r=e.storeAcknowledgement,o=e.trackClick,s=e.behaviors,l=e.videoAdMetadata,d=(0,u.d4)((function(e){return e.ui.channelHomeLive}));return!(null==s?void 0:s.disableMatureOverlay)&&!(0,S.cz)(l)&&(0,Oa.cJ)(n)&&t&&i?(null==s?void 0:s.mini)?(0,a.jsx)(Ln,{restriction:vn.S.Mature,children:(0,a.jsx)(Ra,{})}):d?(0,a.jsx)(Ln,{restriction:vn.S.Mature,children:(0,a.jsx)(Fa,{})}):(0,a.jsx)(Ln,{restriction:vn.S.Mature,children:(0,a.jsx)(Ma,{channelName:t,contentLabels:i.map(Oa.Uw),overlayType:n,onAcknowledge:r,trackClick:o,showGoHomeButton:!(null==s?void 0:s.disableCCLGoHomeButton)})}):null})),Va=t(132902),ja=t(217600),Ba=t(657659),Ua=function(e){var n=e.children,t=e.onClick,i=e.ariaLabel,o=(0,a.jsx)(r.P,{padding:1,borderRadius:Vt.Z.Medium,margin:{bottom:1},className:"disclosure-card",children:n});return(0,a.jsx)(qn.h,{overlay:!0,"aria-label":i,children:"function"==typeof t?(0,a.jsx)(jt.M,{onClick:t,children:o}):o})};var Ga=function(e){var n=e.brandedContentTrackingBase,t=e.disableArrowOnDisclosure;return(0,a.jsx)(Ua,{onClick:function(){var e;window.open("https://help.twitch.tv/s/article/branded-content-policy","_blank"),e=n,c.E5.track("branded_content_disclosure_click",{event_id:e.event_id,content_type:e.content_type})},children:(0,a.jsxs)(r.P,{display:"flex",justifyContent:"space-between",children:[(0,a.jsx)(r.P,{margin:{x:.5},children:(0,a.jsx)(On.N,{fontWeight:"semibold",children:(0,c.hw)("Includes Paid Promotion","Branded Content Disclosure Tool")})}),!t&&(0,a.jsx)(r.P,{display:"flex",margin:{left:.5},children:(0,a.jsx)(Ba.d,{})})]})})},za=t(973421),qa=t.n(za),Ha=t(611407),Wa=t(290942),Ka=t(982821),Za=t(333965),Xa=t.n(Za),Qa=function(){var e,n,t,a,r,o,s,l,u,p,m,v,f=d.useRef((0,H.aq)()),g=d.useContext(x.kl).content,h=!!(0,V.DG)(g),y=!!(0,V.wy)(g)||!(!(0,V.P3)(g)||!g.vodID),k=(0,V.hd)(g)||"",S=(0,V.hq)(g)||"",_={login:k||"",vodID:S||"",isLive:h,isVOD:y},C=(0,F.IT)(Xa(),{fetchPolicy:"cache-and-network",variables:_,skip:""===k&&""===S}).data;y&&""===k&&(k=(null===(n=null===(e=null==C?void 0:C.video)||void 0===e?void 0:e.owner)||void 0===n?void 0:n.login)||"");var b=(null===(t=null==C?void 0:C.user)||void 0===t?void 0:t.id)||(null===(r=null===(a=null==C?void 0:C.video)||void 0===a?void 0:a.owner)||void 0===r?void 0:r.id)||"",P=(null===(l=null===(s=null===(o=null==C?void 0:C.user)||void 0===o?void 0:o.stream)||void 0===s?void 0:s.contentPolicyProperties)||void 0===l?void 0:l.hasBrandedContent)&&h||!1,E=(null===(p=null===(u=null==C?void 0:C.video)||void 0===u?void 0:u.contentPolicyProperties)||void 0===p?void 0:p.hasBrandedContent)&&y&&(null===(m=null==C?void 0:C.video)||void 0===m?void 0:m.broadcastType)===ie.Suw.ARCHIVE||!1,A=P||E||!1,N=(0,Wa.Z)(A);(0,Ha.C)({query:Xa(),skip:""===k||""===b||!h,variables:_,topic:(0,cn.im)(b),type:Ka.PD.ContentPolicyPropertiesV1,mutator:function(e,n){return n.user&&n.user.stream&&n.user.stream.contentPolicyProperties&&void 0!==e.data.has_branded_content?qa()(n,(function(e){return e.user.stream.contentPolicyProperties.hasBrandedContent}),(function(){return e.data.has_branded_content})):n}});var w=ie.Iem.CONTENT_TYPE_UNSET;h?w=ie.Iem.CONTENT_TYPE_CHANNEL:y&&(null===(v=null==C?void 0:C.video)||void 0===v?void 0:v.broadcastType)===ie.Suw.ARCHIVE&&(w=ie.Iem.CONTENT_TYPE_PAST_BROADCAST);var T={event_id:f.current,content_type:w},I={render_start:!1,render_end:!1,visible:!1},D=function(){var e;A?R?I.render_start=!0:I.render_end=!0:I.render_end=!0===N,I.visible=L,(I.render_start||I.render_end)&&(I.render_end&&(f.current=(0,H.aq)()),e=(0,i.__assign)((0,i.__assign)({},T),I),c.E5.track("branded_content_disclosure_render",{event_id:e.event_id,content_type:e.content_type,render_start:e.render_start,render_end:e.render_end,visible:e.visible}))},O=d.useState(!0),R=O[0],M=O[1];d.useEffect((function(){N!==A&&M(A);var e=setTimeout((function(){M((function(e){return!e}))}),R?1e4:36e5);return function(){clearTimeout(e)}}),[R,A,k,S]);var L=A&&R;return d.useEffect((function(){D()}),[L]),d.useEffect((function(){M(!0)}),[k,S]),{isBrandedContentVisible:L,brandedContentTrackingBase:T}},Ya=t(317193),$a=t(674602),Ja=t(630193),er=t(145463),nr=function(){return(0,c.hw)("Intended for certain audiences","ContentClassificationDisclosureOverlay")},tr=function(e){return(0,c.hw)("May contain: {labelList}",{labelList:(0,c.ki)(e,{style:"short",type:"unit"})},"ContentClassificationDisclosureOverlay")},ir=function(e){return(0,c.hw)("Manage your content preferences in <x:link>settings</x:link>.",{"x:link":function(n){return(0,a.jsx)(Pa.Cb,{targetBlank:!e||(0,Ja.W)(),linkTo:{pathname:e?(0,er.VV)("/settings/content-preferences"):"https://help.twitch.tv/s/article/how-to-customize-content#ContentDisplayPreferences",state:{medium:"content_warning_card",content:"manage_settings_button"}},children:n})}},"ContentClassificationDisclosureOverlay")},ar=function(){return(0,c.hw)("Failed to determine content classification","ContentClassificationDisclosureOverlay")},rr=function(e){var n,t=e.contentList,i=e.disableArrowOnDisclosure,s=e.trackClick,l=(0,d.useState)(!1),p=l[0],m=l[1],v=(0,d.useCallback)((function(){return m((function(e){var n=t.length>0&&!e;return s(n?"expand_disclosure":"collapse_disclosure"),n}))}),[t,m,s]),f=(0,d.useState)(void 0),g=f[0],h=f[1],y=(0,u.d4)(pn.M3),k=(0,d.useCallback)((function(e){var n,t=null===(n=null==e?void 0:e.getBoundingClientRect())||void 0===n?void 0:n.width;t&&h("".concat(t,"px"))}),[h]);return(0,a.jsx)(Ua,{onClick:v,ariaLabel:t.length>0?(n=t,(0,c.hw)("Intended for certain audiences. May contain: {labelList}",{labelList:(0,c.ki)(n,{style:"short",type:"unit"})},"ContentClassificationDisclosureOverlay")):nr(),children:(0,a.jsxs)(r.P,{display:"flex",flexDirection:"column",justifyContent:"space-between",margin:{left:.5},style:{lineHeight:0},ref:k,"data-a-target":"content-classification-warning-disclosure-overlay",children:[(0,a.jsxs)(r.P,{display:"flex",justifyContent:"space-between",children:[(0,a.jsx)(On.N,{fontWeight:"semibold",children:nr()}),!i&&t.length>0&&(0,a.jsx)(r.P,{margin:{left:1},children:(0,a.jsx)($a.K7,{closedDirection:"down",openDirection:"up",open:p})})]}),t.length>0&&(0,a.jsxs)(Mt.e,{type:"slide-over-top",show:p,children:[(0,a.jsx)(r.P,{padding:{top:.5},width:g,children:(0,a.jsx)(On.N,{color:o.Q1.OverlayAlt,children:tr(t)})}),(0,a.jsx)(r.P,{padding:{top:1},width:g,children:(0,a.jsx)(On.N,{color:o.Q1.OverlayAlt,children:ir(y)})})]})]})})},or=t(105922),sr=function(e){var n=e.onHideClick;return(0,a.jsx)(Ua,{ariaLabel:ar(),children:(0,a.jsxs)(r.P,{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",children:[(0,a.jsx)(r.P,{display:"flex",margin:{x:.5},children:(0,a.jsx)(or.i,{})}),(0,a.jsx)(r.P,{margin:{x:.5},children:(0,a.jsx)(On.N,{fontWeight:"semibold",children:ar()})}),(0,a.jsx)(Cn.a2,{icon:bn.g,size:"small",onClick:n,"aria-label":(0,c.hw)("Dismiss content classification notice","ContentClassificationDisclosureOverlay")})]})})},lr=(0,g.Zz)((0,Da.Z)((function(e){return{overlayType:e.overlayType,contentLabels:e.contentLabels,trackClick:e.trackClick}})))((function(e){var n=e.contentLabels,t=e.disableArrowOnDisclosure,i=e.hideContentClassificationDisclosure,r=e.overlayType,o=e.trackClick;return r===Ya.P8.ContentWarningDisclosure&&n?(0,a.jsx)(rr,{contentList:n.map(Oa.Uw),trackClick:o,disableArrowOnDisclosure:t}):r===Ya.P8.FetchErrorDisclosure?(0,a.jsx)(sr,{onHideClick:function(){i(),o("hide_error")}}):null})),dr=t(727234),ur=t(381511),cr=(0,g.Zz)((0,u.Ng)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled}})),(0,x.cj)((function(e){var n,t=e.behaviors,i=e.content;return{isContentLive:!!(0,V.DG)(i),isContentVod:!!(0,V.wy)(i)||!(!(0,V.P3)(i)||!i.vodID),isEmbedded:!!(null==t?void 0:t.embed),disableMatureOverlay:!!(null==t?void 0:t.disableMatureOverlay),disableBrandedContentDisclosureOverlay:!!(null==t?void 0:t.disableBrandedContentDisclosureOverlay),forceDisclosuresPosition:null!==(n=null==t?void 0:t.forceDisclosuresPosition)&&void 0!==n?n:ur.G.Default,disableArrowOnDisclosure:!!(null==t?void 0:t.disableArrowOnDisclosure)}})),(0,Da.Z)((function(e){return{overlayType:e.overlayType}})),(0,De.c0)((function(e){return{isFullscreen:e.isFullscreen,recommendationsShowing:e.recommendationsShowing}})),(0,P.dd)((function(e){return{isOffline:!!e.isOffline}})),(0,k.VX)((function(e){var n=e.videoAdMetadata;return{isVideoAdShowing:(0,S.cz)(n)}})))((function(e){var n=e.disableArrowOnDisclosure,t=e.disableBrandedContentDisclosureOverlay,i=e.disableMatureOverlay,s=e.isContentLive,u=e.isContentVod,p=e.isEmbedded,m=e.isFullscreen,v=e.isOffline,f=e.isOnScreenControlsOn,g=e.isVideoAdShowing,h=e.overlayType,y=e.theatreModeEnabled,k=e.forceDisclosuresPosition,S=function(e){var n=e.isOnScreenControlsOn,t=e.isVideoAdShowing,i=(0,d.useRef)(0),a=(0,d.useRef)(!0),r=(0,dr.Z)(t),o=(0,d.useState)(!1),s=o[0],l=o[1],u=(0,d.useState)(!1),c=u[0],p=u[1],m=(0,d.useCallback)((function(){return p(!0)}),[p]);return(0,d.useEffect)((function(){return l(!0),i.current=setTimeout((function(){l(!1)}),5e3),function(){i.current&&clearTimeout(i.current)}}),[]),(0,d.useEffect)((function(){r&&!t&&a.current&&(a.current=!1,l(!0),clearTimeout(i.current),i.current=setTimeout((function(){l(!1)}),5e3))}),[r,t]),{isContentClassificationDisclosureVisible:!c&&(s||n),hideContentClassificationDisclosure:m}}({isOnScreenControlsOn:f,isVideoAdShowing:g}),_=S.isContentClassificationDisclosureVisible,C=S.hideContentClassificationDisclosure,b=Qa(),P=b.isBrandedContentVisible,x=b.brandedContentTrackingBase,E=function(e){var n=e.disableMatureOverlay,t=e.isOffline,i=e.isVideoAdShowing,a=e.overlayType;return!n&&!t&&!i&&[Ya.P8.ContentWarningDisclosure,Ya.P8.FetchErrorDisclosure].includes(a)}({disableMatureOverlay:i,isOffline:v,isVideoAdShowing:g,overlayType:h}),A=function(e){var n=e.disableBrandedContentDisclosureOverlay,t=e.isOffline;return!e.isVideoAdShowing&&!t&&!n}({disableBrandedContentDisclosureOverlay:t,isOffline:v,isVideoAdShowing:g});if(!E&&!A)return null;var N=y||m||u||p||k===ur.G.TopRight,w=f&&(y||p)&&!m&&s,T=f&&m&&s,I=N||w||T;return(0,a.jsx)(ja.u,{section:"global",id:"channel-player-disclosures",icon:Ut.A,label:(0,c.hw)("Player Controls","SkipToTargetDisclosureContainer"),enabled:!(0,Oa.cJ)(h)&&(0,Oa.OI)(h),children:(0,a.jsx)(r.P,{attachTop:!0,attachLeft:!N,attachRight:N,className:l()("disclosure-tool",{"dt-attach-top-right":N,"dt-attach-top-right-shift-down":w,"dt-attach-top-right-shift-left":T}),position:o.yX.Absolute,display:o.nl.Flex,flexDirection:o.bo.Column,alignItems:I?o.k2.End:o.k2.Start,children:(0,a.jsxs)(Va.F,{transitionType:Lt.ES.SlideOverTop,children:[A&&P&&(0,a.jsx)(Ga,{brandedContentTrackingBase:x,disableArrowOnDisclosure:n},"branded-content-disclosure"),E&&_&&(0,a.jsx)(lr,{hideContentClassificationDisclosure:C,disableArrowOnDisclosure:n},"content-classification-disclosure")]})})})})),pr=t(679117),mr=function(e){return(0,a.jsx)(Wn.$n,{icon:pr.H,size:Wn.Mp.Large,variant:Wn.VQ.Alert,onClick:function(){e.updateContext({manualResetRequested:!0})},children:e.isSmall?(0,c.hw)("Reload Player","ManualResetButton"):(0,c.hw)("Click Here to Reload Player","ManualResetButton")})},vr=t(966872),fr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderChildren=function(e){return n.props.error&&(0,vr.G_)(n.props.error)?(0,a.jsx)(mr,{isSmall:e,updateContext:n.props.updateContext}):null},n}return(0,i.__extends)(n,e),n.prototype.componentWillUnmount=function(){this.props.removeError()},n.prototype.render=function(){var e=function(e){switch(e){case vr.O4.GeoBlocked:return(0,c.hw)("This premium content is not available in your region. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case vr.O4.UnsupportedDevice:return(0,c.hw)("Your device does not support playback of this premium content. Please try a different device. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case vr.O4.AnonymizerBlocked:return(0,c.hw)("A proxy or unblocker has been detected. This premium content will not be available to you while it is in use. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case vr.O4.CellularNetworkProhibited:return(0,c.hw)("Please connect to a Wi-Fi network to watch this premium content. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case vr.O4.LVSCCUCap:case vr.O4.CCUCapReached:return(0,c.hw)("An error occurred. Please try again. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case vr.O4.Aborted:return(0,c.hw)("The video download was cancelled. Please try again. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case vr.O4.Network:return(0,c.hw)("There was a network error. Please try again. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case vr.O4.Decode:return(0,c.hw)("Your browser encountered an error while decoding the video. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case vr.O4.FormatNotSupported:return(0,c.hw)("This video is either unavailable or not supported in this browser. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case vr.O4.ContentNotAvailable:return(0,c.hw)("This video is unavailable. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case vr.O4.RendererNotAvailable:return(0,c.hw)("Your browser does not support playback of this video. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case vr.O4.SafariUnsupportedDevice:return(0,c.hw)("Safari is not currently supported for this stream. Please try Chrome or Firefox. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case vr.O4.CDMNotAuthorized:return(0,c.hw)("Your browser or device does not support playback of this video. Please try upgrading your browser or try a different device. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case vr.O4.DRMLicenseNotAvailable:return(0,c.hw)("DRM License for premium content is not available. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");case vr.O4.DRMLicenseServerError:return(0,c.hw)("DRM License Server error. (Error #{code})",{code:e},"VideoPlayerErrorOverlay");default:return null}}(this.props.error);return e?(0,a.jsx)(gn.rj,{iconProps:{type:hn.W.Empty},text:e,children:this.renderChildren}):null},n}(d.Component);var gr=(0,g.Zz)((0,tn.X)({name:"ErrorOverlay"}),(0,P.dd)((function(e){return{error:e.error,removeError:e.removeError,updateContext:e.updateContext}})))(fr);var hr=t(145875),yr=t(15250),kr=t(734993),Sr=t(691177),_r=t(288480),Cr=function(e){function n(n){return e.call(this,n)||this}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){var e=this.props,n=e.arePlayerControlsVisible,t=e.game,a=e.theme,r=e.isVideoAdShowing,o=e.videoStats;_r.ZO.postContext((0,i.__assign)({arePlayerControlsVisible:n,game:t,theme:a,isVideoAdShowing:r},o))},n.prototype.componentDidUpdate=function(e){var n=this.props,t=n.arePlayerControlsVisible,i=n.game,a=n.theme,r=n.isVideoAdShowing,o=e.game!==i,s=e.theme!==a,l=e.arePlayerControlsVisible!==t,d=e.isVideoAdShowing!==r,u={};this.didVideoStatsChange(e.videoStats)&&Object.assign(u,this.props.videoStats),o&&(u.game=i),s&&(u.theme=a),l&&(u.arePlayerControlsVisible=t),d&&(u.isVideoAdShowing=r),Object.values(u).length>0&&_r.ZO.postContext(u)},n.prototype.render=function(){return null},n.prototype.didVideoStatsChange=function(e){var n=this.props.videoStats;return e?!n||Object.keys(n).some((function(t){return n[t]!==e[t]})):!!n},n}(d.Component),br=function(e){function n(n){var t=e.call(this,n)||this;t.getVideoStatsContext=function(){var e=t.props,n=e.channelLogin,i=e.mediaPlayerInstance;return i?{bitrate:i.getVideoBitRate(),bufferSize:i.getBufferDuration(),displayResolution:"".concat(i.getDisplayWidth(),"x").concat(i.getDisplayHeight()),hlsLatencyBroadcaster:i.getLiveLatency(),isFullScreen:t.props.isFullScreen,isPaused:t.isVideoPaused(),isTheatreMode:t.props.isTheatreMode,isMuted:t.props.muted,playerChannel:n,videoResolution:"".concat(i.getVideoWidth(),"x").concat(i.getVideoHeight()),volume:t.props.volume}:null},t.updateVideoStatsContext=function(){var e=t.getVideoStatsContext();e&&t.setState({videoStats:e})},t.isVideoPaused=function(){var e=t.props,n=e.mediaPlayerInstance,i=e.isVideoAdShowing,a=e.isAdPlaying;return i?!a:!!n&&n.isPaused()};var i=t.getVideoStatsContext();return t.state=i?{videoStats:i}:{},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.videoContextUpdateInterval=setInterval(this.updateVideoStatsContext,1e3)},n.prototype.render=function(){var e=this.props,n=e.game,t=e.theme,i=e.isVideoAdShowing,r=e.arePlayerControlsVisible;return(0,a.jsx)(Cr,{game:n,theme:t,arePlayerControlsVisible:r,isVideoAdShowing:i,videoStats:this.state.videoStats})},n.prototype.componentWillUnmount=function(){clearInterval(this.videoContextUpdateInterval)},n}(d.Component);var Pr=(0,g.Zz)((0,u.Ng)((function(e){return{isTheatreMode:e.ui.theatreModeEnabled,theme:(0,Sr.iR)(e)}})),(0,P.dd)((function(e){var n=e.mediaPlayerInstance,t=e.volume,i=e.muted;return{mediaPlayerInstance:n,volume:t,muted:i}})),(0,De.c0)((function(e){var n=e.isFullscreen;return{isFullScreen:n}})),(0,x.cj)((function(e){var n=e.content;return{channelLogin:(0,V.hd)(n)||""}})))(br);var xr=t(79570),Er=t(808681),Ar=t(324602),Nr=t(86011),wr=t(849924),Tr=t(542685),Ir={"0qr7fa6llzn4txgnfgb8ipeksd5v24":{useWEBM:!1,overriddenViewerSummary:"Mouse over the streamer's cards on the video to see the full card in hi-res!"},"2d2vfk9d8utgo0e9abb4j8p8po70ym":{useWEBM:!1,overriddenViewerSummary:"Mouse over the video to the see the decklist being played, and mouse over cards in the decklist to see their art and details."},"7hoqd16sufw9f9h3swlkdt6lqdn3ud":{useWEBM:!1,overriddenViewerSummary:"Click the purple icon on the video to see this streamer's favorite streaming gear and other products from Amazon."},apwln3g3ia45kk690tzabfp525h9e1:{useWEBM:!0,overriddenViewerSummary:"Mouse over minions, heroes and secrets to view the full card art, see the deck the streamer is currently playing and import it into Hearthstone!"},fozlqfmrrdtastjnfxw3pmnqto9zns:{useWEBM:!0,overriddenViewerSummary:"Click the purple icon on the video to see the streamers gear, view details on perks, get class info, and more."},"07kczqwdkjxw6la4j92crc5wyumjxa":{useWEBM:!0,overriddenViewerSummary:"Mouse over the logo on the left side of the stream to inspect the streamer's Vault Hunter profile, gear and skills, earn loot discovered in rare chests, and control the game with badass events!"},fdpp9vcx5bsz8osxvqii4i9cumwswd:{useWEBM:!0,overriddenViewerSummary:"Mouse over the left side of the stream to see the streamer's current gear in real-time."},d0j6f4h633ds71x7mg5pm7uytj2yi8:{useWEBM:!0,overriddenViewerSummary:"Click the deck icon on the left side of the video to see each player's decklist. Mouse over cards in the decklist to see their image and rules text."},d4uvtfdr04uq6raoenvj7m86gdk16v:{useWEBM:!1,overriddenViewerSummary:"Click the blue Prime icon on the video to see what subscriptions & benefits you have available on this channel."},"9coq5ejlddcho3k014joup6mr2lras":{useWEBM:!1,overriddenViewerSummary:"Click the helmet icon on the video to see the live map, drop, skirmish, loot and load-out details."},b761gcvkac6qbwo26ededwf9sluqh0:{useWEBM:!1,overriddenViewerSummary:"Click the red button on the video to view the streamer's current talents, gear and stats."},zfh2irvx2jb4s60f02jq0ajm8vwgka:{useWEBM:!1,overriddenViewerSummary:"Click the streamer's icon on the video to uncover actions they've enabled - like song requests, scratchers and more."},vysfim0ck7k5a65fcr0d0t1x5jllpq:{useWEBM:!0,overriddenViewerSummary:"Click the League of Legends icon on the video to see live game details like the current scoreboard, summoners, build and game history."}},Dr=t(419813),Or=t(343026),Fr=function(e){function n(n){var t=e.call(this,n)||this;return t.renderMenuOpenStatus=function(e){return(0,a.jsx)(r.P,{alignItems:o.k2.Center,children:(0,a.jsx)(r.P,{className:l()("extensions-dock-card__menu-status",e&&"extensions-dock-card__menu-status__visible"),margin:{right:.5,left:.5}})})},t.renderCardImage=function(e){var n=t.props.installation,s=t.state.iconUrls,d=n.activationConfig.anchor[0].toUpperCase(),u="".concat(d).concat((0,Or.bb)(n)),c=!s.length,p=(0,a.jsx)("div",{onClick:t.handleClick,onMouseEnter:t.handleMouseOver,onMouseLeave:t.handleMouseOut,className:l()("extensions-dock-card__image",e&&"extensions-dock-card__image__visible",c&&"extensions-dock-card__image__fallback"),children:c?(0,a.jsx)(r.P,{display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.Center,children:(0,a.jsx)(xr.M,{size:30,fillColor:"brand"})}):(0,a.jsx)(ri.L,{src:s[s.length-1],alt:u,onError:t.onImageLoadFail,className:l()("extensions-dock-card__image__img")})}),m={assignments:{fallback:function(){return(0,a.jsx)(na.cv,{direction:na.n5.Left,align:na.HX.Right,label:n.extension.name,offsetX:"19px",children:p})},active:function(){return p}},name:"extension_overlay_improvement",hardcodedAssignment:"control"};return(0,a.jsx)(Tr.N,(0,i.__assign)({},m))},t.renderHoverInfo=function(){var e,n=t.props.installation.extension,s=n.viewerSummary,l=n.name,d=n.id,u=(null===(e=Ir[d])||void 0===e?void 0:e.overriddenViewerSummary)||s,c=(0,a.jsx)(Er.E,{background:o.VS.Overlay,size:Ar.$V.Medium,show:t.props.isHovered&&!t.props.isPopoverOpen,direction:Nr.j.LeftCenter,children:(0,a.jsxs)(r.P,{padding:2,children:[(0,a.jsx)(wr.Y,{children:l}),(0,a.jsx)(On.N,{children:u})]})}),p={assignments:{fallback:function(){return null},active:function(){return c}},name:"extension_overlay_improvement",hardcodedAssignment:"control"};return(0,a.jsx)(Tr.N,(0,i.__assign)({},p))},t.installationIsVisible=function(){var e=t.props,n=e.installation,i=e.isOverlayVisible,a=e.isPopoverOpen,r=i&&(0,Or.l1)(n),o=a&&(0,Or.yi)(n);return r||o},t.handleClick=function(){var e,n=t.props,i=n.installation,a=n.togglePopover,r=n.trackEvent,o=n.isPopoverOpen,s="video_overlay"===i.activationConfig.anchor;e=s?o?yr.iN.HideMenu:yr.iN.ViewMenu:o?yr.iN.MinimizeExtension:yr.iN.MaximizeExtension,r(yr.X2.ExtensionDockIconClick,e,yr.si.ExtensionDockIconClick,i),s&&t.isOverlayExperimentActive?t.toggleExtensionInfo():a(i)},t.handleMouseOver=function(){t.props.hoverExtensionCard(t.props.installation)},t.handleMouseOut=function(){t.props.hoverExtensionCard(null)},t.onImageLoadFail=function(){t.setState((function(e){var n=e.iconUrls;return{iconUrls:n.slice(0,n.length-1)}}))},t.getIconUrls=function(e){var n=e.extension.iconUrls.square100,t=[];return n&&t.push(n),t},t.toggleExtensionInfo=function(){var e=t.props,n=e.installation,i=e.isInfoOpen,a=e.setMenuState,r=e.permissionsStates;a((0,Or.MA)(n,r)?i?{type:Dr.gu.NONE}:{type:Dr.gu.INFO}:{type:Dr.gu.UNRELEASED},n)},t.state={iconUrls:t.getIconUrls(t.props.installation)},t}return(0,i.__extends)(n,e),Object.defineProperty(n.prototype,"isOverlayExperimentActive",{get:function(){return"active"===c.x2.experiments.__hardcodedStaleExperiment("extension_overlay_improvement","control")},enumerable:!1,configurable:!0}),n.prototype.componentDidUpdate=function(e){(0,Or.wv)(e.installation)!==(0,Or.wv)(this.props.installation)&&this.setState({iconUrls:this.getIconUrls(this.props.installation)})},n.prototype.render=function(){var e=this.installationIsVisible();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(r.P,{margin:{left:0,bottom:1,top:0,right:1},borderRadius:Vt.Z.Medium,className:"extensions-dock-card",display:o.nl.Flex,alignItems:o.k2.Center,children:[this.renderMenuOpenStatus(e),this.renderCardImage(e)]}),this.renderHoverInfo()]})},n}(d.Component),Rr=(0,hr.A3)((function(e,n){var t=e.isOverlayVisible,i=e.isPopoverOpen,a=e.togglePopover,r=e.hoverExtensionCard,o=e.isDockIconHovered,s=e.permissionsStates,l=e.trackEvent,d=e.setMenuState,u=e.getMenuState;return{isOverlayVisible:t,isInfoOpen:u(n.installation).type===Dr.gu.INFO,isPopoverOpen:i(n.installation),isHovered:o(n.installation),permissionsStates:s,togglePopover:a,hoverExtensionCard:r,trackEvent:l,setMenuState:d}}))(Fr);var Mr=t(726817),Lr=t(166408),Vr=t(48935),jr=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsx)(r.P,{role:"presentation",padding:{top:1,left:1,right:1,bottom:0},fullHeight:!0,fullWidth:!0,position:o.yX.Absolute,display:o.nl.Flex,flexDirection:o.bo.Column,alignItems:o.k2.Center,overflow:o.nE.Auto,fontSize:o.Z4.Size6,className:l()(this.props.className,"extensions-popover-view-layout"),children:(0,a.jsx)(r.P,{className:l()("extensions-popover-view-layout__body"),children:this.props.children})})},n}(d.Component),Br=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleClose=function(){var e=n.props,t=e.installation;(0,e.setMenuState)({type:Dr.gu.NONE},t)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsxs)(jr,{children:[(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(On.N,{children:(0,c.hw)("You must be logged in to use this extension feature.","ExtensionsPopoverViewLoggedOutContainer")})}),(0,a.jsx)(r.P,{fullWidth:!0,display:o.nl.Flex,flexWrap:o.I4.Wrap,justifyContent:o.A9.End,margin:{y:1},children:(0,a.jsx)(r.P,{margin:{bottom:1},children:(0,a.jsx)(Wn.$n,{variant:Wn.VQ.Secondary,onClick:this.handleClose,children:(0,c.hw)("Close","ExtensionsPopoverViewLoggedOutContainer")})})})]})},n}(d.Component),Ur=(0,hr.A3)((function(e){var n=e.setMenuState;return{setMenuState:n}}))(Br);var Gr=t(897120),zr=t(288566),qr=t.n(zr),Hr=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){if(this.props.data.loading)return null;if(!this.props.data.currentUser||null===this.props.data.currentUser.bitsBalance||!this.props.data.extension||!this.props.data.extension.challengeCondition)return this.props.cancelCondition(),null;var e,n=this.props.confirmBitsAmount>this.props.data.currentUser.bitsBalance;n&&(e=(0,a.jsx)(r.P,{display:o.nl.Flex,alignItems:o.k2.Start,margin:{bottom:0},children:(0,a.jsx)(On.N,{color:o.Q1.Error,children:(0,c.hw)("Please purchase more Bits to participate.","ConditionConfirmationInsufficientBitsBalance")})}));var t=(0,c.hw)("Bits","ConditionConfirmationDialogBitsBalance"),i=(0,a.jsxs)(r.P,{children:[(0,a.jsx)(r.P,{children:(0,a.jsx)(On.N,{fontSize:o.Z4.Size5,children:(0,c.hw)("You are committing Bits to {conditionName}. These Bits will be deducted immediately.",{conditionName:this.props.data.extension.challengeCondition.name},"ConditionConfirmationDialogCommitBits")})}),(0,a.jsxs)(r.P,{margin:{top:1,bottom:1},display:o.nl.Flex,alignItems:o.k2.Center,children:[(0,a.jsx)(Gr.S,{"aria-label":t}),(0,a.jsx)(On.N,{type:At.M2.Span,fontSize:o.Z4.Size4,bold:!0,children:this.props.confirmBitsAmount})]}),(0,a.jsxs)(r.P,{display:o.nl.Flex,alignItems:o.k2.Center,margin:{bottom:0},children:[(0,a.jsx)(On.N,{type:At.M2.Span,fontSize:o.Z4.Size5,children:(0,c.hw)("Your current Bits balance is:","ConditionConfirmationDialogBitsBalance")}),(0,a.jsx)(Gr.S,{"aria-label":t}),(0,a.jsx)(On.N,{type:At.M2.Span,fontSize:o.Z4.Size4,bold:!0,children:this.props.data.currentUser.bitsBalance||0})]}),e,(0,a.jsxs)(r.P,{display:o.nl.Flex,justifyContent:o.A9.Center,margin:{top:2},children:[(0,a.jsx)(r.P,{display:o.nl.Flex,flexGrow:3,margin:{right:.5},children:(0,a.jsx)(Wn.$n,{variant:Wn.VQ.Secondary,fullWidth:!0,onClick:this.props.cancelCondition,children:(0,c.hw)("Cancel","ConditionConfirmationDialogCancel")})}),(0,a.jsx)(r.P,{display:o.nl.Flex,flexGrow:4,margin:{left:.5},children:(0,a.jsx)(Wn.$n,{variant:Wn.VQ.Primary,fullWidth:!0,"data-test-selector":"confirmation_message_selector",onClick:this.props.confirmCondition,disabled:n,children:(0,c.hw)("Confirm","ConditionConfirmationDialogConfirm")})})]}),(0,a.jsx)(r.P,{borderTop:!0,margin:{top:2,bottom:2}}),(0,a.jsx)(r.P,{margin:{bottom:2},children:(0,a.jsx)(On.N,{type:At.M2.P,fontSize:o.Z4.Size5,children:(0,c.hw)('By clicking "Confirm", you agree to share your Twitch ID with {extensionName}. You can manage account connections under Settings.',{extensionName:this.props.extensionName},"ConditionConfirmationDialogAgreement")})}),(0,a.jsx)(r.P,{children:(0,a.jsx)(On.N,{type:At.M2.P,fontSize:o.Z4.Size5,children:(0,c.hw)("If the {conditionName} is not completed, then the Bits will be returned to your account.",{conditionName:this.props.data.extension.challengeCondition.name},"ConditionConfirmationDialogBitsRefund")})})]});return(0,a.jsx)(r.P,{padding:2,children:i})},n}(d.Component),Wr=(0,g.Zz)((0,z._v)(qr(),{options:function(e){return{variables:{conditionID:e.conditionId,conditionOwnerID:e.conditionOwnerId,extensionID:e.extensionId,extensionVersion:e.extensionVersion}}}}))(Hr),Kr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.cancelCondition=function(){var e=n.props,t=e.setMenuState,i=e.menuState,a=e.installation;(0,Dr.XL)(i)&&(i.confirmationRequest.resultCallback({acceptedCondition:!1,conditionParticipantId:null}),t({type:Dr.gu.NONE},a))},n.confirmCondition=function(){var e=n.props,t=e.setMenuState,i=e.menuState,a=e.installation;(0,Dr.XL)(i)&&(i.confirmationRequest.resultCallback({acceptedCondition:!0,conditionParticipantId:null}),t({type:Dr.gu.NONE},a,!0))},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.menuState,t=e.installation;if(!(0,Dr.XL)(n))return null;var i=n.confirmationRequest.options;return(0,a.jsx)(jr,{children:(0,a.jsx)(Wr,{cancelCondition:this.cancelCondition,confirmCondition:this.confirmCondition,conditionId:i.conditionId,conditionOwnerId:i.conditionOwnerId,confirmBitsAmount:i.bitsAmount,extensionId:t.extension.id,extensionName:t.extension.name,extensionVersion:t.extension.version})})},n}(d.Component),Zr=(0,hr.A3)((function(e,n){var t=e.getMenuState,i=e.setMenuState;return{menuState:t(n.installation),setMenuState:i}}))(Kr);var Xr=t(14668),Qr=t(337051),Yr=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={notifications:!0},n.cancelLabel=(0,c.hw)("Cancel","ExtensionsPopoverViewFollowContainer"),n.handleCancel=function(){var e=n.props,t=e.installation,i=e.menuState,a=e.setMenuState;(0,Dr.GS)(i)&&a({type:Dr.gu.NONE},t)},n.handleFollow=function(){var e=n.props,t=e.installation,i=e.menuState,a=e.setMenuState;(0,Dr.GS)(i)&&(i.confirmationRequest.resultCallback({didFollow:!0,notifications:n.state.notifications}),a({type:Dr.gu.NONE},t,!0))},n.handleNotificationsToggle=function(){n.setState({notifications:!n.state.notifications})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.menuState;if(!(0,Dr.GS)(e))return null;var n=e.confirmationRequest.options,t=n.channel||"";return(0,a.jsx)(jr,{children:n.isFollowing?this.renderAlreadyFollowed(t):this.renderMain(t)})},n.prototype.renderMain=function(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(On.N,{children:(0,c.hw)("You are about to follow {channel}",{channel:e||""},"ExtensionsPopoverViewFollowContainer")})}),(0,a.jsxs)(r.P,{fullWidth:!0,display:o.nl.Flex,flexWrap:o.I4.WrapReverse,justifyContent:o.A9.Center,margin:{y:1},children:[(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Wn.$n,{fullWidth:!0,size:Wn.Mp.Small,variant:Wn.VQ.Secondary,onClick:this.handleCancel,children:this.cancelLabel})}),(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Wn.$n,{fullWidth:!0,size:Wn.Mp.Small,variant:Wn.VQ.Primary,onClick:this.handleFollow,children:(0,c.hw)("Follow","ExtensionsPopoverViewFollowContainer")})})]}),(0,a.jsxs)(r.P,{margin:{y:1},children:[(0,a.jsx)(Xr.m,{}),(0,a.jsx)(Qr.G,{type:Qr.M.Toggle,label:(0,c.hw)("Allow Notifications","ExtensionsPopoverViewFollowContainer"),onChange:this.handleNotificationsToggle,checked:this.state.notifications})]}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(On.N,{children:(0,c.hw)("Receive updates on this channel's activity, including when they go live, upload new videos or clips, on mobile, email, and web.","ExtensionsPopoverViewFollowContainer")})})]})},n.prototype.renderAlreadyFollowed=function(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(On.N,{children:(0,c.hw)("You are already following {channel}",{channel:e||""},"ExtensionsPopoverViewFollowContainer")})}),(0,a.jsx)(r.P,{fullWidth:!0,display:o.nl.Flex,flexDirection:o.bo.Row,justifyContent:o.A9.Center,margin:{y:1},children:(0,a.jsx)(r.P,{flexGrow:1,children:(0,a.jsx)(Wn.$n,{fullWidth:!0,size:Wn.Mp.Small,variant:Wn.VQ.Secondary,onClick:this.handleCancel,children:this.cancelLabel})})})]})},n}(d.Component),$r=(0,hr.A3)((function(e,n){var t=e.getMenuState,i=e.setMenuState;return{menuState:t(n.installation),setMenuState:i}}))(Yr);var Jr=t(368972),eo=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleCancel=function(){var e=n.props,t=e.installation;(0,e.setMenuState)({type:Dr.gu.NONE},t)},n.handleToggleAccess=function(){var e=n.props,t=e.installation,i=e.setMenuState,a=e.setPermissionsState,r=e.trackEvent,o=e.permissionsStates,s=(0,Or.YU)(t,o),l=s.identityLinkedStatus,d=s.linkIdentity,u=s.unlinkIdentity,c=l===Dr.Gy.UNLINKED?Dr.Gy.LINK_REQUESTED:Dr.Gy.UNLINK_REQUESTED;a(t,{identityLinkedStatus:c}),c===Dr.Gy.LINK_REQUESTED&&d&&d(),c===Dr.Gy.UNLINK_REQUESTED&&u&&u(),r(yr.X2.MenuOptionClick,c===Dr.Gy.UNLINK_REQUESTED?yr.iN.Revoke:yr.iN.Grant,yr.si.ExtensionDockMenuOptionClick,t),i({type:Dr.gu.NONE},t)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.installation,t=e.permissionsStates,i=(0,Or.YU)(n,t);if(!i||!i.identityLinkedStatus)return null;var s=i.identityLinkedStatus===Dr.Gy.LINKED||i.identityLinkedStatus===Dr.Gy.LINK_REQUESTED,l=i.identityLinkedStatus===Dr.Gy.LINK_REQUESTED||i.identityLinkedStatus===Dr.Gy.UNLINK_REQUESTED;return(0,a.jsxs)(jr,{children:[(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(On.N,{children:(0,c.hw)("You are granting this Developer access to your Twitch user ID.","ExtensionsPopoverViewManageAccessContainer")})}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(On.N,{children:(0,c.hw)("Allow this extension to know your user ID on Twitch.","ExtensionsPopoverViewManageAccessContainer")})}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(Jr.i,{label:(0,c.hw)("Manage Permissions","ExtensionsPopoverViewManageAccessContainer"),figure:{icon:dn.t.PermissionsRemove},linkTo:"https://www.twitch.tv/settings/connections",targetBlank:!0})}),(0,a.jsxs)(r.P,{fullWidth:!0,display:o.nl.Flex,flexDirection:o.bo.Row,flexWrap:o.I4.WrapReverse,justifyContent:o.A9.End,margin:{y:1},children:[(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Wn.$n,{fullWidth:!0,size:Wn.Mp.Small,variant:Wn.VQ.Secondary,onClick:this.handleCancel,children:(0,c.hw)("Cancel","ExtensionsPopoverViewManageAccessContainer")})}),(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Wn.$n,{fullWidth:!0,size:Wn.Mp.Small,variant:Wn.VQ.Primary,onClick:this.handleToggleAccess,disabled:l,children:s?(0,c.hw)("Revoke","ExtensionsPopoverViewManageAccessContainer"):(0,c.hw)("Grant","ExtensionsPopoverViewManageAccessContainer")})})]})]})},n}(d.Component),no=(0,hr.A3)((function(e){var n=e.permissionsStates,t=e.setPermissionsState,i=e.setMenuState,a=e.trackEvent;return{permissionsStates:n,setPermissionsState:t,setMenuState:i,trackEvent:a}}))(eo);var to=t(717286),io=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleCancel=function(){var e=n.props,t=e.installation;(0,e.setMenuState)({type:Dr.gu.NONE},t)},n.handleConfirm=function(){var e=n.props,t=e.installation,i=e.menuState,a=e.setMenuState;(0,Dr.UE)(i)&&(i.confirmationRequest.resultCallback({didConfirm:!0,didUseBits:!1}),a({type:Dr.gu.NONE},t,!0))},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.labelPurchaseIntent,t=e.labelCancel,i=e.labelConfirm,s=e.labelProductName,l=e.labelRemainingBalance,d=e.labelDisclaimer;return(0,a.jsxs)(jr,{children:[(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(On.N,{children:n})}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(On.N,{children:s})}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(On.N,{children:l})}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(On.N,{fontSize:o.Z4.Size8,color:o.Q1.Alt2,children:d})}),(0,a.jsxs)(r.P,{fullWidth:!0,display:o.nl.Flex,flexDirection:o.bo.Row,flexWrap:o.I4.WrapReverse,justifyContent:o.A9.Center,margin:{y:1},children:[(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Wn.$n,{fullWidth:!0,size:Wn.Mp.Small,variant:Wn.VQ.Secondary,onClick:this.handleCancel,children:t})}),(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Wn.$n,{fullWidth:!0,size:Wn.Mp.Small,variant:Wn.VQ.Primary,onClick:this.handleConfirm,children:i})})]})]})},n}(d.Component),ao=(0,hr.A3)((function(e,n){var t=e.getMenuState,i=e.setMenuState;return{menuState:t(n.installation),setMenuState:i}}))(io);var ro=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleCancel=function(){var e=n.props,t=e.installation;(0,e.setMenuState)({type:Dr.gu.NONE},t)},n.handleBuyBits=function(){window.open("https://www.twitch.tv/bits")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.labelPurchaseIntent,t=e.labelPurchaseAmount,i=e.labelCancel,s=e.labelProductName,l=e.labelBuyBits;return(0,a.jsxs)(jr,{children:[(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(On.N,{children:n})}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(On.N,{children:s})}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(On.N,{children:t})}),(0,a.jsxs)(r.P,{fullWidth:!0,display:o.nl.Flex,flexDirection:o.bo.Row,flexWrap:o.I4.WrapReverse,justifyContent:o.A9.Center,margin:{y:1},children:[(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Wn.$n,{fullWidth:!0,size:Wn.Mp.Small,variant:Wn.VQ.Secondary,onClick:this.handleCancel,children:i})}),(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Wn.$n,{fullWidth:!0,size:Wn.Mp.Small,onClick:this.handleBuyBits,children:l})})]})]})},n}(d.Component),oo=(0,hr.A3)((function(e){var n=e.setMenuState;return{setMenuState:n}}))(ro);var so=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.installation,t=(0,e.getMenuState)(n);if(!(0,Dr.UE)(t))return null;var r=t.confirmationRequest.options.payload;if(!r)return null;var s=r.bitsRequired||0,l=r.bitsBalance-s,d=(0,a.jsxs)(On.N,{fontSize:o.Z4.Size5,bold:!0,children:[r.extensionItemLabel," ",(0,a.jsx)(to.k,{withImage:!0,animated:!1,count:s}),s]}),u={labelPurchaseIntent:(0,c.hw)("You are trying to get","ExtensionsPopoverViewPurchaseContainer"),labelCancel:(0,c.hw)("Cancel","ExtensionsPopoverViewPurchaseContainer"),labelProductName:d,installation:n};if(l<0){var p=(0,a.jsxs)(On.N,{type:At.M2.Span,children:[(0,a.jsx)(to.k,{withImage:!0,animated:!1,count:-l}),-l]}),m=(0,i.__assign)((0,i.__assign)({},u),{labelPurchaseAmount:(0,c.hw)("You need {bitsRequired} to get this item.",{bitsRequired:p},"ExtensionsPopoverViewPurchaseContainer"),labelBuyBits:(0,c.hw)("Buy Bits","ExtensionsPopoverViewPurchaseContainer")});return(0,a.jsx)(oo,(0,i.__assign)({},m))}var v=(0,a.jsxs)(On.N,{type:At.M2.Span,children:[(0,a.jsx)(to.k,{withImage:!0,animated:!1,count:l}),l]}),f=(0,i.__assign)((0,i.__assign)({},u),{labelConfirm:(0,c.hw)("Confirm","ExtensionsPopoverViewPurchaseContainer"),labelRemainingBalance:(0,c.hw)("Your remaining Bits balance will be {bitsRemaining}",{bitsRemaining:v},"ExtensionsPopoverViewPurchaseUpsellPresentation"),labelDisclaimer:(0,c.hw)('By clicking "Confirm" you agree to share your Twitch ID with {extensionName}. You can manage account connections under {settingsLink}',{extensionName:n.extension.name,settingsLink:(0,a.jsx)(Pa.Cb,{targetBlank:!0,linkTo:"https://twitch.tv/settings/connections",children:(0,c.hw)("Settings","ExtensionsPopoverViewPurchaseContainer")})},"ExtensionsPopoverViewPurchaseContainer")});return(0,a.jsx)(ao,(0,i.__assign)({},f))},n}(d.Component),lo=(0,hr.A3)((function(e){var n=e.getMenuState;return{getMenuState:n}}))(so);var uo=t(120605),co=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.trackMenuOptionClick=function(e){return function(){var t=n.props,i=t.installation;(0,t.trackEvent)(yr.X2.MenuOptionClick,e,yr.si.ExtensionDockMenuOptionClick,i)}},n.renderManageAccessOption=function(){var e=n.props,t=e.loginID,i=e.installation,o=e.permissionsStates,s=i&&i.extension.requestIdentityLink,l=(0,Or.YU)(i,o).identityLinkedStatus===Dr.Gy.LINKED;return!(0,Or.p$)(i)&&!!t&&(s||l)?(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(Jr.i,{label:(0,c.hw)("Manage Access","ExtensionsPopoverViewSettingsContainer"),figure:{icon:dn.t.PermissionsRemove},onClick:n.handleManageAccess})}):null},n.handleMakeExtensionVisible=function(){var e=n.props,t=e.isOverlayVisible,i=e.setOverlayVisibility,a=e.trackEvent;i(!t),a(yr.X2.MenuOptionClick,t?yr.iN.HideOverlay:yr.iN.ViewOverlay,yr.si.ExtensionDockMenuOptionClick,n.props.installation)},n.handleReportExtension=function(){var e=n.props,t=e.installation,i=e.setMenuState;(0,e.trackEvent)(yr.X2.MenuOptionClick,yr.iN.ReportExtension,yr.si.ExtensionDockMenuOptionClick,t),i({type:Dr.gu.NONE},t)},n.handleManageAccess=function(){var e=n.props,t=e.installation;(0,e.setMenuState)({type:Dr.gu.MANAGE_ACCESS},t)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.installation,t=e.isOverlayVisible,i=e.channelID,o=n&&n.extension&&(n.extension.viewerSummary||n.extension.summary)||"";return(0,a.jsxs)(jr,{children:[(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(On.N,{children:o})}),(0,Or.l1)(n)&&(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(Qr.G,{type:Qr.M.Toggle,label:(0,c.hw)("Visible","ExtensionsPopoverViewSettingsContainer"),onChange:this.handleMakeExtensionVisible,checked:t})}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(Jr.i,{label:(0,c.hw)("Add to My Channel","ExtensionsPopoverViewSettingsContainer"),onClick:this.trackMenuOptionClick(yr.iN.ViewDetails),figure:{icon:dn.t.AddReaction},linkTo:(0,Or.lK)(n),targetBlank:!0})}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(Jr.i,{label:(0,c.hw)("Build an Extension","ExtensionsPopoverViewSettingsContainer"),figure:{icon:dn.t.Extensions},onClick:this.trackMenuOptionClick(yr.iN.BuildExtension),linkTo:"https://dev.twitch.tv/extensions",targetBlank:!0})}),this.renderManageAccessOption(),(0,a.jsx)(r.P,{margin:{y:1},children:i&&(0,a.jsx)(uo.Z,{channelID:i,channelLogin:"",reportContext:{contentType:ie.Cah.EXTENSION_REPORT,contentID:(0,Or.wv)(this.props.installation),trackingContext:"extension_popover_view_settings"},onClick:this.handleReportExtension})})]})},n}(d.Component),po=(0,hr.A3)((function(e){var n=e.loginID,t=e.channelID,i=e.setMenuState,a=e.isOverlayVisible,r=e.setOverlayVisibility,o=e.permissionsStates,s=e.trackEvent;return{loginID:n,channelID:t,setMenuState:i,isOverlayVisible:a,setOverlayVisibility:r,permissionsStates:o,trackEvent:s}}))(co);var mo=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleCancel=function(){var e=n.props,t=e.installation;(0,e.closePopover)(t)},n.handleAccept=function(){var e=n.props,t=e.installation,i=e.setMenuState;(0,e.setPermissionsState)(t,{unreleasedAccepted:!0}),i({type:Dr.gu.NONE},t)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsxs)(jr,{children:[(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(On.N,{children:(0,c.hw)("This is a Test Extension that Twitch has not evaluated; it may not be ready for primetime.","ExtensionsPopoverViewUnreleasedContainer")})}),(0,a.jsxs)(r.P,{margin:{y:1},children:[(0,a.jsx)(On.N,{children:(0,c.hw)("Proceed only if you are familiar with the developer, the Extension, or Channel.","ExtensionsPopoverViewUnreleasedContainer")}),(0,a.jsx)(Pa.Cb,{linkTo:"https://help.twitch.tv/customer/portal/articles/2861187-how-to-use-extensions#TestExtViewer",targetBlank:!0,underline:!1,children:(0,c.hw)("Learn More","ExtensionsPopoverViewUnreleasedContainer")})]}),(0,a.jsxs)(r.P,{fullWidth:!0,display:o.nl.Flex,flexDirection:o.bo.Row,flexWrap:o.I4.WrapReverse,justifyContent:o.A9.Center,margin:{y:1},children:[(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Wn.$n,{fullWidth:!0,size:Wn.Mp.Small,variant:Wn.VQ.Secondary,onClick:this.handleCancel,children:(0,c.hw)("Cancel","ExtensionsPopoverViewUnreleasedContainer")})}),(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Wn.$n,{fullWidth:!0,size:Wn.Mp.Small,variant:Wn.VQ.Primary,onClick:this.handleAccept,children:(0,c.hw)("Accept","ExtensionsPopoverViewUnreleasedContainer")})})]})]})},n}(d.Component),vo=(0,hr.A3)((function(e){var n=e.closePopover,t=e.setPermissionsState,i=e.setMenuState;return{closePopover:n,setPermissionsState:t,setMenuState:i}}))(mo);var fo=t(206592),go=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.saveExtensionAPI=function(e){n.unsubscribeFrameEvents(),n.extensionFrameAPI=e,n.addAPICallbacks(),n.subscribeFrameEvents(),n.extensionFrameAPI.setHighlighted(n.props.isDockIconHovered)},n.subscribeFrameEvents=function(){n.extensionFrameAPI&&(n.extensionFrameAPI.on(_r.WN.RequestModal,n.onModalRequested),n.extensionFrameAPI.on(_r.WN.ShowBitsBalance,n.onShowBitsBalance),n.extensionFrameAPI.on(_r.WN.ShowUseBitsSuccess,n.onShowUseBitsSuccess),n.extensionFrameAPI.on(_r.WN.IdentityLinked,n.onIdentityLinked),n.extensionFrameAPI.on(_r.WN.Minimize,n.onMinimize))},n.unsubscribeFrameEvents=function(){n.extensionFrameAPI&&(n.extensionFrameAPI.off(_r.WN.RequestModal,n.onModalRequested),n.extensionFrameAPI.off(_r.WN.ShowBitsBalance,n.onShowBitsBalance),n.extensionFrameAPI.off(_r.WN.ShowUseBitsSuccess,n.onShowUseBitsSuccess),n.extensionFrameAPI.off(_r.WN.IdentityLinked,n.onIdentityLinked),n.extensionFrameAPI.off(_r.WN.Minimize,n.onMinimize))},n.onShowBitsBalance=function(){(0,n.props.setNotification)(Dr._n.BITS_BALANCE)},n.onShowUseBitsSuccess=function(){(0,n.props.setNotification)(Dr._n.BITS_BALANCE,{success:!0})},n.addAPICallbacks=function(){var e=n.extensionFrameAPI,t=e.linkIdentity,i=e.unlinkIdentity,a=n.props,r=a.installation;(0,a.setPermissionsState)(r,{linkIdentity:t,unlinkIdentity:i})},n.removeAPICallbacks=function(){var e=n.props,t=e.installation;(0,e.setPermissionsState)(t,{linkIdentity:void 0,unlinkIdentity:void 0})},n.onIdentityLinked=function(e){var t=n.props,i=t.installation;(0,t.setPermissionsState)(i,{identityLinkedStatus:e?Dr.Gy.LINKED:Dr.Gy.UNLINKED})},n.onMinimize=function(){var e=n.props,t=e.installation,i=e.isOverlayVisible,a=e.closePopover,r=e.isPopoverOpen,o=e.setOverlayVisibility,s=e.overlayExtension;i&&s&&s.id===t.id&&o(!1),r&&a(t)},n.onModalRequested=function(e){var t=n.props,i=t.installation,a=t.setMenuState;switch(e.action){case _r.tv.ConditionConfirmationRequest:a({type:Dr.gu.CONDITION_CONFIRMATION,confirmationRequest:e},i);break;case _r.tv.FollowAction:a({type:Dr.gu.FOLLOW,confirmationRequest:e},i);break;case _r.tv.UseBits:a({type:Dr.gu.PURCHASE,confirmationRequest:e},i);break;case _r.tv.IdShareRequest:a({type:Dr.gu.MANAGE_ACCESS},i);break;case _r.tv.LoginRequest:a({type:Dr.gu.LOGIN_REQUIRED,confirmationRequest:e},i)}},n.handleToggleFullscreen=function(){n.props.isFullscreen?n.props.exitFullscreen():n.props.enterFullscreen()},n}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){var n,t;this.extensionFrameAPI&&e.isDockIconHovered!==this.props.isDockIconHovered&&this.extensionFrameAPI.setHighlighted(this.props.isDockIconHovered),((null===(n=this.extensionFrameAPI)||void 0===n?void 0:n.linkIdentity)&&this.props.linkIdentity!==this.extensionFrameAPI.linkIdentity||(null===(t=this.extensionFrameAPI)||void 0===t?void 0:t.unlinkIdentity)&&this.extensionFrameAPI.unlinkIdentity!==this.props.unlinkIdentity)&&this.addAPICallbacks()},n.prototype.componentWillUnmount=function(){this.removeAPICallbacks(),this.unsubscribeFrameEvents()},n.prototype.render=function(){var e=this.props,n=e.channelID,t=e.channelLogin,i=e.installation,r=e.languageCode,o=e.locale,s=e.login,l=e.loginID,d=e.isHidden;return n&&t&&i?(0,a.jsx)(fo.xF,{channelID:n,channelLogin:t,extensionMode:_r.Fw.Viewer,installation:i,languageCode:r,locale:o,login:s,loginID:l,saveExtensionAPI:this.saveExtensionAPI,className:"extension-view__iframe",isPopout:!1,isHidden:d,onExtensionDoubleClick:this.handleToggleFullscreen},"".concat(i.id,"-").concat(n)):null},n}(d.Component);var ho,yo=(0,g.Zz)((0,u.Ng)((function(e){var n=(0,pn.wz)(e);return{languageCode:(0,pn.Ul)(e),locale:(0,pn.JK)(e),login:n&&n.login||null,loginID:n&&n.id||null}})),(0,x.cj)((function(e){return{channelLogin:(0,V.jp)(e.content)}})),(0,hr.A3)((function(e,n){var t=e.isOverlayVisible,i=e.closePopover,a=e.isPopoverOpen,r=e.setOverlayVisibility,o=e.overlayExtension,s=e.channelID,l=e.permissionsStates,d=e.setPermissionsState,u=e.setMenuState,c=e.setNotification,p=e.isDockIconHovered,m=(0,Or.YU)(n.installation,l),v=m.linkIdentity,f=m.unlinkIdentity;return{isOverlayVisible:t,closePopover:i,isPopoverOpen:a(n.installation),setOverlayVisibility:r,overlayExtension:o,channelID:s,setPermissionsState:d,linkIdentity:v,unlinkIdentity:f,setMenuState:u,setNotification:c,isDockIconHovered:p(n.installation)}})),(0,De.c0)((function(e){var n=e.enterFullscreen,t=e.exitFullscreen,i=e.isFullscreen;return{enterFullscreen:n,exitFullscreen:t,isFullscreen:i}})))(go);!function(e){e.BackButton="popover-nav__back-button",e.SettingsButton="popover-nav__settings-button",e.CloseButton="popover-nav__close-button"}(ho||(ho={}));var ko=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderInsufficientSpaceTooltip=function(e){return(0,a.jsx)(r.P,{position:o.yX.Absolute,children:(0,a.jsx)(na.cv,{direction:na.n5.Left,align:na.HX.Right,label:(0,c.hw)("Please expand your player size to use this extension.","ExtensionsPopoverContainer"),offsetY:"-12px",show:e})})},n.renderExtension=function(e){var t=n.props,i=t.installation,r=t.permissionsStates;return(0,Or.yi)(i)&&(0,Or.MA)(i,r)?(0,a.jsx)(yo,{isHidden:e,installation:i}):null},n.renderMenu=function(){var e=n.props,t=e.installation,i=e.isMenuOpen,r=e.menuState.type;return!i||n.shouldSkipOverlayPopoverRender()?null:r===Dr.gu.SETTINGS?(0,a.jsx)(po,{installation:t}):r===Dr.gu.MANAGE_ACCESS?(0,a.jsx)(no,{installation:t}):r===Dr.gu.PURCHASE?(0,a.jsx)(lo,{installation:t}):r===Dr.gu.FOLLOW?(0,a.jsx)($r,{installation:t}):r===Dr.gu.LOGIN_REQUIRED?(0,a.jsx)(Ur,{installation:t}):r===Dr.gu.CONDITION_CONFIRMATION?(0,a.jsx)(Zr,{installation:t}):r===Dr.gu.UNRELEASED?(0,a.jsx)(vo,{installation:t}):null},n.getHeaderTitle=function(){return n.props.installation.extension.name},n.handleSettingsClick=function(){var e=n.props,t=e.installation,i=e.isMenuOpen,a=e.setMenuState,r=e.menuState,o=e.trackEvent,s=i&&r.type===Dr.gu.SETTINGS;a(s?{type:Dr.gu.NONE}:{type:Dr.gu.SETTINGS},t),o(yr.X2.ToolbarGearIconClick,s?yr.iN.HideMenu:yr.iN.ViewMenu,yr.si.ExtensionDockToolbarIconClick,t)},n.handleCloseViewClick=function(){var e=n.props,t=e.installation,i=e.setMenuState,a=e.trackEvent;i({type:(0,Or.l1)(t)?Dr.gu.SETTINGS:Dr.gu.NONE},t),a(yr.X2.ToolbarLeftAngleIconClick,yr.iN.HideMenu,yr.si.ExtensionDockToolbarIconClick,t)},n.handleClosePopoverClick=function(){var e=n.props,t=e.installation,i=e.closePopover,a=e.menuState;(0,e.trackEvent)(yr.X2.ToolbarXIconClick,yr.iN.MinimizeExtension,yr.si.ExtensionDockToolbarIconClick,t),(0,Dr.XL)(a)&&a.confirmationRequest.resultCallback(a.confirmationRequest.defaultResult),i(t)},n.shouldSkipOverlayPopoverRender=function(){var e=n.props,t=e.installation,i=e.menuState.type;return"active"===c.x2.experiments.__hardcodedStaleExperiment("extension_overlay_improvement","control")&&(0,Or.l1)(t)&&(i===Dr.gu.SETTINGS||i===Dr.gu.MANAGE_ACCESS||i===Dr.gu.REPORT)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.getHeaderTitle(),n=this.props,t=n.visible,i=n.installation,s=n.isMenuOpen,d=n.menuState,u=n.isChannelInfoVisible,p=(0,Or.nZ)(s,this.props.videoDimensions,i,u),m=p.offset,v=p.shouldShow,f=p.extensionSize,g=p.popoverContentSize,h=p.zoom,y={height:"".concat(f.height/h,"px"),width:"".concat(f.width/h,"px"),position:"absolute"},k=(0,Or.l1)(i),S="active"===c.x2.experiments.__hardcodedStaleExperiment("extension_overlay_improvement","control"),_=!k&&!S,C=!k&&s||k&&d.type!==Dr.gu.SETTINGS;return this.shouldSkipOverlayPopoverRender()?null:(0,a.jsxs)(a.Fragment,{children:[this.renderInsufficientSpaceTooltip(t&&!v),(0,a.jsx)(r.P,{border:!0,display:t?o.nl.Block:o.nl.Hide,position:o.yX.Relative,className:l()("extensions-popover"),children:(0,a.jsx)(Mr.A,{popoverId:"popover-extensions",show:v,size:Ar.$V.Auto,direction:Nr.j.TopRight,offsetY:"".concat(m,"px"),children:(0,a.jsxs)("div",{style:{width:"".concat(g.width,"px")},children:[(0,a.jsx)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Column,padding:0,fullWidth:!0,children:(0,a.jsxs)(r.P,{display:o.nl.Flex,elevation:1,background:o.VS.Base,children:[(0,a.jsx)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Column,justifyContent:o.A9.Center,className:l()("extensions-popover__icon-slot"),children:C&&(0,a.jsx)(Cn.a2,{"aria-label":(0,c.hw)("Close extension view","ExtensionsPopover"),overlay:!0,icon:Lr.Q,onClick:this.handleCloseViewClick,"data-test-selector":ho.BackButton})}),_&&(0,a.jsx)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Column,justifyContent:o.A9.Center,className:l()("extensions-popover__icon-slot")}),(0,a.jsx)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Column,justifyContent:o.A9.Center,flexGrow:1,flexShrink:1,overflow:o.nE.Hidden,textAlign:o.nO.Center,children:(0,a.jsx)(On.N,{type:At.M2.H6,bold:!0,ellipsis:!0,children:e})}),_&&(0,a.jsx)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Column,justifyContent:o.A9.Center,className:l()("extensions-popover__icon-slot"),children:(0,a.jsx)(Cn.a2,{"aria-label":(0,c.hw)("Extension settings","ExtensionsPopover"),overlay:!0,icon:Vr.f,onClick:this.handleSettingsClick,"data-test-selector":ho.SettingsButton})}),(0,a.jsx)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Column,justifyContent:o.A9.Center,className:l()("extensions-popover__icon-slot"),children:(0,a.jsx)(Cn.a2,{"aria-label":(0,c.hw)("Close extension popup","ExtensionsPopover"),overlay:!0,icon:bn.g,onClick:this.handleClosePopoverClick,"data-test-selector":ho.CloseButton})})]})}),(0,a.jsxs)("div",{style:{height:"".concat(g.height,"px"),position:"relative"},children:[(0,a.jsx)(kr.d,{transformValues:{scale:h},transformOrigin:"0 0",style:y,children:this.renderExtension(!t||!v)}),this.renderMenu()]})]})})})]})},n}(d.Component),So=(0,hr.A3)((function(e,n){var t=e.isMenuOpen,i=e.getMenuState,a=e.isChannelInfoVisible,r=e.permissionsStates,o=e.trackEvent,s=e.setMenuState,l=e.closePopover;return{isMenuOpen:t(n.installation),menuState:i(n.installation),isChannelInfoVisible:a,permissionsStates:r,trackEvent:o,setMenuState:s,closePopover:l}}))(ko);var _o=t(305528),Co=t(354955),bo=t.n(Co),Po=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderDemoAsset=function(){var e=n.props,t=e.installation,i=e.extensionsInfoBalloonData,r=Ir[t.extension.id];if(i.loading||i.error||!i.extension||!i.extension.screenshotURLs||!i.extension.screenshotURLs[0])return(0,a.jsx)(_o.Or,{});if(r&&r.useWEBM){var o="https://extension-files.twitch.tv/demos/".concat(t.extension.id,"/demo.webm");return(0,a.jsxs)("video",{style:{position:"inherit"},autoPlay:!0,loop:!0,muted:!0,poster:i.extension.screenshotURLs[0],children:[(0,a.jsx)("source",{type:"video/webm",src:o}),(0,c.hw)("Extension Demo Video","ExtensionsInfoBalloon")]})}return(0,a.jsx)(ri.L,{alt:(0,c.hw)("Extension Screenshot","ExtensionsInfoBalloon"),src:i.extension.screenshotURLs[0]})},n.dismissInfo=function(){var e=n.props,t=e.installation;(0,e.setMenuState)({type:Dr.gu.NONE},t)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.isInfoOpen,t=e.installation,i=Ir[t.extension.id],s=(null==i?void 0:i.overriddenViewerSummary)||t.extension.viewerSummary;return(0,a.jsxs)(Er.E,{show:n,background:o.VS.Overlay,size:Ar.$V.ExtraLarge,direction:Nr.j.LeftCenter,children:[(0,a.jsxs)(r.P,{display:o.nl.Flex,padding:{x:2,top:2,bottom:1},children:[(0,a.jsx)(r.P,{flexGrow:1,children:(0,a.jsx)(vt.hE,{type:At.M2.H4,size:vt.uM.Small,children:"Introducing the ".concat(t.extension.name," Extension!")})}),(0,a.jsx)(r.P,{className:"extensions-info-balloon__close-button",flexGrow:0,children:(0,a.jsx)(Cn.a2,{"aria-label":(0,c.hw)("Close extensions information dialog","ExtensionsInfoBalloon"),icon:bn.g,onClick:this.dismissInfo})})]}),(0,a.jsx)(r.P,{display:o.nl.Flex,padding:{x:2,bottom:1},children:(0,a.jsx)(On.N,{fontSize:o.Z4.Size6,children:s})}),(0,a.jsx)(r.P,{display:o.nl.Flex,padding:{x:2,bottom:1},children:this.renderDemoAsset()})]})},n}(d.Component);var xo=(0,g.Zz)((0,hr.A3)((function(e,n){var t=e.getMenuState,i=e.setMenuState;return{isInfoOpen:t(n.installation).type===Dr.gu.INFO,setMenuState:i}})),(0,z._v)(bo(),{name:"extensionsInfoBalloonData",options:function(e){return{variables:{extensionID:e.installation.extension.id,extensionVersion:e.installation.extension.version}}}}))(Po),Eo=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderPopovers=function(e,t){var i=n.props.allVideoExtensions.map((function(e){var i=n.props,r=i.playerDimensions,o=i.videoDimensions,s=i.isPopoverOpen,l=i.getMenuState,d=s(e)&&l(e).type!==Dr.gu.INFO;return(0,a.jsx)(So,{visible:d&&t,playerDimensions:r,videoDimensions:o,installation:e},"extensions-dock-popover__".concat((0,Or.wv)(e)))}));return(0,a.jsx)("div",{style:{marginInlineEnd:"".concat(e,"px")},children:i})},n.renderExtensionInfoBalloon=function(){var e=n.props.overlayExtension;return e?(0,a.jsx)(xo,{installation:e}):null},n.renderDockAndIcons=function(e){var t=n.props,i=t.shouldShow,s=t.allVideoExtensions;return(0,a.jsx)(Mt.e,{type:Lt.ES.TranslateRight,duration:Lt.Cf.Long,show:i,alwaysRenderChild:!0,children:(0,a.jsx)(r.P,{display:o.nl.Flex,alignItems:o.k2.Center,className:l()("extensions-dock__dock",["extensions-dock__dock_".concat(i?"visible":"hidden")]),children:(0,a.jsx)(kr.d,{transformValues:{scale:e},transformOrigin:"100% 50%",children:(0,a.jsx)(r.P,{display:o.nl.Flex,background:o.VS.Base,flexDirection:o.bo.Column,borderRadius:Vt.Z.Medium,padding:{top:1},justifyContent:o.A9.Center,alignItems:o.k2.Center,children:s.map(n.renderExtensionCard)})})})})},n.renderExtensionCard=function(e){return(0,a.jsx)(Rr,{installation:e},"extensions-dock-card__".concat((0,Or.wv)(e)))},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.isChannelInfoVisible,t=e.hideExtensions,i=(0,Or.pi)(this.props.videoDimensions,n),s=i.shouldShow,l=i.zoom,d=i.xOffset,u=s&&!t;return(0,a.jsx)(Sn.e,{theme:this.props.theme,children:(0,a.jsxs)(r.P,{display:u?o.nl.Flex:o.nl.Hide,position:o.yX.Absolute,attachRight:!0,fullHeight:!0,alignItems:o.k2.Center,className:"extensions-dock__layout",children:[this.renderExtensionInfoBalloon(),this.renderPopovers(d,u),this.renderDockAndIcons(l)]})})},n}(d.Component),Ao=(0,hr.A3)((function(e){var n=e.isPopoverOpen,t=e.isChannelInfoVisible,i=e.hideExtensions,a=e.allVideoExtensions,r=e.getMenuState,o=e.overlayExtension;return{isPopoverOpen:n,isChannelInfoVisible:t,hideExtensions:i,allVideoExtensions:a,getMenuState:r,overlayExtension:o}}))(Eo);var No=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.shouldShow=function(){var e=n.props,t=e.active,i=e.hideExtensions,a=e.isAnyPopoverOpen;return!i&&(!!t||a)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e={playerDimensions:this.props.playerDimensions,videoDimensions:this.props.videoDimensions,shouldShow:this.shouldShow(),theme:"dark"};return(0,a.jsx)(Ao,(0,i.__assign)({},e))},n}(d.Component),wo=(0,g.Zz)((0,Tt.In)((function(e){var n=e.active;return{active:n}})),(0,hr.A3)((function(e){var n=e.hideExtensions,t=e.isAnyPopoverOpen;return{hideExtensions:n,isAnyPopoverOpen:!!t()}})))(No);var To=t(309759),Io=t(222115),Do=t(613072),Oo=t.n(Do),Fo=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.isExpiring,t=e.showBitsNotification,i=e.showSuccessMessage,s=e.loginID;return n?(0,a.jsx)(Mt.e,{type:Lt.ES.TranslateRight,duration:Lt.Cf.Long,show:t&&void 0!==s,alwaysRenderChild:!0,transitionInitialMount:!0,children:(0,a.jsxs)(r.P,{borderTop:!0,background:o.VS.Overlay,display:o.nl.Block,position:o.yX.Relative,padding:{y:1,x:2},margin:{y:5,x:3},className:"bits-balance-notification",children:[i&&(0,a.jsx)(r.P,{margin:{right:.5},display:o.nl.Inline,className:"extension-notification__success-text",children:this.props.bitsSuccessMessage}),this.props.bitsBalanceMessage]})}):null},n}(d.Component),Ro=(0,hr.A3)((function(e){var n=e.loginID,t=e.getNotification,i=t(),a=i.type===Dr._n.BITS_BALANCE,r=i.type===Dr._n.BITS_BALANCE&&!0===i.success;return{loginID:n,isExpiring:(0,Dr.dD)(i),showBitsNotification:a,showSuccessMessage:r}}))(Fo);var Mo=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.bitsBalanceQuery;if(!e||e.loading||e.error)return null;var n=e.currentUser,t=n&&n.bitsBalance||0,r={bitsBalanceMessage:(0,c.hw)("Bits Balance {bitsCount}",{bitsCount:(0,a.jsx)(to.k,{count:t,withImage:!0,withText:!0,animated:!1})},"ExtensionsNotificationBitsBalanceContainer"),bitsSuccessMessage:(0,c.hw)("Success!","ExtensionsNotificationBitsBalanceContainer")};return(0,a.jsx)(Ro,(0,i.__assign)({},r))},n}(d.Component),Lo=(0,g.Zz)((0,hr.A3)((function(e){var n=e.channelID,t=e.loginID;return{channelID:n,loginID:t}})),(0,To.n)((function(e){return(0,Io.Y)(Oo(),e.channelID||null,e.loginID||null)})),(0,z._v)(Oo(),{name:"bitsBalanceQuery"}))(Mo);var Vo=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsx)(r.P,{position:o.yX.Absolute,attachRight:!0,attachBottom:!0,alignItems:o.k2.Center,className:"extensions-notifications",children:(0,a.jsx)(Lo,{})})},n}(d.Component),jo=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),Object.defineProperty(n.prototype,"videoDimensions",{get:function(){var e=this.props.playerDimensions,n=e.playerHeight,t=e.playerWidth;if(!n||!t)return{videoWidth:0,videoHeight:0};var i=this.aspectRatio,a=t/n>i;return{videoWidth:a?Math.ceil(n*i):t,videoHeight:a?n:Math.ceil(t/i)}},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"aspectRatio",{get:function(){var e=this.props.videoDimensions,n=e.videoHeight,t=e.videoWidth;return n&&t?t/n:1.7777777777777777},enumerable:!1,configurable:!0}),n.prototype.render=function(){var e=this.props,n=e.game,t=e.isVideoAdShowing,i=e.hideExtensions,s=e.arePlayerControlsVisible;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(qn.h,{children:(0,a.jsxs)(r.P,{className:"video-size passthrough-events",position:o.yX.Absolute,display:i?o.nl.Hide:o.nl.Block,attachTop:!0,attachLeft:!0,fullWidth:!0,fullHeight:!0,children:[this.renderVideoOverlay(this.videoDimensions),(0,a.jsx)(wo,{playerDimensions:this.props.playerDimensions,videoDimensions:this.videoDimensions}),(0,a.jsx)(Vo,{})]})}),(0,a.jsx)(Pr,{game:n,isVideoAdShowing:t,arePlayerControlsVisible:s})]})},n.prototype.renderVideoOverlay=function(e){var n=this.props,t=n.overlayExtension,i=n.shouldShowOverlayExtension,r=n.permissionsStates;if(!t||!(0,Or.MA)(t,r))return null;var o=e.videoWidth,s=e.videoHeight,l={width:"".concat(o,"px"),height:"".concat(s,"px"),display:i?"block":"none"};return(0,a.jsx)(kr.d,{transformValues:{translateX:Math.floor(-.5*o),translateY:Math.floor(-.5*s)},className:"extensions-video-overlay-size-container",style:l,children:(0,a.jsx)(yo,{isHidden:!i,installation:t})})},n}(d.Component),Bo=(0,hr.A3)((function(e){var n=e.channelID,t=e.allVideoExtensions,i=e.overlayExtension,a=e.isOverlayVisible,r=e.hideExtensions,o=e.permissionsStates;return{channelID:n,allVideoExtensions:t,overlayExtension:i,hideExtensions:r,shouldShowOverlayExtension:!r&&a,permissionsStates:o}}))(jo);var Uo=function(e){var n=e.track,t=e.activeExtensions,i=d.useCallback((function(e){if("minute-watched"===e.name&&0!==t.length){var i={active_extensions:JSON.stringify(t.map((function(e){return{extension_id:e.id,extension_anchor:e.activationConfig.anchor,extension_slot:e.activationConfig.slot}})))};n("extensions_active_per_minute_watched",i)}}),[n,t]);return(0,M.p)(L.a.ANALYTICS_EVENT,i),null},Go=t(947028),zo=t.n(Go),qo=function(e){function n(n){var t=e.call(this,n)||this;return t.state={},t.trackEvent=function(e,n){var a;switch(e){case yr.si.ExtensionDockIconClick:a="extension_dock_icon_click";break;case yr.si.ExtensionDockMenuOptionClick:a="extension_dock_menu_option_click";break;case yr.si.ExtensionDockToolbarIconClick:a="extension_dock_toolbar_icon_click";break;default:return}t.props.track(a,(0,i.__assign)({},n))},t.handleResize=function(){t.setState(t.getPlayerDimensions())},t.getPlayerDimensions=function(){var e=(0,mt.P)(t.props.videoRef);return{playerWidth:e.width,playerHeight:e.height}},t.state=(0,i.__assign)({},t.getPlayerDimensions()),t}return(0,i.__extends)(n,e),n.prototype.render=function(){var e,n,t,i,r,o,s,l,d,u,c=this.props.data,p=(0,ye.NZ)(this.props.mediaPlayerInstance),m=(null===(t=null===(n=null===(e=null==c?void 0:c.user)||void 0===e?void 0:e.stream)||void 0===n?void 0:n.game)||void 0===t?void 0:t.name)||"";if((null===(o=null===(r=null===(i=null==c?void 0:c.user)||void 0===i?void 0:i.self)||void 0===r?void 0:r.banStatus)||void 0===o?void 0:o.isPermanent)||(null!==(u=null===(d=null===(l=null===(s=null==c?void 0:c.user)||void 0===s?void 0:s.self)||void 0===l?void 0:l.banStatus)||void 0===d?void 0:d.expiresInMs)&&void 0!==u?u:0)>0)return null;if(!this.props.shouldMountExtensionComponents||!this.props.installations.length)return null;var v=this.state,f=v.playerWidth,g=v.playerHeight;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ct.$,{onResize:this.handleResize}),(0,a.jsx)(Uo,{track:this.props.track,activeExtensions:this.props.installations}),(0,a.jsx)(Bo,{isVideoAdShowing:this.props.isVideoAdShowing,playerDimensions:{playerWidth:f,playerHeight:g},videoDimensions:p,arePlayerControlsVisible:this.props.playerControlsActive,game:m})]})},n}(d.Component);var Ho=(0,g.Zz)((0,tn.X)({name:"ExtensionsOverlayContainer"}),(0,u.Ng)((function(e){var n=(0,pn.wz)(e);return{loginID:n&&n.id||void 0,isTheatreMode:e.ui.theatreModeEnabled}})),(0,x.cj)((function(e){var n=(0,T.wk)({playerPublicPropsContext:e});return{channelLogin:(0,V.jp)(e.content),parentChannelID:(0,V.b3)(e.content),isMini:!!n.mini,showChannelInfoOnHover:n.showChannelInfoOnHover}})),(0,P.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,It.o1)(),(0,De.c0)((function(e){var n=e.isFullscreen,t=e.videoRef;return{isFullscreen:n,videoRef:t}})),(0,Tt.In)((function(e){var n=e.active;return{playerControlsActive:!!n}})),(0,E.AP)((function(e){var n=e.isPlaying;return{isPlaying:n}})),(0,k.VX)((function(e){return{isVideoAdShowing:(0,S.cz)(e.videoAdMetadata)}})),(0,Nt.vM)((function(e){return{isCasting:(0,Nt.mh)(e)}})),(0,z._v)(zo(),{skip:function(e){return!e.channelLogin},options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),(0,hr.A3)((function(e){var n=e.shouldMountExtensionComponents,t=e.allVideoExtensions;return{shouldMountExtensionComponents:n,installations:t}})))(qo);var Wo,Ko=t(672052),Zo=t(681685),Xo=t(369624),Qo=t(690982),Yo=t(432584),$o=t.n(Yo),Jo=function(e){return!!(e.user&&e.user.self&&e.user.self.follower&&null!==e.user.self.follower.disableNotifications)},es=function(e){return!(e.user&&e.user.self&&e.user.self.follower&&null!==e.user.self.follower.disableNotifications)||e.user.self.follower.disableNotifications};!function(e){e.FollowPanelOverlay="follow-panel-overlay"}(Wo||(Wo={}));var ns=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={userOriginallyFollowedWithNotifications:!1},n.handleFollow=function(){var e=n.props.offlineChannelNotificationPromptLoginAction;return e===Oe.vS.Modal?n.showAuthModalIfNotLoggedIn():e===Oe.vS.Navigate?n.openAuthPageIfNotLoggedIn():void 0},n.openAuthPageIfNotLoggedIn=function(){if(!n.props.isLoggedIn){if(!(n.props.data&&n.props.data.user&&n.props.data.user.login))return;var e=n.props.data.user.login,t=(0,Ko.SQ)("/".concat(e));window.open("https://www.twitch.tv".concat(t),"_blank")}},n.showAuthModalIfNotLoggedIn=function(){n.props.isLoggedIn||n.props.showAuthModal()},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.data&&!this.props.data.loading&&this.setUserOriginallyFollowed(this.props.data)},n.prototype.componentDidUpdate=function(e){e.data&&!e.data.loading||!this.props.data||this.props.data.loading||this.setUserOriginallyFollowed(this.props.data)},n.prototype.render=function(){var e=this.props.liveChannelLogin,n=l()("follow-panel-overlay",{"follow-panel-overlay--with-top-offset":this.props.streamInfoShowing});return this.shouldRender()?(0,a.jsx)(Mt.e,{show:!0,type:Lt.ES.SlideOverTop,transitionInitialMount:!0,injectChild:!0,children:(0,a.jsxs)(r.P,{className:n,"data-test-selector":Wo.FollowPanelOverlay,display:o.nl.Flex,flexDirection:o.bo.Column,alignItems:o.k2.Start,position:o.yX.Absolute,elevation:1,background:o.VS.Overlay,borderRadius:Vt.Z.Small,padding:1,children:[(0,a.jsx)(On.N,{color:o.Q1.Overlay,fontSize:o.Z4.Size5,children:(0,c.hw)("Follow and get notified when {channelLogin} is live",{channelLogin:e},"FollowPanelOverlay")}),(0,a.jsx)(r.P,{margin:{top:1},children:(0,a.jsx)(Qo.F6,{userID:this.props.data.user.id,isFollowingUser:Jo(this.props.data),notificationsDisabled:es(this.props.data),onFollow:this.handleFollow})})]})}):null},n.prototype.shouldRender=function(){return!this.props.channelIsSelf&&(!!this.props.liveChannelLogin&&(!(!this.props.data||!this.props.data.user)&&(!this.props.data.loading&&!this.props.data.error&&(!this.state.userOriginallyFollowedWithNotifications&&(!this.props.streamInfoShowing||!this.props.socialPanelShowing)))))},n.prototype.setUserOriginallyFollowed=function(e){var n=Jo(e)&&!es(e);this.setState({userOriginallyFollowedWithNotifications:n})},n}(d.Component);var ts=(0,g.Zz)((0,tn.X)({name:"FollowPanelOverlay"}),(0,x.cj)((function(e){var n;return{socialPanelShowing:void 0!==(null===(n=e.behaviors)||void 0===n?void 0:n.socialPanelType),liveChannelLogin:(0,V.jp)(e.content),offlineChannelNotificationPromptLoginAction:(0,T.wk)({playerPublicPropsContext:e}).offlineChannelNotificationPromptLoginAction}})),(0,De.c0)((function(e){return{streamInfoShowing:e.streamInfoShowing}})),(0,z._v)($o(),{options:function(e){var n;return{variables:{channelLogin:null!==(n=e.liveChannelLogin)&&void 0!==n?n:""},skip:!e.liveChannelLogin}}}),(0,u.Ng)((function(e,n){var t=(0,pn.wz)(e);return{channelIsSelf:!(!t||t.login!==n.liveChannelLogin),isLoggedIn:(0,pn.M3)(e)}}),(function(e,n){return{showAuthModal:function(){if(n.data&&n.data.user){var t=(0,Xo.$5)(Zo.W.NotificationBell,{showContext:!0,targetChannel:n.liveChannelLogin});e(t)}}}})))(ns),is=t(112736);function as(e,n){var t=e.value,i=e.valueAlt;return(0,a.jsxs)(d.Fragment,{children:[(0,a.jsxs)(On.N,{type:At.M2.Span,children:[t,i&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(On.N,{color:o.Q1.Alt,type:At.M2.Span,children:"/"}),i]})]}),n&&(0,a.jsx)(On.N,{color:o.Q1.Alt,type:At.M2.Span,children:","})]},t)}var rs,os=(0,tn.X)({name:"KeyboardShortcutsOverlay"})((function(){var e=(0,d.useContext)(De._t).hideKeyboardShortcuts,n=(0,d.useContext)(x.kl).content,t=(0,d.useMemo)((function(){var e=[{message:(0,c.hw)("Pause/Play","KeyboardShortcutsOverlayComponent"),values:{value:(0,c.hw)("Space/k","KeyboardShortcutsOverlayComponent")}},(0,V.DG)(n)?void 0:{message:(0,c.hw)("Back/Forward {count} seconds",{count:(0,V.Jn)(n)?2:10},"KeyboardShortcutsOverlayComponent"),values:[{value:"",valueAlt:""},{value:"j",valueAlt:"l"}]},(0,V.DG)(n)?void 0:{message:(0,c.hw)("Slow down/Speed up","KeyboardShortcutsOverlayComponent"),values:{value:",",valueAlt:"."}},{message:(0,c.hw)("Change Volume","KeyboardShortcutsOverlayComponent"),values:{value:(0,c.hw)("shift+","KeyboardShortcutsOverlayComponent"),valueAlt:(0,c.hw)("shift+","KeyboardShortcutsOverlayComponent")}},(0,V.Jn)(n)?void 0:{message:(0,c.hw)("Mute","KeyboardShortcutsOverlayComponent"),values:{value:"m"}},{message:(0,c.hw)("Toggle Fullscreen","KeyboardShortcutsOverlayComponent"),values:{value:"f"}},{message:(0,c.hw)("Exit Fullscreen","KeyboardShortcutsOverlayComponent"),values:{value:(0,c.hw)("Esc","KeyboardShortcutsOverlayComponent")}},{message:(0,c.hw)("Show this menu","KeyboardShortcutsOverlayComponent"),values:{value:"?"}}];return(0,is.jP)(e)}),[n]);return(0,a.jsx)(Sn.e,{theme:"dark",children:(0,a.jsx)("div",{style:{width:300,position:"absolute"},children:(0,a.jsx)(r.P,{background:o.VS.Base,elevation:1,color:o.Q1.Base,children:(0,a.jsx)(Pn.X,{children:(0,a.jsxs)(Nn.B,{children:[(0,a.jsxs)(En.H,{children:[(0,a.jsx)(wn.n,{padding:.5,children:(0,c.hw)("Keyboard Shortcuts","KeyboardShortcutsOverlayComponent")}),(0,a.jsx)(wn.n,{textAlign:o.nO.Right,padding:.5,children:(0,a.jsx)(Wn.$n,{variant:Wn.VQ.Text,icon:bn.g,"aria-label":"Close",onClick:e})})]}),t.map((function(e,n){var t=e.message,i=function(e){return Array.isArray(e)?e.map((function(n,t){return as(n,t<e.length-1)})):as(e)}(e.values);return(0,a.jsxs)(En.H,{children:[(0,a.jsx)(wn.n,{padding:.5,children:(0,a.jsx)(On.N,{children:t})}),(0,a.jsx)(wn.n,{textAlign:o.nO.Right,padding:.5,children:i})]},n)}))]})})})})})})),ss=t(731667);!function(e){e.PlayButton="player-overlay-play-button"}(rs||(rs={}));var ls=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handlePlay=function(){n.props.play()},n.handleToggleFullscreen=function(){n.props.disableDoubleClickFullscreen||(n.props.isFullscreen?n.props.exitFullscreen():n.props.enterFullscreen())},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=(0,c.hw)("Play","PlayButtonOverlay");return(0,a.jsx)(Rn.FT,{type:Rn.NL.Fullscreen,transparency:Rn.xL.Transparency5,children:(0,a.jsxs)(r.P,{position:o.yX.Relative,display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.Center,height:"100%",width:"100%",children:[(0,a.jsx)(_n.S,{position:o.yX.Absolute,height:"100%",width:"100%",attachTop:!0,attachRight:!0,attachBottom:!0,attachLeft:!0,children:(0,a.jsx)(jt.M,{onClick:this.handlePlay,onDoubleClick:this.handleToggleFullscreen,"aria-label":e})}),(0,a.jsx)(r.P,{position:o.yX.Absolute,children:(0,a.jsx)(xa.tD,{borderRadius:Vt.Z.Medium,onClick:this.handlePlay,"data-a-target":rs.PlayButton,variant:xa.hJ.Overlay,"aria-label":e,children:(0,a.jsx)(Ut.A,{size:120})})})]})})},n}(d.Component),ds=(0,g.Zz)((0,tn.X)({name:"PlayButtonOverlay"}),(0,E.AP)((function(e){return{play:e.play}})),(0,It.o1)(),(0,x.cj)((function(e){return{disableDoubleClickFullscreen:(0,T.wk)({playerPublicPropsContext:e}).disableDoubleClickFullscreen}})),(0,De.c0)((function(e){var n=e.enterFullscreen,t=e.exitFullscreen,i=e.isFullscreen;return{enterFullscreen:n,exitFullscreen:t,isFullscreen:i}})))(ls);var us,cs=function(){var e=(0,d.useContext)(E.wL),n=e.play,t=e.isPlaying,i=e.userTriggeredPause,s=e.userTriggeredPlay,l=(0,d.useContext)(P.$g),u=l.autoplay,p=l.hasPlayed,m=l.mediaPlayerInstance,v=(0,d.useContext)(De._t),f=v.isFullscreen,g=v.enterFullscreen,h=v.exitFullscreen,y=(0,d.useContext)(x.kl),k=(0,T.wk)({playerPublicPropsContext:y}).disableDoubleClickFullscreen,S=(0,d.useState)(!1),_=S[0],C=S[1],b=(0,d.useState)(null),A=b[0],N=b[1],w=(0,d.useRef)(),I=(0,d.useRef)(!1),D=(0,d.useCallback)((function(e){I.current&&(C(!0),N(e))}),[]),O=function(){return m?m.getDisplayHeight()<=240?40:m.getDisplayHeight()>=480?80:Math.round(m.getDisplayHeight()*(1/6)):60};if((0,d.useEffect)((function(){if(s&&t)return D(dn.t.Play)}),[t,D,s]),(0,d.useEffect)((function(){if(i&&!t)return D(dn.t.MiniPlayerPause)}),[t,D,i]),(0,Ze.S)((function(){I.current=!0})),!u&&!p)return(0,a.jsx)(ds,{});if(!A&&t)return null;var F=(0,c.hw)("Play","LastActionOverlay");return(0,a.jsx)(Rn.FT,{type:Rn.NL.Fullscreen,transparency:Rn.xL.Transparency10,children:(0,a.jsxs)(r.P,{position:o.yX.Relative,display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.Center,height:"100%",width:"100%",children:[(0,a.jsx)(_n.S,{position:o.yX.Absolute,height:"100%",width:"100%",attachTop:!0,attachRight:!0,attachBottom:!0,attachLeft:!0,children:(0,a.jsx)(jt.M,{onClick:function(){!1===t&&n({userTriggered:!0})},onDoubleClick:function(){k||(f?h():g())},"aria-label":F})}),(0,a.jsx)(Mt.e,{show:_,type:[Lt.ES.ScaleOver,Lt.ES.Fade],duration:[Lt.Cf.Long,Lt.Cf.Short],onEnterComplete:function(){clearTimeout(w.current),w.current=setTimeout((function(){C(!1)}),500)},onExitComplete:function(){N(null),clearTimeout(w.current),w.current=void 0},transitionInitialMount:!0,children:A&&(0,a.jsx)(r.P,{display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.Center,background:o.Q1.Overlay,borderRadius:Vt.Z.Rounded,color:o.Q1.Overlay,padding:1,children:(0,a.jsx)(ss.t,{asset:A,type:ss.H.Inherit,width:O(),height:O()})})})]})})},ps=t(26589),ms=t(628458);!function(e){e.PlayPauseButton="mini-overlay-play-pause-button"}(us||(us={}));var vs,fs=(0,g.Zz)((0,tn.X)({name:"MiniOverlay"}),(0,P.dd)((function(e){return{playbackRestricted:(0,ye.k1)(e)}})),(0,x.cj)((function(e){return{mini:(0,T.wk)({playerPublicPropsContext:e}).mini}})),(0,E.AP)((function(e){return{isPlaying:e.isPlaying,pause:e.pause,play:e.play}})),(0,Tt.In)((function(e){var n=e.active;return{playerControlsActive:!!n}})))((function(e){var n=e.isPlaying,t=e.mini,i=e.pause,s=e.play,l=e.playbackRestricted,d=e.playerControlsActive;if(!t)return null;var u=n?(0,c.hw)("Pause","VideoPlayerMiniOverlay"):(0,c.hw)("Play","VideoPlayerMiniOverlay"),p=n?dn.t.MiniPlayerPause:dn.t.MiniPlayerPlay;return(0,a.jsx)(Mt.e,{type:Lt.ES.Fade,show:d,alwaysRenderChild:!0,children:(0,a.jsxs)(Rn.FT,{transparency:Rn.xL.Transparency6,type:Rn.NL.Fullscreen,children:[(0,a.jsxs)(r.P,{className:"mini-overlay__title",background:o.VS.Overlay,alignItems:o.k2.Center,display:o.nl.Flex,flexDirection:o.bo.Row,flexWrap:o.I4.NoWrap,justifyContent:o.A9.Between,padding:{y:.5,right:.5},fullWidth:!0,children:[(0,a.jsx)(r.P,{ellipsis:!0,margin:{x:1},children:(0,a.jsx)(On.N,{fontSize:o.Z4.Size5,type:At.M2.Span,children:t.title})}),(0,a.jsx)(r.P,{flexShrink:0,children:(0,a.jsx)(Cn.a2,{"aria-label":(0,c.hw)("Dismiss Mini Player","VideoPlayerMiniOverlay"),icon:bn.g,onClick:t.onClickDismiss,overlay:!0})})]}),(0,a.jsxs)(r.P,{display:o.nl.Flex,alignItems:o.k2.Center,flexDirection:o.bo.Row,justifyContent:o.A9.Center,fullHeight:!0,fullWidth:!0,children:[(0,a.jsx)(Cn.a2,{"aria-label":(0,c.hw)("Expand Player","VideoPlayerdMiniOverlay"),icon:ms.i,onClick:t.onClickExpand,overlay:!0,size:_i.f.Large}),(0,a.jsx)(r.P,{margin:{left:2},children:(0,a.jsx)(Cn.a2,{"aria-label":l?(0,c.hw)("Playback restricted","VideoPlayerMiniOverlay"):u,disabled:l,icon:p,onClick:function(){n?i({userTriggered:!0}):s({userTriggered:!0})},overlay:!0,size:_i.f.Large,"data-a-target":us.PlayPauseButton})})]})]})})}));!function(e){e.DismissButton="muted-segments-alert-overlay-presentation__dismiss-button",e.PositionWrapper="muted-segments-alert-overlay-presentation__wrapper",e.ScrollWrapper="muted-segments-alert-overlay-presentation__scroll-wrapper"}(vs||(vs={}));var gs=function(e){var n=d.useRef(e.bottomControlsShowing),t=function(e){var n=e.bottomControlsShowing,t=e.bottomControlsShown;return{positionWrapperClasses:l()({"muted-segments-alert__position-wrapper":!0,"muted-segments-alert__position-wrapper--bottom-controls-offset":n}),scrollWrapperClasses:l()({"muted-segments-alert__scroll-wrapper":!0,"muted-segments-alert__scroll-wrapper--bottom-controls-in":n,"muted-segments-alert__scroll-wrapper--bottom-controls-out":!n&&t})}}({bottomControlsShowing:e.bottomControlsShowing,bottomControlsShown:n.current}),i=t.positionWrapperClasses,s=t.scrollWrapperClasses;return e.bottomControlsShowing&&(n.current=!0),(0,a.jsx)(r.P,{className:i,position:o.yX.Absolute,display:o.nl.Flex,flexDirection:o.bo.ColumnReverse,alignItems:o.k2.Center,"data-test-selector":vs.PositionWrapper,attachTop:!0,attachBottom:!0,attachLeft:!0,attachRight:!0,children:(0,a.jsx)(Tn.Vq,{"data-test-selector":vs.ScrollWrapper,className:s,children:(0,a.jsxs)(r.P,{background:o.VS.Overlay,padding:{x:.5},className:"muted-segments-alert__content",display:o.nl.Flex,border:!0,children:[(0,a.jsx)(_n.S,{padding:{y:1,left:1},children:(0,a.jsx)(On.N,{children:(0,c.hw)("Audio for portions of this video has been muted as it appears to contain copyrighted content owned or controlled by a third party.","MutedSegmentsAlert")})}),(0,a.jsx)(r.P,{flexShrink:0,padding:{y:.5},children:(0,a.jsx)(Cn.a2,{"aria-label":(0,c.hw)("Dismiss muted audio notice","MutedSegmentsAlert"),icon:bn.g,onClick:e.onDismissClick,overlay:!0,"data-test-selector":vs.DismissButton})})]})})})},hs=t(218615),ys=t.n(hs),ks="twilight.mutedSegmentsAlertDismissed",Ss=function(e){function n(n){var t=e.call(this,n)||this;return t.handleDismissClick=function(){t.setState({isDismissed:!0}),c.VS.set(ks,!0)},t.state={isDismissed:c.VS.get(ks,!1)},t}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.data;return!e||e.loading||e.error||!function(e){var n=e.video;return n&&n.muteInfo&&n.muteInfo.mutedSegmentConnection&&n.muteInfo.mutedSegmentConnection.nodes&&n.muteInfo.mutedSegmentConnection.nodes.length>0}(e)||this.state.isDismissed?null:(0,a.jsx)(gs,{bottomControlsShowing:this.props.bottomControlsShowing,onDismissClick:this.handleDismissClick})},n}(d.Component);var _s=(0,g.Zz)((0,tn.X)({name:"MutedSegmentsAlertOverlay"}),(0,x.cj)((function(e){var n=(0,T.wk)({playerPublicPropsContext:e}),t=(0,T.Rh)({playerPublicPropsContext:e});return{vodID:(0,V.hq)(t),includePrivateVODs:n.includePrivateVODs}})),(0,z._v)(ys(),{options:function(e){return{variables:{vodID:e.vodID,includePrivate:e.includePrivateVODs||!1}}},skip:function(e){return!e.vodID}}))(Ss),Cs=t(419354),bs=t.n(Cs),Ps=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getBannerUrl=function(){if(n.props.data&&n.props.data.user)return n.props.data.user.offlineImageURL?n.props.data.user.offlineImageURL:void 0},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.getBannerUrl();return e?(0,a.jsx)("div",{style:{backgroundColor:"#19171c",backgroundImage:"url(".concat(e,")"),width:"100%",height:"100%",backgroundPosition:"50%",backgroundRepeat:"no-repeat",backgroundSize:"contain"}}):null},n}(d.Component);var xs=(0,g.Zz)((0,tn.X)({name:"OfflineBannerOverlay"}),(0,x.cj)((function(e){var n=(0,T.Rh)({playerPublicPropsContext:e});return{liveChannelLogin:(0,V.jp)(n)}})),(0,z._v)(bs(),{skip:function(e){return!e.liveChannelLogin},options:function(e){var n;return{variables:{login:null!==(n=e.liveChannelLogin)&&void 0!==n?n:""}}}}))(Ps),Es=t(416290),As=t(391186),Ns=t(478889),ws=t(47149),Ts=t(144269),Is=t(22046),Ds=t(998300),Os=t(666179),Fs=t.n(Os),Rs=v.x.wrap((function(){return t.e(8217).then(t.bind(t,550715))}),"OfflineEmbedChannelInfo"),Ms=v.x.wrap((function(){return Promise.all([t.e(76673),t.e(54673),t.e(38826)]).then(t.bind(t,976305))}),"OfflineEmbedScheduleSegment");function Ls(){var e,n,t,i,s,l,u,p,m,v,f,g,h,y,k=(0,d.useContext)(x.kl).content,S=(0,d.useState)(window.innerWidth<=600),_=S[0],C=S[1],b=null!==(e=(0,V.hd)(k))&&void 0!==e?e:"",P=(0,d.useRef)((0,H.aq)()),E=(0,F.IT)(Fs(),{variables:{login:null!=b?b:""},skip:!b}),A=E.data,N=E.loading,w=(null===(n=null==A?void 0:A.user)||void 0===n?void 0:n.id)||"",T=null===(l=null===(s=null===(i=null===(t=null==A?void 0:A.user)||void 0===t?void 0:t.channel)||void 0===i?void 0:i.schedule)||void 0===s?void 0:s.segmentList)||void 0===l?void 0:l.edges,I=null===(v=null===(m=null===(p=null===(u=null==A?void 0:A.user)||void 0===u?void 0:u.videos)||void 0===p?void 0:p.edges)||void 0===m?void 0:m[0])||void 0===v?void 0:v.node,D=null==T?void 0:T.filter((function(e){var n;return!(null===(n=null==e?void 0:e.node)||void 0===n?void 0:n.isCancelled)})).slice(0,2),O=D&&D.length>0,R=I&&!O&&!_,M=O&&!_,L=(0,Is.g)(null==I?void 0:I.previewThumbnailURL),j=(0,d.useState)(!1),B=j[0],U=j[1];return(0,d.useEffect)((function(){U(!A||!w||!b)}),[A,w,b]),B&&!N?(0,a.jsx)(Ts.PageNotFound,{openInNewTab:!0}):(0,a.jsxs)("div",{className:"offline-embeds",style:{backgroundImage:"url(".concat(null!==(g=null===(f=null==A?void 0:A.user)||void 0===f?void 0:f.bannerImageURL)&&void 0!==g?g:null===(h=null==A?void 0:A.user)||void 0===h?void 0:h.offlineImageURL,")")},children:[(0,a.jsx)(ct.$,{onResize:function(e,n){e&&n&&C(e<=775||n<=300)}}),(0,a.jsxs)(r.P,{alignItems:o.k2.Center,display:o.nl.Flex,fullHeight:!0,children:[(0,a.jsx)(r.P,{display:o.nl.Flex,className:M?"offline-embeds--stream-schedule-exists":void 0,children:(0,a.jsx)(Rs,{channelLogin:b,offlineSessionID:P.current,showSmallOverlay:_,customBackground:O&&!_?o.VS.Overlay:void 0})}),M&&(0,a.jsx)("div",{style:{marginTop:Vs(null==D?void 0:D.length),zIndex:0},children:(0,a.jsxs)(r.P,{className:"offline-embeds--schedule",display:o.nl.Flex,flexDirection:o.bo.Column,justifyContent:o.A9.Center,padding:{left:2,right:3,bottom:2},children:[(0,a.jsxs)(r.P,{display:o.nl.Flex,justifyContent:o.A9.Between,children:[(0,a.jsx)(r.P,{className:"offline-embeds--upcoming-streams",padding:{left:1,top:2,bottom:1},display:o.nl.InlineBlock,children:(0,a.jsx)(On.N,{type:At.M2.H4,children:(0,c.hw)("Upcoming Streams:","OfflineEmbedsOverlay")})}),(0,a.jsx)(r.P,{className:"offline-embeds--stylized-link",display:o.nl.Flex,alignItems:o.k2.Center,padding:{top:2,bottom:1},children:(0,a.jsx)(Pa.Cb,{linkTo:(0,Ds.V)({content:"offline_embed_full_schedule",medium:"embed"},(0,er.VV)("/".concat(b,"/schedule"))),targetBlank:!0,variant:Pa.KD.Inherit,hoverColorInherit:!0,underline:!1,children:(0,a.jsx)(On.N,{type:At.M2.H5,bold:!0,children:(0,c.hw)("Full Schedule","OfflineEmbedsOverlay")})})})]}),D&&D.map((function(e){var n,t,i,s,l,d,u,c;return(0,a.jsx)(r.P,{className:"offline-embeds--schedule-segment",display:o.nl.Flex,flexDirection:o.bo.Column,justifyContent:o.A9.Center,margin:{x:.5,bottom:1},style:(null===(n=null==A?void 0:A.user)||void 0===n?void 0:n.primaryColorHex)?{"border-left":"0.5rem solid ".concat((0,ws.ZA)(null===(t=null==A?void 0:A.user)||void 0===t?void 0:t.primaryColorHex))}:void 0,fullWidth:!0,children:(0,a.jsx)(Ms,{channelID:w,channelLogin:b,displayName:null!==(s=null===(i=null==A?void 0:A.user)||void 0===i?void 0:i.displayName)&&void 0!==s?s:b,endAt:e.node.endAt||void 0,gameName:null===(d=null===(l=e.node.categories)||void 0===l?void 0:l[0])||void 0===d?void 0:d.name,hasReminder:e.node.hasReminder,id:e.node.id,previewImageURL:(null===(c=null===(u=e.node.categories)||void 0===u?void 0:u[0])||void 0===c?void 0:c.boxArtURL)||void 0,startAt:new Date(e.node.startAt),title:e.node.title},e.node.id)},e.node.id)}))]})}),R&&(0,a.jsx)(r.P,{display:o.nl.Flex,fullWidth:!0,margin:{bottom:3,x:1},children:(0,a.jsx)("div",{style:{width:"37rem",marginInlineStart:"-3rem",marginTop:"6rem"},children:(0,a.jsx)(Es.Z,{image:(0,a.jsx)(Pa.Cb,{linkTo:(0,Ds.V)({content:"embed_vod",medium:"embed"},(0,er.VV)("/videos/".concat(null==I?void 0:I.id))),targetBlank:!0,underline:!1,children:(0,a.jsx)(As.G,{bottomLeft:null!==(y=null==I?void 0:I.title)&&void 0!==y?y:"",cover:(0,a.jsx)(r.P,{background:o.VS.Overlay,fullWidth:!0,fullHeight:!0,display:o.nl.Flex,flexDirection:o.bo.Column,justifyContent:o.A9.Center,alignItems:o.k2.Center,children:(0,a.jsx)(Ns.Z,{size:44})}),image:L?(0,a.jsx)(ri.L,{src:(null==I?void 0:I.previewThumbnailURL)||"",alt:(null==I?void 0:I.title)||""}):(0,a.jsx)(_o.Or,{height:56,width:100})})})})})})]})]})}function Vs(e){switch(e){case 2:return"6%";case 1:return"-9%";default:return"0%"}}var js=(0,It.o1)()((function(e){var n=function(e){var n;n=e.width<=580?2:e.width<=760?3:6,e.videos.length<n&&(n=e.videos.length);var t=e.width<=580?6:4;n<12/t&&(t=12/n);var i=e.width<=500||e.width>500&&e.width<970&&1===n;return{visibleVideos:e.videos.slice(0,n),isHorizontalLayout:i,numberOfCards:n,numberOfColumns:t}}(e),t=n.visibleVideos,i=n.numberOfCards,s=n.numberOfColumns,l=n.isHorizontalLayout,d=function(e,n){return(0,a.jsxs)(a.Fragment,{children:[e&&(0,a.jsx)(On.N,{fontSize:o.Z4.Size6,ellipsis:!0,bold:!0,color:o.Q1.OverlayAlt,children:e}),n&&(0,a.jsx)(On.N,{fontSize:o.Z4.Size6,ellipsis:!0,color:o.Q1.OverlayAlt,children:n})]})};return(0,a.jsx)(Rn.FT,{transparency:Rn.xL.Transparency1,type:Rn.NL.Fullscreen,children:(0,a.jsxs)(r.P,{className:"other-vods__container",margin:{top:2,left:2,right:2},position:o.yX.Absolute,display:o.nl.Flex,flexDirection:o.bo.Column,attachTop:!0,attachLeft:!0,attachBottom:!0,attachRight:!0,children:[(0,a.jsxs)(r.P,{display:o.nl.Flex,justifyContent:o.A9.Center,children:[(0,a.jsx)(On.N,{type:e.width>500?At.M2.H4:At.M2.H5,color:o.Q1.Overlay,children:e.title}),(0,a.jsx)(r.P,{attachRight:!0,position:o.yX.Absolute,children:(0,a.jsx)(Cn.a2,{"aria-label":(0,c.hw)("Close videos list","OtherVods"),icon:bn.g,overlay:!0,onClick:e.onClose})})]}),(0,a.jsx)(r.P,{className:"other-vods__grid-container",margin:{left:"auto",right:"auto",top:l?0:e.width<=970?1:3},flexGrow:1,children:(0,a.jsx)(Xt.x,{fullHeight:!0,alignItems:12/s<i?o.k2.Start:o.k2.Center,children:t.map((function(n){var t,i;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Qt.VP,{cols:l?4:s,children:(0,a.jsx)(li,{video:n,content:{type:K.FC.VOD,vodID:n.id},onSelect:function(){return e.onSelect(n)},info:!l&&d(n.title,null===(t=n.game)||void 0===t?void 0:t.name),marginBottom:0})},n.id),l&&(0,a.jsx)(Qt.VP,{cols:8,children:d(n.title,null===(i=n.game)||void 0===i?void 0:i.name)})]})}))})})]})})})),Bs=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.video,t=e.onClose;return(0,a.jsx)(_n.S,{fullWidth:!0,fullHeight:!0,position:o.yX.Absolute,attachTop:!0,children:(0,a.jsx)(Mt.e,{alwaysRenderChild:!0,transitionInitialMount:!0,show:!0,type:Lt.ES.SlideOverRight,duration:Lt.Cf.Long,children:(0,a.jsxs)(Rn.FT,{type:Rn.NL.Sidebar,transparency:Rn.xL.Transparency3,children:[(0,a.jsxs)(r.P,{display:o.nl.Flex,margin:{bottom:1},children:[(0,a.jsx)(_n.S,{flexGrow:1,children:(0,a.jsx)(On.N,{bold:!0,type:At.M2.H4,color:o.Q1.Overlay,children:(0,c.hw)("Most Recent Video","OfflineRecommendations")})}),(0,a.jsx)(Cn.a2,{"aria-label":(0,c.hw)('Close "most recent video" recommendation',"OfflineRecommendations"),icon:bn.g,overlay:!0,onClick:t})]}),(0,a.jsx)(li,{video:n,content:{type:K.FC.VOD,vodID:n.id},onSelect:function(){},info:(0,a.jsx)(On.N,{fontSize:o.Z4.Size5,ellipsis:!0,children:n.title})})]})})})},n}(d.Component),Us=(0,It.o1)()(Bs),Gs=t(998180),zs=t.n(Gs),qs=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={pinnedVod:!0,otherVods:!0,width:0,height:0},n.onResize=function(e,t){n.setState((function(i){return{width:e,height:t,pinnedVod:!n.isValidSize()||i.pinnedVod,otherVods:!n.isValidSize()||i.otherVods}}))},n.handleClosePinnedVod=function(){n.setState({pinnedVod:!1})},n.handleCloseOtherVods=function(){n.setState({otherVods:!1})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsxs)(a.Fragment,{children:[(this.state.pinnedVod||this.state.otherVods)&&(0,a.jsx)(ct.$,{onResize:this.onResize}),this.showPinnedVod()&&(0,a.jsx)(Us,{video:this.videos()[0],onClose:this.handleClosePinnedVod}),this.showOtherVods()&&(0,a.jsx)(js,{videos:this.videos(),onClose:this.handleCloseOtherVods,title:(0,c.hw)("Watch Now","OfflineRecommendations"),width:this.state.width})]})},n.prototype.componentDidUpdate=function(){this.props.setRecommendationsShowing(this.showOtherVods()||this.showPinnedVod())},n.prototype.componentWillUnmount=function(){this.props.setRecommendationsShowing(!1)},n.prototype.showPinnedVod=function(){return this.isValidSize()&&this.hasVods()&&this.state.pinnedVod},n.prototype.showOtherVods=function(){return this.isValidSize()&&this.hasVods()&&!this.showPinnedVod()&&this.state.otherVods},n.prototype.hasVods=function(){return this.videos().length>1},n.prototype.notNull=function(e){return null!==e},n.prototype.videos=function(){var e=this.props.data&&this.props.data.user&&this.props.data.user.videos&&this.props.data.user.videos.edges&&this.props.data.user.videos.edges.map((function(e){return e&&e.node})).filter(this.notNull);return e||[]},n.prototype.isValidSize=function(){return this.state.height>300&&this.state.width>560},n}(d.Component),Hs=(0,z._v)(zs(),{skip:function(e){return e.contentType!==K.FC.Live||!e.login},options:function(e){var n;return{variables:{login:null!==(n=e.login)&&void 0!==n?n:""}}}})(qs);var Ws=function(e){function n(n){var t=e.call(this,n)||this;return t.props.hasPlayed?t.state={deferRender:!0}:t.state={deferRender:!1},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){var e=this;if(this.props.hasPlayed){var n=Math.floor(5e3*Math.random())+1;setTimeout((function(){e.setState({deferRender:!1})}),n)}},n.prototype.render=function(){return this.state.deferRender?null:(0,a.jsx)(Hs,(0,i.__assign)({},this.props))},n}(d.Component),Ks=(0,g.Zz)((0,tn.X)({name:"OfflineRecommendationsOverlay"}),(0,x.cj)((function(e){var n=e.content;return{contentType:n.type,login:(0,V.jp)(n)}})),(0,De.c0)((function(e){return{setRecommendationsShowing:e.setRecommendationsShowing}})),(0,P.dd)((function(e){return{hasPlayed:e.hasPlayed}})),(0,It.o1)())(Ws),Zs=t(973373),Xs=t(656910),Qs=t(51285),Ys=t(372442),$s=t(983943),Js=t.n($s),el="https://static-cdn.jtvnw.net/ttv-static/404_boxart-285x380.jpg";function nl(e){var n=e.node;return n&&n.moments&&n.moments.edges&&n.moments.edges}function tl(e){return e.description||""}function il(e){var n=nl(e);return n&&n.length||0}function al(e,n,t){if(e.type===ie.cD1.GAME_CHANGE){var i=e.durationMilliseconds/1e3,a=e.positionMilliseconds/1e3;if(0===i)return"";if(n){var r=Math.round(a+i-t),o=(0,Ea.a3)(r);return(0,c.hw)("{time} left",{time:o},"ChapterSelectButton")}return(0,Ea.a3)(i)}return e.subDescription||""}function rl(e){return e.thumbnailURL?e.thumbnailURL:e.details.game&&e.details.game&&e.details.game.boxArtURL?e.details.game.boxArtURL:el}var ol="chapter-select-popover",sl=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={currentTime:0,open:!1,submenu:null,submenuTitle:null,playerHeight:(0,mt.P)(n.props.videoContainer).height},n.toggleMenu=function(){n.setState((function(e){return{open:!e.open}}))},n.closeMenu=function(){n.setState({open:!1,submenu:null,submenuTitle:null})},n.closeSubmenu=function(){n.setState({submenu:null,submenuTitle:null})},n.selectChapter=function(e){var t=n.edges();if(t){var i=t[e],a=nl(i);a&&a.length?n.setState({submenu:a,submenuTitle:tl(i.node)}):(n.props.seek(i.node.positionMilliseconds/1e3),n.closeMenu())}},n.setCurrentTime=function(e){n.setState({currentTime:e})},n.recalculatePlayerHeight=function(){n.setState({playerHeight:(0,mt.P)(n.props.videoContainer).height})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.edges();return e?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ct.$,{onResize:this.recalculatePlayerHeight}),(0,a.jsxs)(Vi.V,{onClickOut:this.closeMenu,children:[this.renderBalloon(e),(0,a.jsx)(Ys.g,{buttonIcon:dn.t.ViewerList,label:(0,c.hw)("Chapter Select","VideoPlayerChapterSelectButton>"),onClick:this.toggleMenu,tooltipPlacement:"top-end",disabled:this.props.error})]})]}):null},n.prototype.edges=function(){var e,n=this.state.submenu||(e=this.props.data)&&e.video&&e.video.moments&&e.video.moments.edges;return n&&n.length?n:null},n.prototype.renderBalloon=function(e){var n=this,t=l()("chapter-select-button__chapters"),s=e.map((function(t,a){return(0,d.createElement)(Qs.$,(0,i.__assign)({},function(e,n,t){var i=function(e,n,t){return e.node&&n&&n.node?t>=e.node.positionMilliseconds/1e3&&t<n.node.positionMilliseconds/1e3:!!e.node&&t>=e.node.positionMilliseconds/1e3}(e,n,t);return{active:i,count:il(e),description:al(e.node,i,t),imageURL:rl(e.node),text:tl(e.node)}}(t,e[a+1],n.state.currentTime),{index:a,key:(r=t.node,r.positionMilliseconds/1e3),onClick:n.selectChapter}));var r}));return(0,a.jsx)(Sn.e,{theme:"dark",children:(0,a.jsx)(r.P,{className:t,position:o.yX.Absolute,children:(0,a.jsxs)(Mr.A,{direction:Nr.j.TopLeft,maxHeight:"calc(".concat(this.state.playerHeight,"px - 10rem)"),offsetY:"5rem",popoverId:ol,size:Ar.$V.Medium,show:this.state.open,children:[this.renderBalloonHeader(),(0,a.jsx)(Tn.Vq,{children:(0,a.jsxs)(Zs.e,{popoverId:ol,children:[(0,a.jsx)(Pe.j,{onTimeChanged:this.setCurrentTime}),s]})})]})})})},n.prototype.renderBalloonHeader=function(){if(!this.state.submenu||!this.state.submenuTitle)return null;var e=(0,c.hw)("Back","ChapterSelectButton");return(0,a.jsx)(Xs.D,{popoverId:ol,title:this.state.submenuTitle,buttonLeftPrimary:{"aria-label":e,icon:dn.t.GlyphArrLeft,onClick:this.closeSubmenu,title:e},buttonRightPrimary:{onClick:this.closeMenu,"aria-label":(0,c.hw)("Close","ChapterSelectButton")}})},n}(d.Component);var ll=(0,g.Zz)((0,De.c0)((function(e){var n=e.videoContainer;return{videoContainer:n}})),(0,P.dd)((function(e){var n=e.error;return{error:!!n}})),(0,x.cj)((function(e){return{vodID:(0,V.hq)(e.content),content:e.content,includePrivateVODs:(0,T.wk)({playerPublicPropsContext:e}).includePrivateVODs||!1}})),(0,It.o1)(),(0,z._v)(Js(),{skip:function(e){return!e.vodID},options:function(e){return{variables:{videoID:e.vodID,includePrivate:e.includePrivateVODs||!1}}}}),(0,E.AP)((function(e){var n=e.seek;return{seek:n}})))(sl);var dl=t(106462),ul=t(552400),cl=function(e){switch(e){case"connected":return dl.W.Connected;case"connecting":return dl.W.Connecting;default:return dl.W.Available}},pl=Object.freeze(["unavailable","available","connecting","connected"]);var ml=(0,g.Zz)((0,Nt.vM)((function(e){return{castingState:e.castingState,startCast:e.startCast,stopCast:e.stopCast}})),(0,x.cj)((function(e){return{disableCasting:!!(0,T.wk)({playerPublicPropsContext:e}).disableCasting}})))((function(e){var n,t=e.castingState,i=e.disableCasting,r=e.startCast,o=e.stopCast;if(i||"unavailable"===t||!pl.includes(t))return null;var s="";return"available"===t?(n=r,s=(0,c.hw)("Start Casting","ChromeCastButton")):"connected"===t||"connecting"===t?(n=o,s=(0,c.hw)("Stop Casting","ChromeCastButton")):n=function(){},(0,a.jsx)(ul.m,{label:s,options:{placement:"top-end"},children:(0,a.jsx)(dl.G,{"aria-label":s,onClick:n,status:cl(t),overlay:!0})})})),vl=t(724422),fl=t(992216),gl=t(912141),hl=t(261868),yl=function(e){var n=e.playerEvents,t=(0,d.useContext)(E.wL).isPlaying,i=(0,d.useContext)(P.$g).mediaPlayerInstance,a=(0,d.useState)(0),r=a[0],o=a[1];(0,d.useEffect)((function(){var e;t&&r<=0&&o(null!==(e=null==i?void 0:i.getDuration())&&void 0!==e?e:0)}),[t,r,i]);var s=(0,d.useCallback)((function(e){e>0&&o(e)}),[]);return(0,d.useEffect)((function(){return n.addEventListener(L.a.DURATION_CHANGED,s),function(){n.removeEventListener(L.a.DURATION_CHANGED,s)}}),[s,n]),r},kl=t(608135),Sl=t(411869),_l=(0,g.Zz)((0,P.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,b.X)())((function(e){var n=function(e){var n=yl(e),t=(0,d.useState)(0),i=t[0],a=t[1],r=(0,d.useState)(!1),o=r[0],s=r[1],l=(0,d.useCallback)((function(e){a(e)}),[]),u=(0,d.useCallback)((function(e){a(e)}),[]),c=(0,d.useCallback)((function(e){s(e)}),[]),p=(0,d.useCallback)((function(n){var t;null===(t=e.mediaPlayerInstance)||void 0===t||t.seekTo(n)}),[e.mediaPlayerInstance]);return{clipLength:n,thumbLocation:Math.min(Math.max(i,e.startOffset),e.endOffset),handleThumbLocationChanged:p,isHovering:o,handleMouseOverChange:c,handleSeekComplete:l,handleTimeChanged:u}}(e),t=n.clipLength,i=n.thumbLocation,o=n.handleThumbLocationChanged,s=n.isHovering,l=n.handleMouseOverChange,u=n.handleSeekComplete,c=n.handleTimeChanged,p=[{type:Sl.b.Fixed,id:"selected-segment",start:e.startOffset,end:e.endOffset,color:vl.K["color-yellow"]}];return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Pe.j,{onTimeChanged:c}),(0,a.jsx)(fl.Nb,{onSeekComplete:u}),(0,a.jsxs)(r.P,{display:"flex",flexDirection:"column",alignItems:"stretch",children:[(0,a.jsx)(hl.l,{currentTimeInSeconds:i,durationInSeconds:t,show:s}),(0,a.jsx)(gl.e,{currentTimeInSeconds:i,durationInSeconds:t}),(0,a.jsx)(kl.y,{seekbarMin:0,seekbarMax:t,thumbLocation:i,segments:p,onThumbLocationChange:o,minAllowedThumbLocation:e.startOffset,maxAllowedThumbLocation:e.endOffset,alwaysShowThumb:!0,onMouseOverChange:l})]})]})}));var Cl=t(776905),bl=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={thumbLocation:0},n.handleTimeChanged=function(e){n.setState({thumbLocation:e})},n.handleSeekComplete=function(e){n.setState({thumbLocation:e})},n.handleThumbLocationChanged=function(e){var t=n.props.mediaPlayerInstance;t&&t.seekTo(e+n.props.startOffset)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.startOffset,t=e.endOffset,i=Math.min(Math.max(this.state.thumbLocation,n),t);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Pe.j,{onTimeChanged:this.handleTimeChanged}),(0,a.jsx)(fl.Nb,{onSeekComplete:this.handleSeekComplete}),(0,a.jsx)(Cl.P,{onThumbLocationChanged:this.handleThumbLocationChanged,thumbLocation:i-n,clipLength:t-n})]})},n}(d.Component),Pl=(0,g.Zz)((0,P.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,b.X)())(bl);var xl=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={thumbLocation:0},n.handleTimeChanged=function(e){n.setState({thumbLocation:e})},n.handleThumbLocationChanged=function(e){var t=n.props.mediaPlayerInstance;t&&t.seekTo(e),n.setState({thumbLocation:e})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.clipLength,n=this.state.thumbLocation;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Pe.j,{onTimeChanged:this.handleTimeChanged}),(0,a.jsx)(Cl.P,{onThumbLocationChanged:this.handleThumbLocationChanged,thumbLocation:n,clipLength:e})]})},n}(d.Component),El=(0,P.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}}))(xl);var Al=(0,g.Zz)((0,x.cj)((function(e){var n=(0,T.Rh)({playerPublicPropsContext:e});return{clipContent:(0,V.Jn)(n)?n:null}})),(0,b.X)())((function(e){var n=function(e){var n=yl(e),t=e.clipContent&&(0,V.N1)(e.clipContent);return{editingSegment:null==t?void 0:t[0],isPostEdit:!(!e.clipContent||!(0,V.J8)(e.clipContent)),clipLength:n}}(e),t=n.editingSegment,r=n.isPostEdit,o=n.clipLength;return e.clipContent?t?r?(0,a.jsx)(Pl,(0,i.__assign)({},t)):(0,a.jsx)(_l,(0,i.__assign)({},t)):o?(0,a.jsx)(El,{clipLength:o}):null:null}));var Nl=t(763932),wl=t(55195),Tl=(0,g.Zz)((0,De.c0)((function(e){var n=e.toggleClipSharing;return{toggleClipSharing:n}})),(0,x.cj)((function(e){return{isClipEmbed:(0,wl.O)(e)===Nl.C.ClipsEmbed}})))((function(e){var n=e.isClipEmbed,t=e.toggleClipSharing;return n?(0,a.jsx)(Ys.g,{onClick:t,buttonIcon:dn.t.Share,tooltipPlacement:"top-end",label:(0,c.hw)("Share","ClipShareButton")}):null}));var Il=t(312524),Dl=t(337930),Ol=t(235366),Fl=t(158508),Rl=t(551283),Ml=t(726174),Ll=t.n(Ml),Vl=t(609099),jl=t.n(Vl),Bl=t(480455);function Ul(e){return!e||!c.Zn.get("highwind_no_clips_channels",[]).includes(e)}function Gl(e){var n=e.isOffline,t=e.content,i=Zl(e),a=(0,V.hq)(t),r=!!i;return!(r&&n||!!!a&&!r)}function zl(e){return e.isLoggedIn&&!e.disableClipping&&(function(e){var n=e.channel_data;if(void 0===n||n.loading||!n.userByAttribute||!n.userByAttribute.stream)return!1;var t=n.userByAttribute.stream,i=t.id,a=t.isEncrypted,r=Boolean(i),o=Zl(e);return r&&Ul(o)&&!a}(e)||function(e){return!!(0,V.hq)(e.content)&&Ul(Zl(e))}(e))&&function(e){var n=e.content,t=e.isPlaying,i=e.hasPlayed,a=(0,V.DG)(n)&&!t;return i&&!a}(e)&&Gl(e)&&function(e){return!e.isVideoAdShowing}(e)&&Gl(e)}var ql=v.x.wrap((function(){return Promise.all([t.e(16399),t.e(83917),t.e(47629),t.e(82571),t.e(11679),t.e(20362)]).then(t.bind(t,183191))}),"ClipEditorPopupPortal"),Hl="alt+x";var Wl=(0,z._v)(jl(),{options:function(e){return{variables:{input:{login:Zl(e),ownsVideoID:(0,V.hq)(e.content)}}}},skip:function(e){return!e.isLoggedIn||!Zl(e)&&!(0,V.hq)(e.content)},name:"channel_data"}),Kl=(0,z._v)(Ll(),{options:function(e){var n,t;return{variables:{broadcasterID:(0,V.hq)(e.content)?null:null===(t=null===(n=e.channel_data)||void 0===n?void 0:n.userByAttribute)||void 0===t?void 0:t.id,vodID:(0,V.hq)(e.content)}}},skip:function(e){var n,t;return!e.isLoggedIn||!(null===(t=null===(n=e.channel_data)||void 0===n?void 0:n.userByAttribute)||void 0===t?void 0:t.id)&&!(0,V.hq)(e.content)||!(0,Dl.fX)("can_create_clip_darklaunch")||!zl(e)},name:"clip_creation_perms"});function Zl(e){var n=e.content;return(0,V.DG)(n)?n.channelLogin:null}var Xl=(0,g.Zz)((0,u.Ng)((function(e){return{isLoggedIn:(0,pn.M3)(e)}})),(0,P.dd)((function(e){var n=e.mediaPlayerInstance,t=e.hasPlayed,i=e.isOffline;return{mediaPlayerInstance:n,hasPlayed:t,isOffline:i}})),(0,x.cj)((function(e){return{content:e.content,disableClipping:(0,T.wk)({playerPublicPropsContext:e}).disableClipping}})),(0,E.AP)((function(e){var n=e.isPlaying;return{isPlaying:n}})),(0,k.VX)((function(e){return{isVideoAdShowing:(0,S.cz)(e.videoAdMetadata)}})),Wl,Kl,(0,It.o1)())((function(e){var n,t,i,o,s,l,p,m,v,f,g,h,y,k,S=null===(n=e.clip_creation_perms)||void 0===n?void 0:n.canCreateClip,_=d.useState(0),C=_[0],b=_[1],P=(0,Fl.Q)().track,x=(0,u.d4)(pn.wz),E=(0,Dl.fX)("lychee-durian-cherry"),A=d.useState(!1),N=A[0],w=A[1],T=(null==x?void 0:x.id)===(null===(i=null===(t=e.channel_data)||void 0===t?void 0:t.userByAttribute)||void 0===i?void 0:i.id),I=function(e){var n=e.streamOffset;b(n)},D=function(){if(!S||S.isAllowed)return!0;return T?(0,Ol.L$)(S.errorCode):(0,Ol.p6)(S.errorCode)}(),O=(0,Il.d)(null)===Il.E.XS,F=!(null==S?void 0:S.isAllowed),R=(0,Ol.Cv)(null==S?void 0:S.errorCode,null==S?void 0:S.requiredFollowingLengthMinutes);(0,Bl.W)(null==x?void 0:x.id,null===(s=null===(o=e.channel_data)||void 0===o?void 0:o.userByAttribute)||void 0===s?void 0:s.id,(function(){var n;null===(n=e.clip_creation_perms)||void 0===n||n.refetch()}));var M=(null===(m=null===(p=null===(l=e.channel_data)||void 0===l?void 0:l.userByAttribute)||void 0===p?void 0:p.stream)||void 0===m?void 0:m.id)||null,j=(null===(f=null===(v=e.channel_data)||void 0===v?void 0:v.userByAttribute)||void 0===f?void 0:f.id)||null,B=null!==(y=null===(h=null===(g=e.channel_data)||void 0===g?void 0:g.userByAttribute)||void 0===h?void 0:h.login)&&void 0!==y?y:"",U=(0,V.hq)(e.content)||void 0,G=e.mediaPlayerInstance,z=e.content.type===K.FC.Live?C:null!==(k=null==G?void 0:G.getPosition())&&void 0!==k?k:0,q=function(){E?w(!0):void 0!==G&&j&&((0,Ol.NC)({broadcastID:null!=M?M:void 0,broadcasterLogin:B,offsetSeconds:Math.floor(z),vodID:U}),P({action:Rl.U.CreateClip,broadcastID:M,channelID:j,vodID:U,rawMediaID:""}),e.track("player_click_clip"))};return d.useEffect((function(){var n;if(!S||S.isAllowed)return Te().bind(Hl,q),null===(n=e.mediaPlayerInstance)||void 0===n||n.addEventListener(L.a.SEGMENT_METADATA,I),function(){var n;Te().unbind(Hl),null===(n=e.mediaPlayerInstance)||void 0===n||n.removeEventListener(L.a.SEGMENT_METADATA,I)}})),(0,a.jsxs)(a.Fragment,{children:[N&&(0,a.jsx)(ql,{onClose:function(){return w(!1)},broadcastID:M,offsetSeconds:Math.floor(z),vodID:null!=U?U:null}),zl(e)&&D&&(0,a.jsx)(ul.m,{label:R,options:{placement:"top"},children:(0,a.jsx)(r.P,{margin:{x:.5},style:{opacity:F?.5:1},children:(0,a.jsx)(Wn.$n,{variant:Wn.VQ.Secondary,icon:ii.y,onClick:F?function(){}:q,"aria-disabled":F,"aria-label":R,overlay:!0,children:!O&&(0,c.hw)("Clip","ClipsButtonComponent")})})})]})}));var Ql=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onClick=function(){var e=n.props,t=e.captionsEnabled;(0,e.setClosedCaptionsEnabled)(!t)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){Te().bind("c",this.onClick)},n.prototype.componentWillUnmount=function(){Te().unbind("c")},n.prototype.render=function(){return this.props.captionsAvailable?(0,a.jsx)(Ys.g,{tooltipPlacement:"top-end",label:(0,c.hw)("Captions (c)","ClosedCaptionsButtonComponent"),buttonIcon:this.props.captionsEnabled?dn.t.CC:dn.t.CCOff,onClick:this.onClick}):null},n}(d.Component),Yl=(0,g.Zz)((0,De.c0)((function(e){var n=e.captions,t=e.setClosedCaptionsEnabled;return{captionsAvailable:n.available,captionsEnabled:n.enabled,setClosedCaptionsEnabled:t}})),(0,It.o1)())(Ql);var $l=t(735665),Jl=t(961183),ed=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderExtensionMenuSections=function(){var e=n.props,t=e.installations,i=e.isOverlayVisible,s=e.toggleOverlayVisibility;return t.map((function(e,l){return(0,a.jsxs)("div",{children:[(0,a.jsxs)(r.P,{display:o.nl.Flex,padding:{x:.5},margin:{y:.5},children:[(0,a.jsx)(r.P,{display:o.nl.Flex,flexGrow:1,children:(0,a.jsx)(On.N,{color:o.Q1.Overlay,fontSize:o.Z4.Size6,transform:At.Ms.Uppercase,bold:!0,children:e.extension.name})}),(0,a.jsx)(r.P,{display:o.nl.Flex,alignItems:o.k2.Center,margin:{left:2},flexShrink:0,attachRight:!0,children:(0,a.jsx)(ri.L,{className:"extensions-settings-menu__icon",src:e.extension.iconUrls.square24||e.extension.iconUrls.square100,alt:e.extension.name})})]}),(0,a.jsx)(Jr.i,{label:(0,c.hw)("Learn More","ExtensionSettingsMenuMainComponent"),linkTo:(0,Or.lK)(e),targetBlank:!0}),e.activationConfig.anchor===_r.Z1.Overlay&&(0,a.jsx)(Qr.G,{type:Qr.M.Toggle,label:(0,c.hw)("Visible","ExtensionSettingsMenuMainComponent"),checked:i,onChange:s}),n.renderManageAccessOption(e),n.props.channelID&&(0,a.jsx)(uo.Z,{hideIcon:!0,channelID:n.props.channelID,channelLogin:"",reportContext:{contentType:ie.Cah.EXTENSION_REPORT,contentID:(0,Or.wv)(e),trackingContext:"extension_settings"},onClick:function(){return n.props.setMenuState({type:Dr.gu.NONE},e)},onModalClose:function(){n.props.setMenuState({type:Dr.gu.NONE},e)}}),l!==t.length-1&&(0,a.jsx)(Xr.m,{})]},e.extension.id)}))},n.renderManageAccessOption=function(e){var t=n.props,i=t.loginID,r=t.permissionsStates,o=e&&e.extension.requestIdentityLink,s=(0,Or.YU)(e,r).identityLinkedStatus===Dr.Gy.LINKED;return!(0,Or.p$)(e)&&!!i&&(o||s)?(0,a.jsx)(Jr.i,{label:(0,c.hw)("Manage Access","ExtensionSettingsMenuMainComponent"),onClick:n.openInstallationManageAccessMenu(e)}):null},n.openInstallationManageAccessMenu=function(e){return function(){n.props.setMenuState({type:Dr.gu.MANAGE_ACCESS},e)}},n.closeMenu=function(){(0,n.props.setMenuState)({type:Dr.gu.NONE})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsxs)(r.P,{children:[(0,a.jsx)(Jr.i,{label:(0,c.hw)("Close","ExtensionSettingsMenuMainComponent"),figure:{icon:dn.t.Close},onClick:this.closeMenu}),(0,a.jsx)(Xr.m,{}),this.renderExtensionMenuSections()]})},n}(d.Component),nd=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleToggleAccess=function(){var e=n.props,t=e.toggleAccess,i=e.installation;i&&t(i)},n.handleCancel=function(){var e=n.props,t=e.installation,i=e.setMenuState;t&&i({type:Dr.gu.NONE},t)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.installation,t=e.permissionsStates;if(!n)return null;var i=(0,Or.YU)(n,t),s=i.identityLinkedStatus===Dr.Gy.LINKED||i.identityLinkedStatus===Dr.Gy.LINK_REQUESTED,l=i.identityLinkedStatus===Dr.Gy.LINK_REQUESTED||i.identityLinkedStatus===Dr.Gy.UNLINK_REQUESTED;return(0,a.jsxs)(r.P,{padding:{x:.5},margin:{y:.5},children:[(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(On.N,{children:(0,c.hw)("You are granting this Developer access to your Twitch user ID.","ExtensionsMenuManageAccess")})}),(0,a.jsx)(r.P,{margin:{bottom:1},children:(0,a.jsx)(On.N,{children:(0,c.hw)("Allow this extension to know your user ID on Twitch.","ExtensionsMenuManageAccess")})}),(0,a.jsx)(r.P,{margin:{y:1},children:(0,a.jsx)(Jr.i,{label:(0,c.hw)("Manage Permissions","ExtensionsMenuManageAccess"),figure:{icon:dn.t.PermissionsRemove},linkTo:"https://www.twitch.tv/settings/connections",targetBlank:!0})}),(0,a.jsxs)(r.P,{fullWidth:!0,display:o.nl.Flex,flexDirection:o.bo.Row,flexWrap:o.I4.WrapReverse,justifyContent:o.A9.End,margin:{top:1},children:[(0,a.jsx)(r.P,{flexGrow:1,margin:{bottom:1,x:.5},children:(0,a.jsx)(Wn.$n,{fullWidth:!0,size:Wn.Mp.Small,variant:Wn.VQ.Secondary,onClick:this.handleCancel,children:(0,c.hw)("Cancel","ExtensionsMenuManageAccess")})}),(0,a.jsx)(r.P,{flexGrow:1,children:(0,a.jsx)(Wn.$n,{fullWidth:!0,size:Wn.Mp.Small,variant:Wn.VQ.Primary,onClick:this.handleToggleAccess,disabled:l,children:s?(0,c.hw)("Revoke","ExtensionsMenuManageAccess"):(0,c.hw)("Grant","ExtensionsMenuManageAccess")})})]})]})},n}(d.Component),td=function(e){function n(n){var t=e.call(this,n)||this;return t.renderActiveMenu=function(){var e=t.props,n=e.channelID,i=e.loginID,r=e.allVideoExtensions,o=e.isOverlayVisible,s=e.permissionsStates,l=t.selectedInstallation;switch(t.props.playerMenuState.type){case Dr.gu.SETTINGS:return(0,a.jsx)(ed,{channelID:n,loginID:i,installations:r,isOverlayVisible:o,toggleOverlayVisibility:t.toggleOverlayVisibility,permissionsStates:s,setMenuState:t.setMenuState});case Dr.gu.MANAGE_ACCESS:return l?(0,a.jsx)(nd,{permissionsStates:s,installation:l,maxMenuHeight:t.state.maxMenuHeight,toggleAccess:t.toggleAccess,setMenuState:t.setMenuState}):null;case Dr.gu.NONE:default:return null}},t.handleClick=function(){t.isMenuOpen?t.closeSettingsMenu():t.openSettingsMenu()},t.openSettingsMenu=function(){t.props.setPlayerMenuState(Dr.gu.SETTINGS)},t.closeSettingsMenu=function(){t.props.setPlayerMenuState(Dr.gu.NONE)},t.getMaxMenuHeight=function(){var e=(0,mt.P)(t.props.videoContainer).height;return e?.8*e:void 0},t.handleResize=function(){var e=t.getMaxMenuHeight();e&&t.setState({maxMenuHeight:e})},t.toggleOverlayVisibility=function(){t.props.setOverlayVisibility(!t.props.isOverlayVisible)},t.setMenuState=function(e,n){t.props.setPlayerMenuState(e.type,n)},t.toggleAccess=function(e){var n=t.props,i=n.setPermissionsState,a=n.trackExtensionEvent,r=n.permissionsStates,o=(0,Or.YU)(e,r),s=o.identityLinkedStatus,l=o.linkIdentity,d=o.unlinkIdentity,u=s===Dr.Gy.UNLINKED?Dr.Gy.LINK_REQUESTED:Dr.Gy.UNLINK_REQUESTED;i(e,{identityLinkedStatus:u}),u===Dr.Gy.LINK_REQUESTED&&l&&l(),u===Dr.Gy.UNLINK_REQUESTED&&d&&d(),a(yr.X2.MenuOptionClick,u===Dr.Gy.UNLINK_REQUESTED?yr.iN.Revoke:yr.iN.Grant,yr.si.ExtensionDockMenuOptionClick,e),t.setMenuState({type:Dr.gu.NONE},e)},t.state={maxMenuHeight:t.getMaxMenuHeight()},t}return(0,i.__extends)(n,e),Object.defineProperty(n.prototype,"isMenuOpen",{get:function(){return this.props.playerMenuState.type!==Dr.gu.NONE},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"selectedInstallation",{get:function(){var e=this;return this.props.allVideoExtensions.find((function(n){return(0,Or.wv)(n)===e.props.playerMenuState.selectedInstallationID}))},enumerable:!1,configurable:!0}),n.prototype.render=function(){if(!this.props.enableExtensions||!this.props.allVideoExtensions.length)return null;var e=(0,$l.Ty)(),n=l()("settings-menu-button-component",{"settings-menu-button-component--forced-dark-theme":e}),t=(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(Vi.V,{onClickOut:this.closeSettingsMenu,children:[(0,a.jsx)(r.P,{className:n,children:(0,a.jsx)(Jl.x,{direction:Nr.j.TopRight,show:this.isMenuOpen,offsetX:"50px",size:Ar.$V.Medium,maxHeight:this.state.maxMenuHeight?"".concat(this.state.maxMenuHeight,"px"):void 0,children:this.renderActiveMenu()})}),(0,a.jsx)(Ys.g,{"data-a-target":"extensions-settings-button",tooltipPlacement:"top-end",buttonIcon:dn.t.Extensions,label:(0,c.hw)("Extension Settings","ExtensionsSettingsMenuButtonComponent"),onClick:this.handleClick})]}),this.isMenuOpen&&(0,a.jsx)(ct.$,{onResize:this.handleResize})]});return e?(0,a.jsx)(Sn.e,{theme:"dark",children:t}):t},n}(d.Component),id=(0,g.Zz)((0,hr.A3)((function(e){var n=e.loginID,t=e.channelID,i=e.overlayExtension,a=e.allVideoExtensions,r=e.setOverlayVisibility,o=e.permissionsStates,s=e.isOverlayVisible,l=e.setPermissionsState,d=e.trackEvent,u=e.setPlayerMenuState,c=e.getPlayerMenuState;return{loginID:n,channelID:t,overlayExtension:i,allVideoExtensions:a,setOverlayVisibility:r,permissionsStates:o,isOverlayVisible:s,setPermissionsState:l,playerMenuState:c(),setPlayerMenuState:u,trackExtensionEvent:d}})),(0,De.c0)((function(e){var n=e.videoContainer;return{videoContainer:n}})),(0,It.o1)(),(0,x.cj)((function(e){return{enableExtensions:(0,T.wk)({playerPublicPropsContext:e}).enableExtensions}})))(td);var ad=t(171833),rd=t(658593),od=function(e){var n=e.isFullscreen?ad.R:rd.L,t=e.isFullscreen?e.onExitFullscreen:e.onEnterFullscreen,i=e.isFullscreen?(0,c.hw)("Exit Fullscreen (f)","FullscreenButtonPresentation"):(0,c.hw)("Fullscreen (f)","FullscreenButtonPresentation");return(0,a.jsx)(Ys.g,{"data-a-target":"player-fullscreen-button",buttonIcon:n,label:i,onClick:t,disabled:!e.canFullscreen,tooltipPlacement:"top-end"})},sd=function(e){function n(n){var t=e.call(this,n)||this;return t.canFullscreen=function(){var e;if(t.props.fullscreen.supported())return!0;var n=null===(e=t.props.videoContainer)||void 0===e?void 0:e.getElementsByTagName("video"),i=n&&n[0]?n[0]:null;return t.props.fullscreen.videoSupported(i)},t.onEnterFullscreen=function(){t.props.enterFullscreen()},t.onExitFullscreen=function(){t.props.exitFullscreen()},t.onInitialized=function(){t.state.canFullscreen||t.setState({canFullscreen:t.canFullscreen()})},t.state={canFullscreen:t.canFullscreen()},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(L.a.INITIALIZED,this.onInitialized)},n.prototype.render=function(){return this.props.fullscreenDisabled?null:(0,a.jsx)(od,{canFullscreen:this.state.canFullscreen,isFullscreen:this.props.isFullscreen,onEnterFullscreen:this.onEnterFullscreen,onExitFullscreen:this.onExitFullscreen})},n}(d.Component);var ld=(0,g.Zz)((0,De.c0)((function(e){return{enterFullscreen:e.enterFullscreen,exitFullscreen:e.exitFullscreen,isFullscreen:e.isFullscreen,videoContainer:e.videoContainer}})),(0,x.cj)((function(e){return{fullscreenDisabled:(0,T.wk)({playerPublicPropsContext:e}).disableFullscreen}})),(0,b.X)(),(0,Ie.W)(),(0,It.o1)())(sd),dd=t(445373),ud=t(599534),cd=t(683692),pd=t.n(cd);var md=(0,g.Zz)((0,x.cj)((function(e){return{content:(0,T.Rh)({playerPublicPropsContext:e}),shouldEnableLiveTime:(0,T.wk)({playerPublicPropsContext:e}).enableLiveTime}})))((function(e){var n,t,i,o,s,l=e.content,d=e.shouldEnableLiveTime,u=(0,V.DG)(l)?null==l?void 0:l.channelLogin:"",p=(0,F.IT)(pd(),{variables:{login:u||""},skip:!u||!d}).data,m=(0,ud.h)(new Date(null!==(i=null===(t=null===(n=null==p?void 0:p.user)||void 0===n?void 0:n.stream)||void 0===t?void 0:t.createdAt)&&void 0!==i?i:0));return d&&(null===(s=null===(o=null==p?void 0:p.user)||void 0===o?void 0:o.stream)||void 0===s?void 0:s.createdAt)?(0,a.jsxs)(r.P,{display:"flex",alignItems:"center",gap:"0.5rem",color:"overlay",children:[(0,a.jsx)(dd.T,{}),(0,a.jsx)("span",{"aria-label":(0,c.hw)("Time Spent Live Streaming","VideoPlayerOverlayLiveTime"),children:(0,Ea.a3)(m,Ea.wg.ClockHMS)})]}):null})),vd="lowLatencyMaxSeenCount",fd="lowLatencySeenThisWeekTimestamp";function gd(){return c.IG.get(vd,0)}var hd=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.bufferEvents=[],n.lastBufferDate=null,n.state={shouldShow:!1},n.handleClose=function(){n.setState({shouldShow:!1})},n.handleBuffering=function(){n.recordBufferEvent(),n.shouldShowNotification()&&n.setState({shouldShow:!0},(function(){return c.IG.set(fd,(new Date).getTime()),void c.IG.set(vd,gd()+1)}))},n.recordBufferEvent=function(){var e=new Date;n.bufferEvents.push(e),n.bufferEvents=n.bufferEvents.filter((function(n){return n>(0,Kn.subMinutes)(e,10)})),n.bufferEvents=n.bufferEvents.slice(-3)},n.shouldShowNotification=function(){return n.props.isLive&&n.props.isLowLatencyCapable&&n.props.isLowLatencyEnabled&&!n.props.disableSettingsMenuButton&&n.bufferEvents.length>=3&&gd()<=3&&(!(e=c.IG.getOptional(fd))||(0,Kn.subDays)(new Date,7)>=new Date(e));var e},n}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){e.isPlaying&&this.props.isBuffering&&this.handleBuffering()},n.prototype.render=function(){return this.state.shouldShow?(0,a.jsxs)(r.P,{padding:1,display:o.nl.Flex,alignItems:o.k2.Start,background:o.VS.Overlay,className:"low-latency-notification",children:[(0,a.jsx)(On.N,{children:(0,c.hw)("Is video buffering? Use the Low Latency toggle under the Advanced menu in Settings to disable low latency mode","LowLatencyNotification")}),(0,a.jsx)(r.P,{flexShrink:0,children:(0,a.jsx)(Cn.a2,{"aria-label":(0,c.hw)("Close low latency reminder","LowLatencyNotification"),overlay:!0,icon:bn.g,onClick:this.handleClose,size:_i.f.Small})})]}):null},n}(d.Component);var yd=(0,g.Zz)((0,x.cj)((function(e){return{isLive:(0,V.DG)(e.content),disableSettingsMenuButton:(0,T.wk)({playerPublicPropsContext:e}).disableSettingsMenuButton}})),(0,P.dd)((function(e){return{isBuffering:(0,ye.TN)(e),isLowLatencyCapable:(0,ye.RO)(e),isLowLatencyEnabled:e.isLiveLowLatencyEnabled,isPlaying:(0,ye.F4)(e)}})))(hd),kd=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onEnterMultiview=function(){n.props.onEnterMultiview&&n.props.onEnterMultiview()},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=(0,V.lI)(this.props.content);return!e||this.props.disableMultiviewButton?null:(0,a.jsx)(Ys.g,{buttonIcon:dn.t.MultiscreenEqualThree,label:e.buttonText,onClick:this.onEnterMultiview,tooltipPlacement:"top-end"})},n}(d.Component);var Sd,_d=(0,g.Zz)((0,x.cj)((function(e){var n=(0,T.zB)({playerPublicPropsContext:e}).onEnterMultiview,t=(0,T.wk)({playerPublicPropsContext:e}).disableMultiviewButton;return{content:e.content,onEnterMultiview:n,disableMultiviewButton:t}})),(0,It.o1)())(kd),Cd=t(191132);!function(e){e[e.AwaitingReplay=0]="AwaitingReplay",e[e.Paused=1]="Paused",e[e.Playing=2]="Playing"}(Sd||(Sd={}));var bd=(0,Cd.U)({name:"VideoPlayer_PlayPauseButton",category:"broadcast"}).Available,Pd=function(e){if(e.showPlaceholder)return(0,a.jsx)(_o.Or,{width:30,height:30});var n=function(e){switch(e){case Sd.AwaitingReplay:return dn.t.VideoRerun;case Sd.Playing:return dn.t.MiniPlayerPause;case Sd.Paused:default:return dn.t.MiniPlayerPlay}}(e.buttonState),t=function(e){switch(e){case Sd.Playing:return(0,c.hw)("Pause (space/k)","PlayPauseButtonPresentation");case Sd.Paused:return(0,c.hw)("Play (space/k)","PlayPauseButtonPresentation");case Sd.AwaitingReplay:return(0,c.hw)("Replay (space/k)","PlayPauseButtonPresentation");default:return}}(e.buttonState)||"",i=e.buttonState===Sd.Playing,r=i?e.onPause:e.onPlay;return(0,a.jsx)(bd,{children:(0,a.jsx)(Ys.g,{"data-a-target":"player-play-pause-button","data-a-player-state":i?"playing":"paused",buttonIcon:n,label:t,onClick:r,tooltipPlacement:"top-start",disabled:e.disabled})})};var xd=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getButtonState=function(e){return e.isPlaying?Sd.Playing:n.shouldShowReplayButton(e)?Sd.AwaitingReplay:Sd.Paused},n.shouldShowReplayButton=function(e){return e.isClip&&!e.isPlaying&&e.isEnded&&!e.isVideoAdShowing},n.play=function(){n.props.play({userTriggered:!0})},n.pause=function(){n.props.pause({userTriggered:!0})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsx)(Pd,{showPlaceholder:this.props.isPlayerCoreLoading,buttonState:this.getButtonState(this.props),onPlay:this.play,onPause:this.pause,disabled:this.props.error})},n}(d.Component),Ed=(0,g.Zz)((0,k.VX)((function(e){return{isVideoAdShowing:(0,S.cz)(e.videoAdMetadata)}})),(0,E.AP)((function(e){var n=e.isPlaying,t=e.play,i=e.pause;return{isPlaying:n,play:t,pause:i}})),(0,P.dd)((function(e){return{isEnded:(0,ye.pl)(e),isPlayerCoreLoading:e.isPlayerCoreLoading,error:!!e.error}})),(0,x.cj)((function(e){var n=e.content;return{isClip:(0,V.Jn)(n)}})),(0,It.o1)())(xd);var Ad=t(26538),Nd=t(207817);function wd(e){if(e.group===Nd.s)return(0,c.hw)("Auto","SettingsMenuSubmenuQuality");var n="on"===c.x2.experiments.__hardcodedStaleExperiment("twilight_settings_labelling","rest");return e.isDefault&&n?Td(e.name):e.isDefault?(0,c.hw)("{resolution} (Source)",{resolution:Td(e.name)},"SettingsMenuSubmenuQuality"):e.name}function Td(e){return e.split("(source)")[0].trim()}var Id=function(e){function n(n){var t=e.call(this,n)||this;return t.handleQualityChanged=function(){var e=t.props.mediaPlayerInstance,n="treatment"===c.x2.experiments.__hardcodedStaleExperiment("settings_overlay_indicator","control");if(e&&!n){var i=e.getQuality();clearTimeout(t.timeout),t.setState({shouldRenderQuality:!0,quality:i}),t.timeout=setTimeout((function(){t.setState({shouldRenderQuality:!1})}),5e3)}},t.state={shouldRenderQuality:!1,quality:null},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(L.a.QUALITY_CHANGED,this.handleQualityChanged)},n.prototype.render=function(){var e=this.state,n=e.shouldRenderQuality,t=e.quality,i=this.props,r=i.speed,o=i.isLiveContent,s=n&&!!t||1!==r&&!o,l=null;return i.disableSettingsBanner?null:(n&&t?l=(0,a.jsx)(Ad.a,{type:Ad.y.Subtle,label:wd(t)}):1===r||o||(l=(0,a.jsx)(Ad.a,{type:Ad.y.Subtle,label:"".concat(r,"x")})),(0,a.jsx)(Mt.e,{type:Lt.ES.SlideOverRight,show:s,children:l}))},n.prototype.componentWillUnmount=function(){clearTimeout(this.timeout)},n}(d.Component),Dd=(0,g.Zz)((0,P.dd)((function(e){var n=e.mediaPlayerInstance,t=e.speed;return{mediaPlayerInstance:n,speed:t}})),(0,x.cj)((function(e){var n=e.content,t=e.behaviors;return{isLiveContent:(0,V.DG)(n),disableSettingsBanner:null==t?void 0:t.disableSettingsBanner}})),(0,b.X)())(Id);var Od,Fd=t(472571),Rd=t(424131),Md=t(843004),Ld=t(561551),Vd=t(557175);!function(e){e.MiniPlayerToggle="mini-player-toggle",e.VideoStatsToggle="video-stats-toggle",e.AdStatsToggle="ad-stats-toggle"}(Od||(Od={}));var jd=function(e){function n(n){var t,i=e.call(this,n)||this;i.toggleLowLatencyMode=function(){var e=i.props,n=e.disableUserPreferencePersistence,t=e.isLiveLowLatencyEnabled,a=e.mediaPlayerInstance,r=e.updatePlayerContext,o=!t;n||c.IG.set(Vd.U.LOW_LATENCY_MODE,o),(0,ye.GY)({isLiveLowLatencyEnabled:t,mediaPlayerInstance:a,updateContext:r},o)},i.toggleMiniPlayer=function(){var e=!i.state.isMiniPlayerEnabled;i.props.disableUserPreferencePersistence||c.IG.set(Vd.U.PERSISTENCE_ENABLED,e),i.props.togglePersistentPlayer(),i.setState({isMiniPlayerEnabled:e})},i.isVideoStatsEnabled=function(){return i.props.statsOverlay===De.Uz.Video},i.toggleVideoStats=function(){var e=i.isVideoStatsEnabled()?De.Uz.None:De.Uz.Video;i.props.setStatsOverlay(e),i.props.hideKeyboardShortcuts()},i.isAdStatsEnabled=function(){return i.props.statsOverlay===De.Uz.Ad},i.toggleAdStats=function(){var e=i.isAdStatsEnabled()?De.Uz.None:De.Uz.Ad;i.props.setStatsOverlay(e),i.props.hideKeyboardShortcuts()};var a=null!==(t=c.IG.getOptional(Vd.U.PERSISTENCE_ENABLED))&&void 0!==t?t:void 0;return i.state={isMiniPlayerEnabled:void 0===a||!!a},i}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.renderLowLatencyToggle(),n=(0,c.hw)("Mini Player","SettingsMenuSubmenuAdvanced"),t=(0,c.hw)("Video Stats","SettingsMenuSubmenuAdvanced"),i=(0,c.hw)("Ad Stats","SettingsMenuSubmenuAdvanced");return(0,a.jsxs)(a.Fragment,{children:[e,this.props.showMiniToggleSettings&&(0,a.jsx)(Qr.G,{addRole:!0,autoFocus:!0,label:n,type:Qr.M.Toggle,onChange:this.toggleMiniPlayer,checked:this.state.isMiniPlayerEnabled,"data-test-selector":Od.MiniPlayerToggle,"data-a-target":"player-settings-submenu-advanced-toggle-mini"}),(0,a.jsx)(Qr.G,{addRole:!0,autoFocus:!0,"data-a-target":"player-settings-submenu-advanced-video-stats",label:t,type:Qr.M.Toggle,onChange:this.toggleVideoStats,checked:this.isVideoStatsEnabled(),"data-test-selector":Od.VideoStatsToggle}),(0,a.jsx)(Qr.G,{addRole:!0,"data-a-target":"player-settings-submenu-advanced-ad-stats",label:i,type:Qr.M.Toggle,onChange:this.toggleAdStats,checked:this.isAdStatsEnabled(),"data-test-selector":Od.AdStatsToggle})]})},n.prototype.renderLowLatencyToggle=function(){var e=this.props,n=e.isLowLatencyCapable,t=e.isLiveLowLatencyEnabled;if(!n)return null;var i=(0,c.hw)("Low Latency","SettingsMenuSubmenuAdvanced");return(0,a.jsx)(Qr.G,{addRole:!0,label:i,type:Qr.M.Toggle,onChange:this.toggleLowLatencyMode,checked:t})},n}(d.Component);var Bd=(0,g.Zz)((0,It.o1)(),(0,P.dd)((function(e){return{isLowLatencyCapable:(0,ye.RO)(e),isLiveLowLatencyEnabled:e.isLiveLowLatencyEnabled,mediaPlayerInstance:e.mediaPlayerInstance,updatePlayerContext:e.updateContext}})),(0,x.cj)((function(e){var n=(0,T.wk)({playerPublicPropsContext:e}),t=n.disableUserPreferencePersistence,i=n.showMiniToggleSettings;return{disableUserPreferencePersistence:t,showMiniToggleSettings:i}})),(0,De.c0)((function(e){var n=e.hideKeyboardShortcuts,t=e.setStatsOverlay,i=e.statsOverlay;return{hideKeyboardShortcuts:n,setStatsOverlay:t,statsOverlay:i}})),(0,u.Ng)(null,(function(e){return(0,g.zH)({togglePersistentPlayer:Ld.he},e)})))(jd);var Ud=t(178196);function Gd(e){return Hd(e)||e.isStaff||zd(e)}function zd(e){return e.sessionUser&&e.sessionUser.id&&e.sessionUser.id===Wd(e)}function qd(e){return e.sessionUser&&e.sessionUser.id&&e.sessionUser.id===function(e){return e.data&&e.data.clip&&e.data.clip.curator&&e.data.clip.curator.id}(e)}function Hd(e){return!!(e.data&&e.data.currentUser&&e.data.currentUser.roles&&e.data.currentUser.roles.isSiteAdmin)}function Wd(e){return e.data&&e.data.clip&&e.data.clip.broadcaster&&e.data.clip.broadcaster.id}var Kd,Zd=t(633097),Xd=t(762164),Qd=t.n(Xd),Yd=(0,z._v)(Qd(),{options:function(e){var n;return{variables:{slug:null!==(n=e.clipSlug)&&void 0!==n?n:"",isCommunityMomentsFeatureEnabled:(0,Dl.fX)(Zd.g)}}},skip:function(e){return!e.clipSlug}});function $d(e){return{sessionUser:(0,pn.wz)(e),isLoggedIn:(0,pn.M3)(e),isStaff:(0,pn.Xl)(e)}}function Jd(){return function(e){return(0,g.Zz)((0,x.cj)(eu),(0,u.Ng)($d),Yd)(e)}}function eu(e){var n=e.content;return{clipSlug:(0,V.Qc)(n),isEditing:(0,V.JN)(n)}}!function(e){e.DeleteButton="delete-button",e.DeleteAllButton="delete-all-button"}(Kd||(Kd={}));var nu=v.x.wrap((function(){return Promise.all([t.e(48062),t.e(65690),t.e(83985)]).then(t.bind(t,976581))}),"ClipsModalDelete"),tu=v.x.wrap((function(){return Promise.all([t.e(48062),t.e(65690),t.e(83985)]).then(t.bind(t,976581))}),"ClipsModalDeleteAll"),iu=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.delete=function(){n.openModerationModal(nu)},n.deleteAll=function(){n.openModerationModal(tu)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e,n=(0,c.hw)("Delete","SettingsMenuSubmenuClipsModeration"),t=(0,c.hw)("Delete all clips from video","SettingsMenuSubmenuClipsModeration");return Gd(this.props)&&(e=(0,a.jsx)(Jr.i,{addRole:!0,"data-test-selector":Kd.DeleteAllButton,label:t,onClick:this.deleteAll})),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Jr.i,{addRole:!0,autoFocus:!0,"data-test-selector":Kd.DeleteButton,label:n,onClick:this.delete}),e]})},n.prototype.openModerationModal=function(e){this.props.showModal(e,{slug:this.props.clipSlug,onClose:this.props.closeModal})},n}(d.Component);var au=(0,g.Zz)(Jd(),(0,u.Ng)(null,(function(e){return(0,g.zH)({showModal:Ud.to,closeModal:Ud.Oo},e)})))(iu),ru=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.showSubMenu=function(){n.props.setActiveMenu("settings-menu__advanced")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=(0,c.hw)("Advanced","SettingsMenuItemAdvanced");return(0,a.jsx)(Jr.i,{addRole:!0,"data-a-target":"player-settings-menu-item-advanced",label:e,actionIcon:dn.t.AngleRight,onClick:this.showSubMenu})},n}(d.Component),ou=(0,It.o1)()(ru),su=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleClick=function(){n.props.setClosedCaptionsSettingsShowing(!0),n.props.setActiveMenu("settings-menu__none")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return this.props.captionsAvailable?(0,a.jsx)(Jr.i,{addRole:!0,label:(0,c.hw)("Closed Captions Options","SettingsMenuItemCCOptions"),onClick:this.handleClick}):null},n}(d.Component);var lu,du=(0,g.Zz)((0,De.c0)((function(e){var n=e.captions,t=e.setClosedCaptionsSettingsShowing;return{captionsAvailable:n.available,setClosedCaptionsSettingsShowing:t}})))(su),uu=t(392395),cu=t(407590),pu=t(646822),mu=t(762436),vu=t(804352),fu=t(837576),gu=t(455987),hu=t(15292);!function(e){e.On="on",e.Off="off"}(lu||(lu={}));var yu=(0,hu.yg)()((function(e){var n,t=e.closeSettingsMenu,i=e.data,s=null===(n=null==i?void 0:i.user)||void 0===n?void 0:n.id,l=(0,vu.$)().setHappeningNowSettings,p=(0,fu.L)(),m=(0,u.wA)(),v=(0,u.d4)(pn.M3),f=(0,u.d4)(Sr.GQ),g=d.useContext(De._t).isFullscreen,h=(0,pu.H)(),y=(0,mu.r)(gu.FI,!1),k=y[0],S=y[1],_=(0,c.hw)("Events will still appear when chat is hidden, including polls, predictions, pinned chats, and Hype Trains.","SettingsMenuChatHappeningNow"),C=(0,c.hw)("Always Show Events","SettingsMenuChatHappeningNow");d.useEffect((function(){return function(){k||c.IG.set(gu.FI,!0)}}),[k,S]);var b=!v||p,P=d.useCallback((function(){if(!v)return g&&h.disable(),t(),void m((0,Xo.iD)(Zo.W.HappeningNowSettings));var e=!p;l(e);var n=e?lu.On:lu.Off,i=g?"full_screen":f?"theater_mode":"default";c.E5.track("client_happening_now_status_toggle",{channel_id:s||null,player_size_mode:i,status:n})}),[s,t,m,h,p,g,f,v,l]);return(0,a.jsxs)(r.P,{display:o.nl.Flex,alignItems:o.k2.Center,padding:.5,cursor:o.bs.Pointer,children:[(0,a.jsxs)(r.P,{onClick:P,display:o.nl.Flex,alignItems:o.k2.Center,margin:{right:.5},width:"100%",role:"menuitemcheckbox",tabIndex:0,children:[(0,a.jsx)(r.P,{margin:{right:.5},children:(0,a.jsx)(On.N,{children:C})}),(0,a.jsx)(r.P,{height:"2rem",margin:{right:.5},role:"tooltip","aria-label":_,tabIndex:0,children:(0,a.jsx)(ul.m,{label:_,maxWidth:"190px",options:{placement:"top"},children:(0,a.jsx)(uu.h,{fillColor:"alt-2"})})}),!k&&(0,a.jsx)(Ad.a,{label:(0,c.hw)("NEW","SettingsMenuChatHappeningNow"),type:"new"})]}),(0,a.jsx)(cu.l,{label:C,checked:b,onChange:P})]})})),ku=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.showSubMenu=function(){return n.props.setActiveMenu("settings-menu__clips-moderation")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(!this.shouldShow())return null;var e=(0,c.hw)("Moderation","SettingsMenuItemClipsModeration");return(0,a.jsx)(Jr.i,{addRole:!0,label:e,actionIcon:dn.t.AngleRight,onClick:this.showSubMenu})},n.prototype.shouldShow=function(){return!this.props.isEditing&&!!this.props.clipSlug&&(Gd(e=this.props)||qd(e));var e},n}(d.Component),Su=Jd()(ku),_u=t(576828),Cu=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.openModal=function(){var e,t,i,a=n.props.clipSlug,r=Wd(n.props);a&&r&&n.props.showModal(_u.Z,{onClose:n.props.closeModal,reportContext:{contentType:ie.Cah.CLIP_REPORT,contentID:a,targetUserID:r,contentMetadata:{momentID:null===(i=null===(t=null===(e=n.props.data)||void 0===e?void 0:e.clip)||void 0===t?void 0:t.communityMoment)||void 0===i?void 0:i.id},trackingContext:"settings_menu_clips_report"}})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(!this.shouldShow())return null;var e=(0,c.hw)("Report Clip","SettingsMenuItemClipsReport");return(0,a.jsx)(Jr.i,{label:e,onClick:this.openModal})},n.prototype.shouldShow=function(){return!!(!this.props.isEditing&&this.props.clipSlug&&Wd(this.props)&&(e=this.props,e.isStaff||Hd(e)||e.isLoggedIn&&!qd(e)&&!zd(e)));var e},n}(d.Component);var bu=(0,g.Zz)(Jd(),(0,u.Ng)(null,(function(e){return(0,g.zH)({showModal:Ud.to,closeModal:Ud.Oo},e)})))(Cu),Pu=function(e){var n=e.closeSettingsMenu;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Jr.i,{addRole:!0,autoFocus:!0,label:(0,c.hw)("Close","SettingsMenuCloseButton"),figure:{icon:dn.t.Close},onClick:n}),(0,a.jsx)(Xr.m,{})]})},xu=t(360869),Eu=function(e){function n(n){var t=e.call(this,n)||this;return t.shouldShow=function(){var e=t.props.content,n=t.props.getFullyFormedUrl(e);return((0,V.wy)(e)||(0,V.P3)(e))&&n!==Z.Kk},t.getCurrentTime=function(){var e=t.props.mediaPlayerInstance;return e?Math.floor(e.getPosition()):0},t.updateCurrentTime=function(){var e=t.getCurrentTime();t.state.currentTime!==e&&t.setState({currentTime:e})},t.copyURLDisabled=function(){return t.setState({copyURLDisabled:!1})},t.handleClick=function(){var e=t.props.mediaPlayerInstance,n=t.props.content;e&&((0,V.wy)(n)||(0,V.P3)(n))&&(n=(0,i.__assign)((0,i.__assign)({},n),{videoOffset:Math.floor(e.getPosition())}));var a=t.props.getFullyFormedUrl(n);(0,xu.e)(a),t.setState({copyURLDisabled:!0}),t.timeout=setTimeout(t.copyURLDisabled,2e3)},t.state={copyURLDisabled:!1,currentTime:t.getCurrentTime()},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(L.a.TIME_UPDATE,this.updateCurrentTime)},n.prototype.componentWillUnmount=function(){clearTimeout(this.timeout)},n.prototype.render=function(){if(!this.shouldShow())return null;var e=(0,c.hw)("Copy Video URL at {timestamp}",{timestamp:(0,Ea.a3)(this.state.currentTime,Ea.wg.ClockHMS)},"SettingsMenuItemCopyVideoURLComponent"),n=(0,c.hw)("Copied!","SettingsMenuItemCopyVideoURLComponent");return(0,a.jsx)(Jr.i,{addRole:!0,disabled:this.state.copyURLDisabled,label:this.state.copyURLDisabled?n:e,onClick:this.handleClick})},n}(d.Component);var Au=(0,g.Zz)((0,x.cj)((function(e){return{content:e.content}})),(0,P.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,b.X)(),(0,W.e)())(Eu),Nu=function(){var e=(0,d.useContext)(De._t),n=e.setStatsOverlay,t=e.showKeyboardShortcuts,i=(0,d.useCallback)((function(){n(De.Uz.None),t()}),[n,t]);return(0,d.useMemo)((function(){return(0,a.jsx)(Jr.i,{addRole:!0,label:(0,c.hw)("View Keyboard Shortcuts","SettingsMenuItemKeyboardShortcuts"),onClick:i})}),[i])},wu=t(612567),Tu=480,Iu=853,Du=[Nl.C.Imdb],Ou=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.shouldShow=function(){var e=n.props,t=e.playerType,i=e.isClipContent;return!(t===Nl.C.AmazonVse||i)},n.handleClick=function(){var e=n.props,t=e.mediaPlayerInstance,i=e.pause,a=e.playerType,r=e.volume,o=e.muted,s=e.content,l=e.quality;i(),n.props.setActiveMenu("settings-menu__none");var d={player:Du.includes(a)?a:Nl.C.Popout,volume:r,muted:o,enableExtensions:!0,parent:"twitch.tv",quality:l};((0,V.wy)(s)||(0,V.P3)(s))&&(d.t=(0,wu.W)(Math.floor(t&&t.getPosition()||0)));var u=(0,Z.kG)(s,d);window.open(u,"_blank","width=".concat(Iu,",height=").concat(Tu,",toolbar=no,menubar=no,scrollbars=no,location=no,status=no"))},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return this.shouldShow()?(0,a.jsx)(Jr.i,{addRole:!0,label:(0,c.hw)("Popout Player","SettingsMenuItemPopoutPlayer"),onClick:this.handleClick}):null},n}(d.Component);var Fu=(0,g.Zz)((0,x.cj)((function(e){return{content:e.content,playerType:(0,wl.O)(e),isClipContent:(0,V.Jn)(e.content)}})),(0,P.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,quality:e.quality}})),(0,E.AP)((function(e){return{muted:e.muted,pause:e.pause,volume:e.volume}})))(Ou),Ru=t(179405),Mu=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.shouldShow=function(){return n.props.availableQualitiesLength>0&&!n.props.forceQuality},n.showSubMenu=function(){return n.props.setActiveMenu("settings-menu__quality")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(!this.shouldShow())return null;var e=(0,c.hw)("Quality","SettingsMenuItemQuality");return(0,a.jsx)(Jr.i,{addRole:!0,autoFocus:!0,"data-a-target":"player-settings-menu-item-quality",label:e,actionIcon:dn.t.AngleRight,value:wd(this.props.selectedQuality),onClick:this.showSubMenu})},n}(d.Component),Lu=(0,g.Zz)((0,P.dd)((function(e){return{availableQualitiesLength:e.availableQualities.length,selectedQuality:(0,Ru.uU)(e)}})),(0,x.cj)((function(e){return{forceQuality:(0,T.wk)({playerPublicPropsContext:e}).forceQuality}})))(Mu);var Vu=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.shouldShow=function(){return!n.props.isClipContent},n.showSubMenu=function(){return n.props.setActiveMenu("settings-menu__report")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(!this.shouldShow())return null;var e=(0,c.hw)("Report Playback Issue","SettingsMenuItemReportPlaybackIssue");return(0,a.jsx)(Jr.i,{addRole:!0,"data-a-target":"player-settings-menu-item-report",label:e,actionIcon:dn.t.AngleRight,onClick:this.showSubMenu})},n}(d.Component),ju=(0,x.cj)((function(e){var n=e.content;return{isClipContent:(0,V.Jn)(n)}}))(Vu);var Bu=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.showSubMenu=function(){return n.props.setActiveMenu("settings-menu__speed")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(!this.props.shouldShow)return null;var e=(0,c.hw)("Speed","SettingsMenuItemSpeed");return(0,a.jsx)(Jr.i,{addRole:!0,autoFocus:!0,"data-a-target":"player-settings-menu-item-speed",label:e,actionIcon:dn.t.AngleRight,value:"".concat(this.props.speed,"x"),onClick:this.showSubMenu})},n}(d.Component),Uu=(0,g.Zz)((0,x.cj)((function(e){var n=(0,T.Rh)({playerPublicPropsContext:e});return{shouldShow:(0,V.pk)(n)}})),(0,P.dd)((function(e){var n=e.speed;return{speed:n}})))(Bu);var Gu=t(337455),zu=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.shouldShow=function(){return n.props.isStaff||c.x2.config.buildType===Gu.n.Dev},n.showSubMenu=function(){return n.props.setActiveMenu("settings-menu__staff")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(!this.shouldShow())return null;var e=(0,c.hw)("Staff","SettingsMenuItemStaff");return(0,a.jsx)(Jr.i,{addRole:!0,label:e,actionIcon:dn.t.AngleRight,onClick:this.showSubMenu})},n}(d.Component);var qu=(0,u.Ng)((function(e){return{isStaff:(0,pn.Xl)(e)}}))(zu),Hu=function(e){var n=e.closeSettingsMenu,t=e.isOffline,i=e.setActiveMenu;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Pu,{closeSettingsMenu:n}),(0,a.jsx)(Lu,{setActiveMenu:i}),(0,a.jsx)(Uu,{setActiveMenu:i}),(0,a.jsx)(bu,{}),(0,a.jsx)(Su,{setActiveMenu:i}),(0,a.jsx)(du,{setActiveMenu:i}),(0,a.jsx)(ou,{setActiveMenu:i}),(0,a.jsx)(ju,{setActiveMenu:i}),(0,a.jsx)(qu,{setActiveMenu:i}),(0,a.jsx)(Fu,{setActiveMenu:i}),(0,a.jsx)(yu,{closeSettingsMenu:n}),(0,a.jsx)(Au,{}),!t&&(0,a.jsx)(Nu,{})]})},Wu=function(e){var n=d.useState(!1),t=n[0],i=n[1],r=function(n){"Enter"===n.key?e.onClose():"mouseup"===n.type?i(!0):"click"===n.type&&(e.selected||e.onChange(),t&&(i(!1),e.onClose()))};return(0,a.jsx)("div",{onKeyDown:r,onMouseUp:r,onClick:r,children:e.children})},Ku=(0,Cd.U)({name:"VideoPlayer_SettingsMenuSubmenuQuality",category:"broadcast"}).Available,Zu=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.closeMenu=function(){n.props.setActiveMenu("settings-menu__none")},n.setQuality=function(e){return function(){var t=n.props,i=t.disableUserPreferencePersistence,a=t.isClipContent,r=t.mediaPlayerInstance,o=t.type;r&&((0,Ru.fx)(e,n.props),a&&(0,Ru.Gi)(e)?n.selectClipQuality(e,r):n.selectQuality(e,r),i||(0,Ru.XF)(e,o)),e.group===Nd.w&&(0,Ru.di)()}},n.selectQuality=function(e,t){e.group===Nd.s?t.setAutoQualityMode(!0):(t.getQuality().group!==e.group&&n.props.setRequestedQuality(!0),t.setQuality(e))},n.selectClipQuality=function(e,n){n.load(e.source),n.play()},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this,n=this.props,t=n.availableQualities,i=n.quality;return(0,a.jsx)(Ku,{children:t.map((function(n,t){return(0,a.jsx)(Wu,{onClose:e.closeMenu,onChange:e.setQuality(n),selected:n.group===i,children:(0,a.jsx)(Qr.G,{addRole:!0,autoFocus:0===t,"data-a-target":"player-settings-submenu-quality-option",type:Qr.M.Radio,label:wd(n),checked:n.group===i,name:"player-settings-submenu-quality-option"})},n.group)}))})},n}(d.Component),Xu=(0,g.Zz)((0,P.dd)((function(e){var n=e.availableQualities,t=e.mediaPlayerInstance,i=e.quality,a=e.updateContext;return{availableQualities:n,mediaPlayerInstance:t,quality:i,updateContext:a}})),(0,x.cj)((function(e){var n=e.content,t=e.type;return{disableUserPreferencePersistence:(0,T.wk)({playerPublicPropsContext:e}).disableUserPreferencePersistence,isClipContent:(0,V.Jn)(n),type:t}})),(0,It.o1)(),(0,De.c0)((function(e){var n=e.setRequestedQuality;return{setRequestedQuality:n}})))(Zu);var Qu={bandwidth:0,broadcast_id:0,cluster:"",current_bitrate:0,current_fps_exact:0,current_fps:0,decoded_frames:0,dropped_frames:0,hls_latency_broadcaster:0,hls_target_duration:0,manifest_cluster:"",manifest_node_type:"",manifest_node:"",node:"",paused:!1,playing:!1,segment_protocol:"",serving_id:0,stream_time_offset:0,stream_time:0,totalMemoryNumber:0,user_ip:"",vid_display_height:0,vid_display_width:0,vid_height:0,vid_width:0,video_buffer_size:0,vod_cdn_origin:"",vod_cdn_region:"",volume:0},Yu=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={issue_type:"",recentlySubmitted:!1},n.selectRef=d.createRef(),n.handleChange=function(e){n.setState({issue_type:e.currentTarget.value})},n.handleSubmit=function(){0===n.state.issue_type.indexOf("ad-")?n.reportAdIssue():n.reportVideoIssue(),n.setState({recentlySubmitted:!0}),n.timeout=setTimeout((function(){return n.props.setActiveMenu("settings-menu__none")}),2e3)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){var e;null===(e=this.selectRef.current)||void 0===e||e.focus()},n.prototype.render=function(){return(0,a.jsxs)(a.Fragment,{children:[!this.state.recentlySubmitted&&this.renderForm(),this.state.recentlySubmitted&&(0,c.hw)("Thanks for your report","SettingsMenuSubmenuReportPlaybackIssue")]})},n.prototype.componentWillUnmount=function(){clearTimeout(this.timeout)},n.prototype.renderForm=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.P,{margin:1,children:(0,c.hw)("Noticed a video playback issue? Let us know!","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)(r.P,{margin:1,children:(0,a.jsxs)(Hn.l,{onChange:this.handleChange,defaultValue:"",ref:this.selectRef,children:[(0,a.jsx)("option",{value:"",disabled:!0,children:(0,c.hw)("Select","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)("option",{value:"stutter-both",children:(0,c.hw)("Audio and video stutter","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)("option",{value:"stutter-video",children:(0,c.hw)("Video stutters, but audio is fine","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)("option",{value:"black-screen",children:(0,c.hw)("Video is completely black or doesn't load","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)("option",{value:"av-desync",children:(0,c.hw)("Audio and video aren't synced","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)("option",{value:"fullscreen-broken",children:(0,c.hw)("Fullscreen playback doesn't work","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)("option",{value:"ad-broken",children:(0,c.hw)("Advertisement playback doesn't work.","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)("option",{value:"ad-repeat",children:(0,c.hw)("Advertisement has played too many times.","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)("option",{value:"ad-offensive-inappropriate",children:(0,c.hw)("Advertisement is offensive or inappropriate.","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)("option",{value:"ad-too-loud",children:(0,c.hw)("Advertisement is too loud.","SettingsMenuSubmenuReportPlaybackIssue")}),(0,a.jsx)("option",{value:"ad-not-relevant",children:(0,c.hw)("Advertisement is not relevant to my interests.","SettingsMenuSubmenuReportPlaybackIssue")})]})}),(0,a.jsx)(r.P,{display:o.nl.Flex,justifyContent:o.A9.End,margin:1,children:(0,a.jsx)(Wn.$n,{variant:Wn.VQ.Primary,onClick:this.handleSubmit,disabled:""===this.state.issue_type,children:(0,c.hw)("Submit","SettingsMenuSubmenuReportPlaybackIssue")})})]})},n.prototype.reportVideoIssue=function(){this.props.mediaPlayerInstance&&this.props.track("vid_issue_report",(0,i.__assign)({issue:this.state.issue_type},function(e){var n=e.getSessionData(),t={broadcast_id:n["BROADCAST-ID"],cluster:n.CLUSTER,manifest_cluster:n["MANIFEST-CLUSTER"],manifest_node_type:n["MANIFEST-NODE_TYPE"],manifest_node:n["MANIFEST-NODE"],node:n.NODE,segment_protocol:"https:"===window.location.protocol?"https":"http",serving_id:n["SERVING-ID"],stream_time_offset:parseFloat(n["STREAM-TIME"]||"0"),user_ip:n.USER_IP,vod_cdn_origin:n.ORIGIN,vod_cdn_region:n.REGION},a={};if(e){var r=e.getState(),o=e.getVideoBitRate()/1e3,s=e.getVideoFrameRate();a={bandwidth:o,current_bitrate:o,current_fps_exact:s,current_fps:Math.round(s),decoded_frames:e.getDecodedFrames(),dropped_frames:e.getDroppedFrames(),hls_latency_broadcaster:Math.round(1e3*e.getLiveLatency()),hls_target_duration:5,paused:r===N.p.IDLE,playing:r===N.p.PLAYING,stream_time:e.getPosition(),totalMemoryNumber:64,vid_display_height:e.getDisplayHeight(),vid_display_width:e.getDisplayWidth(),vid_height:e.getVideoHeight(),vid_width:e.getVideoWidth(),video_buffer_size:e.getBufferDuration(),volume:e.getVolume()}}return(0,i.__assign)((0,i.__assign)((0,i.__assign)({},Qu),t),a)}(this.props.mediaPlayerInstance)))},n.prototype.reportAdIssue=function(){var e=this,n=(0,H.yr)(16);this.props.adPodStats.forEach((function(t){var a=(0,i.__assign)({adPodId:n},function(e){var n=e.adPosition,t=e.adWrapperIds,i=e.contentType,a=e.creativeId,r=e.duration,o=e.impressionTime,s=e.mediaUrl,l=e.system,d=e.title,u=e.totalAds,c=e.vastMediaBitrate,p=e.vastMediaHeight,m=e.vastMediaWidth;return{adPosition:n,adWrapperId:t?t[0]:void 0,contentType:i,creativeId:a,duration:r,impressionTime:o,mediaUrl:s,system:l,title:d,totalAds:u,vastMediaBitrate:c,vastMediaHeight:p,vastMediaWidth:m}}(t));e.props.track("ad_issue_report",(0,i.__assign)({issuetype:e.state.issue_type},a))}))},n}(d.Component),$u=(0,g.Zz)((0,P.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,It.o1)(),(0,k.VX)((function(e){return{adPodStats:e.adPodStats}})))(Yu),Ju=[.25,.5,.75,1,1.25,1.5,2],ec=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.logger=c.x2.logger.withCategory("SettingsMenuSubmenuSpeedComponent"),n.closeMenu=function(){return n.props.setActiveMenu("settings-menu__none")},n.setSpeed=function(e){n.props.mediaPlayerInstance?(0,Fe.qr)(e,n.props):n.logger.warn("no media player loaded")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this,n=this.props.speed,t=(0,c.hw)("1x (Normal)","SettingsMenuSubmenuSpeed");return(0,a.jsx)(a.Fragment,{children:Ju.map((function(i,r){var o=n===i,s=1===i?t:"".concat(i,"x");return(0,a.jsx)(Wu,{onClose:e.closeMenu,onChange:function(){return e.setSpeed(i)},selected:o,children:(0,a.jsx)(Qr.G,{addRole:!0,autoFocus:0===r,"data-a-target":"player-settings-submenu-speed-option",type:Qr.M.Radio,name:"playback-speed",label:s,checked:o})},i)}))})},n}(d.Component),nc=(0,g.Zz)((0,x.cj)((function(e){return{disableUserPreferencePersistence:(0,T.wk)({playerPublicPropsContext:e}).disableUserPreferencePersistence}})),(0,P.dd)((function(e){var n=e.mediaPlayerInstance,t=e.speed;return{mediaPlayerInstance:n,speed:t}})),(0,It.o1)())(ec);var tc=v.x.wrap((function(){return Promise.resolve().then(t.bind(t,787755))}),"SettingsMenuSubmenuStaffContainer",{failSilently:!0,placeholder:null});var ic,ac=(0,g.Zz)((0,tn.X)({name:"SettingsMenuSubmenuStaff"}),(0,u.Ng)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}})))((function(e){return e.firstPageLoaded?(0,a.jsx)(tc,(0,i.__assign)({},e)):null})),rc=function(e){var n=e.activeMenu,t=e.closeSettingsMenu,i=e.isOffline,r=e.setActiveMenu,o=null;switch(n){case"settings-menu__main":o=(0,a.jsx)(Hu,{closeSettingsMenu:t,isOffline:i,setActiveMenu:r});break;case"settings-menu__advanced":o=(0,a.jsx)(Bd,{setActiveMenu:r});break;case"settings-menu__clips-moderation":o=(0,a.jsx)(au,{setActiveMenu:r});break;case"settings-menu__quality":o=(0,a.jsx)(Xu,{setActiveMenu:r});break;case"settings-menu__report":o=(0,a.jsx)($u,{setActiveMenu:r});break;case"settings-menu__speed":o=(0,a.jsx)(nc,{setActiveMenu:r});break;case"settings-menu__staff":o=(0,a.jsx)(ac,{setActiveMenu:r});break;default:o=null}return o?(0,a.jsx)("div",{"data-a-target":"player-settings-menu",children:o}):null},oc=t(903689);function sc(e){switch(e){case"settings-menu__advanced":return(0,c.hw)("Advanced","SettingsMenuSubmenuAdvanced");case"settings-menu__clips-moderation":return(0,c.hw)("Moderation","SettingsMenuSubmenuClipsModeration");case"settings-menu__quality":return(0,c.hw)("Video Quality","SettingsMenuSubmenuQuality");case"settings-menu__report":return(0,c.hw)("Report Playback Issue","SettingsMenuSubmenuReportPlaybackIssue");case"settings-menu__speed":return(0,c.hw)("Speed","SettingsMenuSubmenuSpeed");case"settings-menu__staff":return(0,c.hw)("Staff","SettingsMenuSubmenuStaff");default:return(0,c.hw)("Video Player Settings","SettingsMenuButtonComponent")}}!function(e){e.MainMenuButton="main-menu"}(ic||(ic={}));var lc=function(e){var n=e.activeMenu,t=(0,c.hw)("Back to Video Player Settings","SettingsMenuSubmenuAdvanced");return(0,a.jsxs)(r.P,{display:"settings-menu__main"===n||"settings-menu__none"===n?o.nl.Hide:void 0,children:[(0,a.jsx)(Jr.i,{addRole:!0,children:t,figure:{icon:dn.t.AngleLeft},onClick:function(){return e.setActiveMenu("settings-menu__main")},"data-test-selector":ic.MainMenuButton,role:"button"}),(0,a.jsx)(r.P,{id:"active-settings-menu-header",role:"heading",children:(0,a.jsx)(oc.x,{children:sc(n)})}),(0,a.jsx)(Xr.m,{})]})},dc=(0,Cd.U)({name:"VideoPlayer_SettingsMenuButton",category:"broadcast"}).Available,uc=(0,g.Zz)((0,x.cj)((function(e){return{forceQuality:(0,T.wk)({playerPublicPropsContext:e}).forceQuality,content:e.content,disableSettingsMenuButton:(0,T.wk)({playerPublicPropsContext:e}).disableSettingsMenuButton}})),(0,E.AP)((function(e){var n=e.isPlaying;return{isPlaying:n}})),(0,De.c0)((function(e){var n=e.videoContainer,t=e.requestedQuality,i=e.setIsMenuShowing;return{videoContainer:n,qualityIsChanging:t,setIsMenuShowing:i}})),(0,It.o1)())((function(e){var n=e.content,t=e.disableSettingsMenuButton,s=e.forceQuality,u=e.isOffline,p=e.isPlaying,m=e.qualityIsChanging,v=e.setIsMenuShowing,f=e.videoContainer,g=(0,d.useRef)(!0),h=(0,d.useState)({activeMenu:"settings-menu__none"}),y=h[0],k=y.activeMenu,S=y.maxMenuHeight,_=h[1],C=(0,Fd.p)(),b=C.dialogProps,P=C.setAnchorRef,x=C.close,E=C.toggle,A=(0,d.useCallback)((function(e){_((function(n){return(0,i.__assign)((0,i.__assign)({},n),{activeMenu:e})}))}),[]),N=(0,d.useCallback)((function(){x(),_((function(e){return(0,i.__assign)((0,i.__assign)({},e),{activeMenu:"settings-menu__none"})}))}),[x]),w=(0,d.useCallback)((function(){var e=cc(f);e&&_((function(n){return(0,i.__assign)((0,i.__assign)({},n),{maxMenuHeight:e})}))}),[f]),T=(0,d.useCallback)((function(){E(),_((function(e){var n="settings-menu__none"===e.activeMenu?"settings-menu__main":"settings-menu__none";return"settings-menu__none"===n?(0,i.__assign)((0,i.__assign)({},e),{activeMenu:n}):(0,i.__assign)((0,i.__assign)({},e),{activeMenu:n,maxMenuHeight:cc(f)})}))}),[E,f]),I=(0,d.useCallback)((function(){if("settings-menu__none"===k)return null;var e=sc(k);return"settings-menu__main"===k?e:(0,c.hw)("{submenuLabel} submenu",{submenuLabel:e},"SettingsMenuButtonComponent")}),[k]);if((0,d.useEffect)((function(){g.current?g.current=!1:v("settings-menu__none"!==k)}),[k,v]),t)return null;var D=m&&p&&!s&&!(0,V.Jn)(n);return(0,a.jsxs)(dc,{children:[(0,a.jsxs)(r.P,{children:[(0,a.jsx)(Sn.e,{theme:"dark",children:(0,a.jsxs)(Rd.n,(0,i.__assign)({},b,{"aria-labelledby":"active-settings-menu-header",role:"menu",onRequestClose:N,show:"settings-menu__none"!==k,size:Ar.$V.Medium,maxHeight:S?"".concat(S,"px"):void 0,options:{placement:"top-end",modifiers:[{name:"offset",options:{offset:[40,5]}},{name:"flip",enabled:!1}]},children:[(0,a.jsx)(r.P,{display:o.nl.HideAccessible,"aria-live":"polite",children:(0,a.jsx)(Md.L,{type:At.M2.Span,children:I()})}),(0,a.jsx)(lc,{activeMenu:k,setActiveMenu:A}),(0,a.jsx)(rc,{activeMenu:k,closeSettingsMenu:N,isOffline:u,setActiveMenu:A})]}))}),(0,a.jsx)(r.P,{className:l()(D&&"settings-menu-button-component__animate"),children:(0,a.jsx)(Ys.g,{"data-a-target":"player-settings-button",tooltipPlacement:"top-end",label:(0,c.hw)("Settings","SettingsMenuButtonComponent"),buttonIcon:dn.t.Gear,anchorRef:P,onClick:T})})]}),"settings-menu__none"!==k&&(0,a.jsx)(ct.$,{onResize:w})]})}));function cc(e){var n=(0,mt.P)(e).height;return n?.8*n:void 0}var pc=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.toggleTheatreMode=function(){n.props.theatreModeEnabled?n.props.disableTheatreMode():n.props.enableTheatreMode()},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.isFullscreen,t=e.shouldDisableTheatreMode,i=e.theatreModeEnabled;if(t||n)return null;var r=(0,c.hw)("Exit Theatre Mode (alt+t)","TheatreModeButtonComponent"),o=(0,c.hw)("Theatre Mode (alt+t)","TheatreModeButtonComponent");return(0,a.jsx)(Ys.g,{tooltipPlacement:"top-end",label:i?r:o,buttonIcon:i?dn.t.Theater:dn.t.TheaterExit,onClick:this.toggleTheatreMode})},n}(d.Component);var mc=(0,g.Zz)((0,u.Ng)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled}}),(function(e){return(0,i.__assign)({enableTheatreMode:function(){e((0,Ld._H)())}},(0,g.zH)({disableTheatreMode:Ld.lq},e))})),(0,x.cj)((function(e){return{shouldDisableTheatreMode:(0,T.wk)({playerPublicPropsContext:e}).disableTheatreMode}})),(0,De.c0)((function(e){return{isFullscreen:e.isFullscreen}})),(0,It.o1)())(pc),vc=t(631139),fc=t(945005),gc=t(206412),hc=t.n(gc);var yc=(0,g.Zz)((0,x.cj)((function(e){return{content:(0,T.Rh)({playerPublicPropsContext:e}),shouldEnableViewCount:(0,T.wk)({playerPublicPropsContext:e}).enableViewCount}})))((function(e){var n,t,i,o,s,l,d,u,p=e.content,m=e.shouldEnableViewCount,v=(0,V.DG)(p)?null==p?void 0:p.channelLogin:"",f=(0,F.IT)(hc(),{variables:{login:v||""},skip:!v||!m}).data,g=null!==(t=null===(n=null==f?void 0:f.user)||void 0===n?void 0:n.id)&&void 0!==t?t:null;return(0,Ha.C)({query:hc(),variables:{login:v||""},topic:g?(0,cn.RW)(g):"",skip:!g||!m,type:Ka.PD.ViewCount,mutator:function(e,n){return n.user&&n.user.stream?qa()(n,(function(e){return e.user.stream.viewersCount}),(function(){return e.viewers})):n}}),m&&null!==(null===(o=null===(i=null==f?void 0:f.user)||void 0===i?void 0:i.stream)||void 0===o?void 0:o.viewersCount)&&void 0!==(null===(l=null===(s=null==f?void 0:f.user)||void 0===s?void 0:s.stream)||void 0===l?void 0:l.viewersCount)?(0,a.jsx)(r.P,{color:"overlay",background:"overlay",display:"flex",borderRadius:Vt.Z.Large,padding:.5,margin:{x:.5},children:(0,a.jsx)(vc.r,{label:(0,c.hw)("Viewers","VideoPlayerOverlayViewCount"),value:(0,c.ZV)(null===(u=null===(d=null==f?void 0:f.user)||void 0===d?void 0:d.stream)||void 0===u?void 0:u.viewersCount),icon:fc.H,tooltipProps:{options:{placement:"top"}}})}):null})),kc=t(381403),Sc=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onBufferUpdate=function(){var e=n.props.mediaPlayerInstance;if(e){var t=e.getBufferDuration();n.props.onBufferUpdate(t)}},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(L.a.BUFFER_UPDATE,this.onBufferUpdate)},n.prototype.render=function(){return null},n}(d.Component),_c=(0,g.Zz)((0,P.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,b.X)())(Sc);var Cc=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onDurationChange=function(){var e=n.props.mediaPlayerInstance;e&&n.props.onDurationChange(e.getDuration())},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(L.a.DURATION_CHANGED,this.onDurationChange)},n.prototype.render=function(){return null},n}(d.Component),bc=(0,g.Zz)((0,P.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,b.X)())(Cc);var Pc=t(409815),xc=t.n(Pc),Ec=function(e){function n(n){var t=e.call(this,n)||this;return t.isDragging=!1,t.handleThumbDragStart=function(){t.isDragging=!0,t.setState({bufferDuration:0})},t.handleThumbLocationChange=function(e){var n=t.props.mediaPlayerInstance;t.isDragging=!1,n&&(n.seekTo(e),t.setState({thumbLocation:e}))},t.handleSeekComplete=function(e){var n=t.props.mediaPlayerInstance;(null==n?void 0:n.isPaused())&&t.setState({thumbLocation:e})},t.handleTimeChanged=function(e){var n=t.props.mediaPlayerInstance;if(!n||t.isDragging)t.setState({thumbLocation:e});else{var i=n.getBufferDuration();t.setState({bufferDuration:i,thumbLocation:e})}},t.handleBufferUpdate=function(e){t.isDragging||t.setState({bufferDuration:e})},t.handleDurationChange=function(e){t.setState({vodLength:e})},t.state={bufferDuration:0,thumbLocation:0,vodLength:n.mediaPlayerInstance&&n.mediaPlayerInstance.getDuration()||0},t}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.data,t=e.editingSegments,i=e.isAdShowing,r=this.state,o=r.thumbLocation,s=r.bufferDuration,l=r.vodLength;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(fl.Nb,{onSeekComplete:this.handleSeekComplete}),(0,a.jsx)(Pe.j,{onTimeChanged:this.handleTimeChanged}),(0,a.jsx)(_c,{onBufferUpdate:this.handleBufferUpdate}),(0,a.jsx)(bc,{onDurationChange:this.handleDurationChange}),n&&!n.loading&&!n.error&&n.video&&!i&&(0,a.jsx)(kc.H,{thumbLocation:o,bufferDuration:s,vodLength:l,mutedSegments:Ac(n),onThumbDragStart:this.handleThumbDragStart,onThumbLocationChanged:this.handleThumbLocationChange,editingSegments:t})]})},n}(d.Component);function Ac(e){return e.video&&e.video.muteInfo&&e.video.muteInfo.mutedSegmentConnection&&e.video.muteInfo.mutedSegmentConnection.nodes||[]}var Nc=(0,g.Zz)((0,P.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,E.AP)((function(e){var n=e.pause,t=e.isPlaying;return{pause:n,isPlaying:t}})),(0,x.cj)((function(e){return{vodID:(0,V.hq)(e.content)||null,editingSegments:(0,V.N1)(e.content),includePrivateVODs:(0,T.wk)({playerPublicPropsContext:e}).includePrivateVODs||!1}})),(0,k.VX)((function(e){return{isAdShowing:(0,S.cz)(e.videoAdMetadata)}})),(0,oe.h)(),(0,z._v)(xc(),{options:function(e){var n=e.vodID,t=e.collectionVodID;return{variables:{vodID:null!=n?n:t,includePrivate:e.includePrivateVODs}}},skip:function(e){var n=e.vodID,t=e.collectionVodID;return!(n||t)}}))(Ec);var wc=t(155738),Tc=t(186396),Ic=t(732574),Dc=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handleClick=function(){var e=(0,V.L$)(n.props.content,{tt_content:"twitch_logo",tt_medium:"embed"},n.props.mediaPlayerInstance);window.open(e),n.props.pause()},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return this.props.showExternalBranding?(0,a.jsx)(na.cv,{label:this.getTooltipLabel(this.props.content),align:na.HX.Right,direction:na.n5.Top,children:(0,a.jsx)(Tc.M2,{"aria-label":this.getTooltipLabel(this.props.content),onClick:this.handleClick,variant:Tc.sK.Text,overlay:!0,children:(0,a.jsx)(r.P,{display:o.nl.Flex,margin:{x:.5},children:(0,a.jsx)(Ic.g,{width:60,height:18})})})}):null},n.prototype.getTooltipLabel=function(e){return e.type===K.FC.Clip?(0,c.hw)("View clip page","WatchOnTwitchButton"):(0,c.hw)("Watch on Twitch","WatchOnTwitchButton")},n}(d.Component);var Oc,Fc=(0,g.Zz)((0,x.cj)((function(e){return{content:(0,T.Rh)({playerPublicPropsContext:e}),showExternalBranding:(0,T.wk)({playerPublicPropsContext:e}).showExternalBranding}})),(0,P.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,E.AP)((function(e){return{pause:e.pause}})))(Dc),Rc=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.tooltipPlacementRef=d.createRef(),n.chromecastButtonRef=d.createRef(),n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.shouldShow,t=e.isOffline,s=e.isAccessibilityLandmark,l=void 0===s||s,d=e.shouldDisplayPlayPauseAsOverlay,u=void 0!==d&&d,p=e.shouldPushVolumeToRight,m=void 0!==p&&p,v={assignments:{fallback:function(){return null},active:function(){return(0,a.jsx)(id,{})}},name:"extension_overlay_improvement",hardcodedAssignment:"control"};return(0,a.jsx)(Mt.e,{type:Lt.ES.Fade,show:n,alwaysRenderChild:!0,preventChildAriaHidden:!0,children:(0,a.jsxs)(r.P,{"data-a-target":"player-controls",className:"player-controls","data-a-visible":n,position:o.yX.Absolute,display:o.nl.Flex,flexDirection:o.bo.Column,alignItems:o.k2.Stretch,overflow:n?o.nE.Visible:o.nE.Hidden,attachBottom:!0,fullWidth:!0,children:[(0,a.jsx)(r.P,{padding:{x:2},children:(0,a.jsxs)(Ca.t,{name:"PlayerControlsOverlay-SeekBar",children:[(0,a.jsx)(Al,{}),(0,a.jsx)(Nc,{})]})}),(0,a.jsx)(ja.u,{section:"global",id:"channel-player",icon:Ut.A,label:(0,c.hw)("Player Controls","SkipToTargetVideoPlayer"),enabled:!!l,children:(0,a.jsx)(r.P,{display:o.nl.Flex,margin:{left:1,bottom:1,right:1},children:(0,a.jsxs)(Ca.t,{name:"PlayerControlsOverlay-Controls",children:[!t&&(0,a.jsxs)(r.P,{flexGrow:1,display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.Start,className:"player-controls__left-control-group",children:[(0,a.jsx)(yc,{}),(0,a.jsx)(md,{}),(0,a.jsx)(ll,{}),!u&&(0,a.jsx)(Ed,{}),!m&&(0,a.jsx)(wc.Sb,{playerControlsShowing:n})]}),(0,a.jsxs)(r.P,{flexGrow:1,display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.End,className:"player-controls__right-control-group",children:[(0,a.jsx)(Dd,{}),(0,a.jsx)(Xl,{}),m&&(0,a.jsx)(wc.Sb,{playerControlsShowing:n,ref:this.tooltipPlacementRef,chromecastButtonRef:this.chromecastButtonRef}),(0,a.jsx)(uc,{isOffline:t}),(0,a.jsx)(Tr.N,(0,i.__assign)({},v)),(0,a.jsx)(Yl,{}),(0,a.jsx)(Tl,{}),(0,a.jsx)("div",{ref:this.chromecastButtonRef,children:(0,a.jsx)(ml,{})}),(0,a.jsx)(r.P,{position:o.yX.Absolute,attachBottom:!0,attachRight:!0,margin:{bottom:5,right:5},children:(0,a.jsx)(yd,{})}),(0,a.jsx)(_d,{}),(0,a.jsx)(mc,{}),(0,a.jsx)(ld,{}),(0,a.jsx)(Fc,{})]})]})})})]})})},n}(d.Component),Mc=(0,g.Zz)((0,tn.X)({name:"PlayerControlsOverlay"}))(Rc),Lc=t(28602),Vc=t(194257),jc=t.n(Vc),Bc=t(734594),Uc=t(195135),Gc=t(434848),zc=t(146065),qc=t(315320),Hc=t(505851);!function(e){e.Details="preview_content-details",e.ContentTimer="preview-content-content-timer",e.PrimeUpsellButton="preview-content-prime-upsell-button",e.PrimeSubscribeErrorPanel="preview-content-prime-error-panel"}(Oc||(Oc={}));var Wc=v.x.wrap((function(){return t.e(46880).then(t.bind(t,193536))}),"SubModal"),Kc=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={imageLoaded:!1},n.handleImageLoad=function(){return n.setState((function(e){return e.imageLoaded?null:{imageLoaded:!0}}))},n.adFreeViewingText=function(){return(0,c.hw)("Get ad-free viewing on this channel (with limited exceptions), ability to watch and chat during sub-only streams, Subscriber emotes and a Subscriber badge.","PreviewContentOverlay")},n.showSubscriptionModal=function(){if(n.props.channelLogin){var e=n.props.exemptionProductName;e&&n.props.minTier>1?n.props.showSubscriptionCheckout({productName:e,trackingContext:{source:Hc.U.SubscriberStreamUpsellClick}}):n.props.showSubscriptionModal({channelLogin:n.props.channelLogin,subLocation:Lc.U2.PremiumContentOverlay})}},n.handlePrimeSubscribe=function(){n.props.handlePrimeSubscribe()},n.resetPrimeSubscribe=function(){n.props.resetPrimeSubscribe()},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.renderLoggedOutContent();this.props.isLoggedIn&&(e=this.props.secondsRemaining<=0?this.renderExpiredContent():this.renderPreviewContent());var n=this.props.previewUrl;return(0,a.jsx)(Mt.e,{show:this.props.expanded,type:Lt.ES.Fade,duration:Lt.Cf.Long,"data-test-selector":Oc.Details,className:"preview-overlay__transition-container",children:(0,a.jsxs)(r.P,{padding:{bottom:2,x:2},display:o.nl.Flex,alignItems:o.k2.Start,className:"preview-overlay__info",children:[(0,a.jsx)(_n.S,{margin:{right:2},borderRadius:Vt.Z.Medium,children:(0,a.jsx)("div",{className:"preview-overlay__preview-image",children:(0,a.jsx)(ai.j$,{ratio:16/9,children:(0,a.jsx)(Mt.e,{show:this.state.imageLoaded,type:Lt.ES.Fade,duration:Lt.Cf.Long,alwaysRenderChild:!0,children:n&&(0,a.jsx)(ri.L,{src:n,alt:this.props.channelLogin||"",onLoad:this.handleImageLoad})})})})}),(0,a.jsx)("div",{className:"preview-overlay__content",children:e})]})})},n.prototype.renderExpiredContent=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(r.P,{margin:{bottom:1},children:(0,a.jsx)(On.N,{type:At.M2.H4,children:(0,c.hw)("Your free preview has expired","PreviewContentOverlay")})}),(0,a.jsx)(On.N,{type:At.M2.H5,bold:!0,children:this.props.description}),(0,a.jsx)(On.N,{type:At.M2.P,fontSize:o.Z4.Size6,children:this.adFreeViewingText()}),this.renderButtonBar()]})},n.prototype.renderPreviewContent=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(On.N,{type:At.M2.P,fontSize:o.Z4.Size4,"data-test-selector":Oc.ContentTimer,children:(0,c.hw)("Your free preview ends in {timeRemaining}",{timeRemaining:(0,a.jsx)(On.N,{type:At.M2.Strong,children:this.renderTimer()})},"PreviewContentOverlay")}),this.renderButtonBar(),(0,a.jsx)(On.N,{type:At.M2.H5,bold:!0,children:this.props.description}),(0,a.jsx)(On.N,{type:At.M2.P,fontSize:o.Z4.Size6,children:this.adFreeViewingText()})]})},n.prototype.renderLoggedOutContent=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(On.N,{type:At.M2.H4,children:this.props.title}),(0,a.jsx)(r.P,{margin:{top:1,bottom:.5},children:(0,a.jsx)(On.N,{type:At.M2.H6,bold:!0,children:(0,c.hw)("Sign up now to join in:","PreviewContentOverlay")})}),(0,a.jsx)(_n.S,{display:o.nl.Flex,alignItems:o.k2.Center,children:(0,a.jsxs)(On.N,{type:At.M2.Span,fontSize:o.Z4.Size6,children:[(0,a.jsx)(r.P,{margin:{right:1},children:(0,a.jsx)(Bc.i,{size:20})}),(0,c.hw)("Watch free previews of Subscriber Streams","PreviewContentOverlay")]})}),(0,a.jsx)(_n.S,{display:o.nl.Flex,alignItems:o.k2.Center,children:(0,a.jsxs)(On.N,{type:At.M2.Span,fontSize:o.Z4.Size6,children:[(0,a.jsx)(r.P,{margin:{right:1},children:(0,a.jsx)(Bc.i,{size:20})}),(0,c.hw)("Follow {channelLogin} and never miss a stream",{channelLogin:this.props.channelLogin},"PreviewContentOverlay")]})}),this.renderButtonBar()]})},n.prototype.renderButtonBar=function(){var e=this;return this.props.shouldShowPrimeUpsell?(0,a.jsxs)(r.P,{margin:{y:2,x:0},display:o.nl.Flex,className:"preview-overlay__allow-pointers",children:[this.renderPrimeUpsellButton(),(0,a.jsx)(Wn.$n,{onClick:this.showSubscriptionModal,variant:Wn.VQ.Text,overlay:!0,children:(0,c.hw)("More options","PreviewContentOverlay")})]}):(0,a.jsx)(r.P,{margin:{y:2,x:0},className:"preview-overlay__allow-pointers",children:this.props.isLoggedIn?(0,a.jsx)(Wn.$n,{icon:Uc.n,onClick:this.showSubscriptionModal,children:this.props.cta}):(0,a.jsx)(Wn.$n,{onClick:function(){e.props.showLoginModal()},children:(0,c.hw)("Sign up to watch a free preview","PreviewContentOverlay")})})},n.prototype.renderTimer=function(){return(0,Ea.a3)(this.props.secondsRemaining,Ea.wg.ClockAuto)},n.prototype.renderPrimeUpsellButton=function(){return this.props.primeSubscribeFailed?(0,a.jsxs)(r.P,{"data-test-selector":Oc.PrimeSubscribeErrorPanel,background:o.VS.Overlay,border:!0,borderRadius:Vt.Z.Medium,padding:{x:.5},display:o.nl.Flex,children:[(0,a.jsx)(Gc.m,{height:18,width:18}),(0,a.jsx)(_n.S,{display:o.nl.InlineFlex,alignItems:o.k2.Center,margin:{left:1},children:(0,a.jsx)(On.N,{type:At.M2.Span,children:(0,c.hw)("Something went wrong.","PreviewContentOverlay")})}),(0,a.jsx)(Wn.$n,{variant:Wn.VQ.Text,onClick:this.resetPrimeSubscribe,overlay:!0,children:(0,c.hw)("Try again","PreviewContentOverlay")})]}):(0,a.jsx)(Wn.$n,{onClick:this.handlePrimeSubscribe,"data-test-selector":Oc.PrimeUpsellButton,disabledInteraction:this.props.primeSubscribePending,icon:zc.N,state:this.props.primeSubscribePending?Wn.w.Loading:Wn.w.Default,children:(0,c.hw)("Subscribe free with Prime","PreviewContentOverlay")})},n}(d.Component);var Zc=(0,g.Zz)((0,It.o1)(),(0,x.cj)((function(e){var n=e.content;return{channelLogin:(0,V.NM)(n)||(0,V.hd)(n)||""}})),(0,u.Ng)((function(e){return{isLoggedIn:(0,pn.M3)(e)}}),(function(e){return(0,g.zH)({showSubscriptionModal:function(e){var n=(0,i.__rest)(e,[]);return(0,Ud.to)(Wc,n)},showSubscriptionCheckout:qc.Z,showLoginModal:function(){return(0,Xo.iD)(Zo.W.ChannelUpsellLogin)}},e)})))(Kc);var Xc,Qc,Yc=t(440549),$c=t(148014),Jc=t.n($c);!function(e){e[e.Live=0]="Live",e[e.Rerun=1]="Rerun",e[e.Offline=2]="Offline",e[e.Premiere=3]="Premiere"}(Qc||(Qc={}));var ep=function(e){switch(e){case Qc.Live:return(0,a.jsx)(ni.qd,{label:(0,c.hw)("LIVE","StatusOverlay")});case Qc.Rerun:return(0,a.jsx)(ti.L,{children:(0,c.hw)("RERUN","StatusOverlay")});case Qc.Offline:return(0,a.jsx)(ti.L,{children:(0,c.hw)("OFFLINE","StatusOverlay")});case Qc.Premiere:return(0,a.jsx)(ti.L,{children:(0,c.hw)("PREMIERE","StatusOverlay")});default:return null}},np=function(e){var n,t,i;return null===(i=null===(t=null===(n=e.data)||void 0===n?void 0:n.user)||void 0===t?void 0:t.stream)||void 0===i?void 0:i.type},tp=(Xc=(0,Cd.U)({name:"VideoPlayer_StatusOverlay",category:"broadcast"})).Available,ip=Xc.Unavailable;var ap,rp=function(e){return e.type===K.FC.Live?e.channelLogin:null},op=(0,g.Zz)((0,x.cj)((function(e){var n=e.content;return{content:n}})),(0,P.dd)((function(e){return{isOffline:e.isOffline,isPremiumContentRestricted:(0,ye.k1)(e,vn.S.PremiumContent)}})),(0,z._v)(Jc(),{skip:function(e){return!rp(e.content)},options:function(e){var n;return{variables:{channel:null!==(n=rp(e.content))&&void 0!==n?n:""}}}}))((function(e){if(!e.data||function(e){return!e.data||e.data.loading}(e)||void 0===e.isOffline)return null;if(!1===e.isOffline&&!np(e))return(0,a.jsx)(ip,{reason:"Cannot determine stream type",children:ep(Qc.Live)});var n=e.isOffline?Qc.Offline:Qc.Live;return n===Qc.Live&&(np(e)===Yc.P.Rerun?n=Qc.Rerun:np(e)===Yc.P.Premiere&&(n=Qc.Premiere)),(0,a.jsx)(tp,{children:ep(n)})}));!function(e){e.BroadcasterStreamingStatus="preview-content-broadcaster-streaming-status",e.FocusHandler="preview-content-top-bar-focus-handler",e.TopRightTimerTextTransition="preview-content-top-right-bar-timer-transition",e.TopRightTimerText="preview-content-top-right-bar-timer-copy",e.TopRightTimerTime="preview-content-top-right-bar-timer-time",e.ToggleStatus="preview-content-top-bar-icon",e.PrimeUpsellButton="preview-content-top-bar-prime-upsell-button"}(ap||(ap={}));var sp=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.handlePrimeSubscribe=function(e){e.stopPropagation(),n.props.handlePrimeSubscribe()},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props,n=e.isLoggedIn,t=e.expanded,s=e.secondsRemaining,l=e.toggleCollapse,d=s<=0,u=n&&!d,c=n,p=n&&!d&&!t,m={display:o.nl.Flex,alignItems:o.k2.Center,fullHeight:!0},v=(0,a.jsx)(_n.S,(0,i.__assign)({},m,{children:(0,a.jsx)(Mt.e,{show:u,type:Lt.ES.TranslateTop,duration:Lt.Cf.Medium,"data-test-selector":ap.ToggleStatus,children:(0,a.jsx)(ss.t,{asset:t?dn.t.AngleDown:dn.t.AngleRight})})})),f=(0,a.jsx)(On.N,{fontSize:o.Z4.Size4,ellipsis:!0,"data-test-selector":ap.BroadcasterStreamingStatus,children:this.props.title}),g=this.props.shouldShowPrimeUpsell?this.renderPrimeUpsellButton():this.renderPreviewTimeRemainingText(),h=(0,a.jsx)(_n.S,(0,i.__assign)({},m,{margin:{x:1},children:(0,a.jsx)(Mt.e,{show:p,type:Lt.ES.Fade,duration:Lt.Cf.Medium,"data-test-selector":ap.TopRightTimerTime,children:(0,a.jsxs)(On.N,{type:At.M2.Strong,fontSize:o.Z4.Size4,children:["",(0,Ea.a3)(s,Ea.wg.ClockAuto)]})})})),y=(0,a.jsx)(r.P,{children:(0,a.jsxs)(r.P,(0,i.__assign)({},m,{justifyContent:o.A9.Between,padding:2,fullWidth:!0,children:[v,(0,a.jsx)(r.P,(0,i.__assign)({},m,{flexGrow:1,flexShrink:1,overflow:o.nE.Hidden,margin:{x:1},children:c&&f})),(0,a.jsx)(r.P,(0,i.__assign)({},m,{children:(0,a.jsx)(_n.S,(0,i.__assign)({},m,{justifyContent:o.A9.End,children:(0,a.jsx)(Mt.e,{show:p,type:Lt.ES.Fade,duration:Lt.Cf.Short,"data-test-selector":ap.TopRightTimerTextTransition,children:g})}))})),h,(0,a.jsx)(op,{})]}))});return d||(y=(0,a.jsx)(r.P,{className:"preview-top-bar__allow-pointers","data-test-selector":ap.FocusHandler,children:(0,a.jsx)(xa.tD,{variant:xa.hJ.Alpha,onClick:l,children:y})})),y},n.prototype.renderPreviewTimeRemainingText=function(){return(0,a.jsx)(On.N,{fontSize:o.Z4.Size5,ellipsis:!0,"data-test-selector":ap.TopRightTimerText,children:(0,c.hw)("Your free preview ends in","PreviewContentOverlay")})},n.prototype.renderPrimeUpsellButton=function(){return this.props.primeSubscribeFailed?null:(0,a.jsx)(Wn.$n,{onClick:this.handlePrimeSubscribe,"data-test-selector":ap.PrimeUpsellButton,disabledInteraction:this.props.primeSubscribePending,icon:zc.N,state:this.props.primeSubscribePending?Wn.w.Loading:Wn.w.Default,children:(0,c.hw)("Subscribe free","PreviewContentOverlay")})},n}(d.Component);var lp,dp=(0,g.Zz)((0,u.Ng)((function(e){return{isLoggedIn:(0,pn.M3)(e)}})))(sp),up=t(246506),cp=t.n(up);!function(e){e.Root="preview_content-root",e.FocusHandler="preview_content-focus_handler"}(lp||(lp={}));var pp,mp="logged_out",vp="preview",fp="expired_preview",gp="collapsed_prime",hp={Collapsed:"collapsed",Expanded:"expanded",Full:"full"},yp={Collapsed:gp,Expanded:"expanded_prime",Full:"full_prime"},kp={Collapsed:gp,Expanded:"expanded_prime_error",Full:"full_prime_error"};!function(e){e.Subscribe="subscribe",e.SubscribePrime="subscribe_prime",e.SubscribePrimeTryAgain="subscribe_prime_try_again",e.Login="signup",e.Expand="expand",e.Collapse="collapse"}(pp||(pp={}));var Sp=function(e){function n(n){var t=e.call(this,n)||this;t.DEFAULT_PREVIEW_URL="https://static-cdn.jtvnw.net/ttv-static/404_preview-285x160.jpg",t.renderFocusHandler=function(){return t.props.onFocusPlayer&&(0,a.jsx)(_n.S,{position:o.yX.Absolute,attachTop:!0,attachLeft:!0,attachRight:!0,attachBottom:!0,children:(0,a.jsx)("div",{onClick:t.props.onFocusPlayer,"data-test-selector":lp.FocusHandler})})},t.tick=function(){var e=t.calculateSecondsRemaining();e<=0?t.endCountdown():(t.setState({secondsRemaining:e}),t.tickRef=setTimeout(t.tick,1e3))},t.endCountdown=function(){t.setState({secondsRemaining:0,expanded:!0}),t.shutdownVideo()},t.shutdownVideo=function(){if(20===t.shutdownStep&&(t.props.pause(),t.props.updateContext({forbidden:!0}),t.props.setShowControls(!1),t.shutdownStartVolume=t.props.volume||1),t.shutdownStep<=0||isNaN(t.shutdownStep))return t.props.setRestrictPlayback(!0),void t.props.setVolume(t.shutdownStartVolume);var e=t.shutdownStartVolume*t.shutdownStep/20;t.props.setVolume(e),--t.shutdownStep,setTimeout(t.shutdownVideo,t.shutdownInterval)},t.toggleCollapse=function(){t.setState((function(e){return{expanded:!e.expanded}}))},t.handlePrimeSubscribe=function(){var e=t.user();e&&e.id&&t.props.currentUser&&t.props.currentUser.id&&(t.setState({primeSubPending:!0}),t.props.spendPrimeCredit((0,R.AR)({broadcasterID:e.id,userID:t.props.currentUser.id})).then((function(e){e.data&&e.data.spendSubscriptionCredit&&e.data.spendSubscriptionCredit.error&&t.failPrimeSubscribe()})).catch((function(){return t.failPrimeSubscribe()})))},t.resetPrimeSubscribe=function(){t.setState({primeSubPending:!1,primeSubFailed:!1})},t.failPrimeSubscribe=function(){t.setState({primeSubPending:!1,primeSubFailed:!0,expanded:!0})},t.spadeEventBaseData=function(e){var n=mp;t.props.isLoggedIn&&(n=t.state.secondsRemaining>0?vp:fp);var i=hp;t.shouldShowPrimeUpsell()&&(i=t.state.primeSubFailed?kp:yp);var a=t.state.expanded?i.Expanded:i.Collapsed;return t.state.secondsRemaining<=0&&(a=i.Full),{channel:t.props.channelLogin||null,banner_state:a,viewer_status:n,action:e}},t.user=function(){return t.props.data&&t.props.data.user};var i=t.calculateSecondsRemaining();return i>0&&t.props.setRestrictPlayback(!1),t.state={secondsRemaining:i,neverPreview:i<=0,expanded:!1,primeSubPending:!1,primeSubFailed:!1},t.shutdownStep=20,t.shutdownInterval=Math.floor(100),t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.tick()},n.prototype.componentWillUnmount=function(){clearInterval(this.tickRef)},n.prototype.render=function(){var e=this.state,n=e.expanded,t=e.secondsRemaining,s=this.props,l=s.active,d=s.mini,u=t<=0;if(d&&!u)return null;if(d)return(0,a.jsx)(Rn.FT,{type:Rn.NL.Fullscreen,transparency:Rn.xL.Transparency0,children:(0,a.jsx)(On.N,{fontSize:o.Z4.Size4,bold:!0,lineHeight:At.aK.Heading,color:o.Q1.Overlay,children:(0,c.hw)("Your free preview has expired","ContentOverlayGate")})});var p=this.title(),m=this.description(),v=this.cta(),f=this.restrictionTier();if(!p||!m||!v)return null;var g={secondsRemaining:t,expanded:n,title:p,shouldShowPrimeUpsell:this.shouldShowPrimeUpsell(),primeSubscribePending:this.state.primeSubPending,primeSubscribeFailed:this.state.primeSubFailed,handlePrimeSubscribe:this.handlePrimeSubscribe,resetPrimeSubscribe:this.resetPrimeSubscribe};return(0,a.jsx)(Mt.e,{show:n||!!l,transitionInitialMount:!0,type:Lt.ES.Fade,duration:Lt.Cf.Long,"data-test-selector":lp.Root,children:(0,a.jsxs)(r.P,{position:o.yX.Absolute,attachTop:!0,attachBottom:u,attachRight:!0,attachLeft:!0,overflow:o.nE.Hidden,display:o.nl.Flex,flexDirection:o.bo.Column,color:o.Q1.Overlay,className:"preview-overlay",children:[this.renderFocusHandler(),(0,a.jsx)(dp,(0,i.__assign)({toggleCollapse:this.toggleCollapse},g)),(0,a.jsx)(r.P,{position:o.yX.Relative,display:o.nl.Flex,flexDirection:o.bo.Column,justifyContent:o.A9.Center,alignItems:u?o.k2.Center:o.k2.Start,flexGrow:1,overflow:u?o.nE.Visible:o.nE.Hidden,children:(0,a.jsx)(Zc,(0,i.__assign)({previewUrl:this.getPreviewUrl(),spadeEventBaseData:this.spadeEventBaseData,description:m,cta:v,minTier:f,exemptionProductName:this.restrictionExemptionProductName()},g))})]})})},n.prototype.calculateSecondsRemaining=function(){if(this.props.accessExpiration&&this.props.isLoggedIn){var e=Date.now(),n=Math.trunc((1e3*this.props.accessExpiration-e)/1e3);if(!isNaN(n)&&n>0)return n}return 0},n.prototype.getPreviewUrl=function(){var e=this.user();return e&&e.stream&&e.stream.previewImageURL||""},n.prototype.hasTierRestriction=function(){return this.isRestrictedForTier2()||this.isRestrictedForTier3()},n.prototype.isRestrictedForTier2=function(){return this.props.restrictionOptions.includes(ie.y6l.ALLOW_TIER_2_AND_3_ONLY)},n.prototype.isRestrictedForTier3=function(){return this.props.restrictionOptions.includes(ie.y6l.ALLOW_TIER_3_ONLY)},n.prototype.restrictionTier=function(){return this.isRestrictedForTier3()?3:this.isRestrictedForTier2()?2:1},n.prototype.restrictionExemptionProductName=function(){var e=this.user();if(e&&e.subscriptionProducts){var n=e.subscriptionProducts,t="".concat(this.restrictionTier(),"000"),i=n.find((function(e){return e&&e.tier===t}));if(i)return i.name}return""},n.prototype.title=function(){var e=(0,a.jsx)(On.N,{type:At.M2.Strong,children:this.props.channelLoginDisplay});return this.hasTierRestriction()?(0,c.hw)("{channelLogin} is streaming for Tier {tier} subscribers.",{channelLogin:e,tier:this.restrictionTier()},"PreviewContentOverlay"):(0,c.hw)("{channelLogin} is streaming for subscribers",{channelLogin:e},"PreviewContentOverlay")},n.prototype.description=function(){var e=this.props.channelLoginDisplay;return e?this.hasTierRestriction()?(0,c.hw)("Subscribe Tier {tier} to watch and support {channelLogin}",{tier:this.restrictionTier(),channelLogin:e},"PreviewContentOverlay"):(0,c.hw)("Subscribe to watch and support {channelLogin}",{channelLogin:e},"PreviewContentOverlay"):null},n.prototype.cta=function(){var e=this.props.channelLoginDisplay;return e?this.hasTierRestriction()&&this.isSubscribed()?(0,c.hw)("Upgrade your Subscription","PreviewContentOverlay"):(0,c.hw)("Subscribe to {channelLogin}",{channelLogin:e},"PreviewContentOverlay"):null},n.prototype.isSubscribed=function(){var e=this.user();return!!(e&&e.self&&e.self.subscriptionBenefit&&e.self.subscriptionBenefit.id)},n.prototype.isPrimeSubscribable=function(){var e=this.user();return!!(e&&e.self&&e.self.canPrimeSubscribe)},n.prototype.shouldShowPrimeUpsell=function(){var e=this.user();return!!(e&&e.id&&this.props.currentUser&&this.props.currentUser.id)&&this.isPrimeSubscribable()&&this.restrictionTier()<2},n}(d.Component);var _p=(0,g.Zz)((0,It.o1)(),(0,P.dd)((function(e){var n=e.accessExpiration,t=e.volume,i=e.updateContext;return{accessExpiration:n,volume:t,updateContext:i}})),(0,x.cj)((function(e){var n=(0,V.hd)(e.content),t=!!(0,T.wk)({playerPublicPropsContext:e}).mini,i=(0,V.lI)(e.content);return{channelLogin:n,channelLoginDisplay:i&&i.parentChannelLogin||n,mini:t,onFocusPlayer:(0,T.zB)({playerPublicPropsContext:e}).onFocusPlayer}})),(0,E.AP)((function(e){var n=e.pause,t=e.setVolume;return{pause:n,setVolume:t}})),(0,De.c0)((function(e){var n=e.setShowControls;return{setShowControls:n}})),(0,Tt.In)((function(e){var n=e.active;return{active:n}})),(0,u.Ng)((function(e){return{isLoggedIn:(0,pn.M3)(e),currentUser:(0,pn.wz)(e)}})),(0,z._v)(cp(),{options:function(e){return{variables:{channel:e.channelLogin}}},skip:function(e){return!e.channelLogin}}),(0,z._v)(jc(),{name:"spendPrimeCredit"}))(Sp);var Cp=t(720799),bp=t.n(Cp),Pp=v.x.wrap((function(){return t.e(46880).then(t.bind(t,193536))}),"SubModal"),xp=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={restrictPlayback:!0},n.renderContentRestrictedOverlay=function(){return(0,a.jsx)(gn.rj,{iconProps:{type:hn.W.Icon,icon:dn.t.Lock},text:(0,c.hw)("Content Restricted","PremiumContentOverlay")})},n.setRestrictPlayback=function(e){n.setState({restrictPlayback:e})},n.showSubscriptionModal=function(){var e=n.props.parentChannelLogin||n.props.liveChannelLogin||"";n.props.showSubscriptionModal({channelLogin:e,subLocation:Lc.U2.PremiumContentOverlay})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.liveChannelLogin;return e?(0,a.jsx)(Ln,{skip:!this.state.restrictPlayback,restriction:vn.S.PremiumContent,children:this.renderContent()},e):null},n.prototype.renderContent=function(){var e=this;switch(this.restrictionType(this.props)){case ie.B2H.SUB_ONLY_LIVE:return(0,a.jsx)(_p,{restrictionOptions:this.restrictionOptions(this.props),setRestrictPlayback:this.setRestrictPlayback},this.props.channelLogin);case ie.B2H.ORGANIZATION_ACCESS_ONLY:return this.renderContentRestrictedOverlay();case ie.B2H.ALL_ACCESS_PASS:case ie.B2H.UNKNOWN:return(0,a.jsx)(gn.rj,{iconProps:{type:hn.W.Icon,icon:dn.t.Ticket},text:(0,c.hw)("Watch with All-Access Pass","PremiumContentOverlay"),children:function(n){return(0,a.jsx)(Wn.$n,{onClick:e.showSubscriptionModal,size:n?Wn.Mp.Small:Wn.Mp.Default,children:(0,c.hw)("Get the All-Access Pass","PremiumContentOverlay")})}});default:return this.props.data&&this.props.data.loading?null:this.renderContentRestrictedOverlay()}},n.prototype.restrictionType=function(e){return!!e.data&&!!e.data.user&&!!e.data.user.stream&&!!e.data.user.stream.restriction&&e.data.user.stream.restriction.type},n.prototype.restrictionOptions=function(e){return!!e.data&&!!e.data.user&&!!e.data.user.stream&&!!e.data.user.stream.restriction&&e.data.user.stream.restriction.options||[]},n}(d.Component);var Ep=(0,z._v)(bp(),{options:function(e){return{variables:{channel:e.liveChannelLogin}}},skip:function(e){return!e.liveChannelLogin}}),Ap=(0,g.Zz)(jn("PremiumContentOverlay",vn.S.PremiumContent),(0,u.Ng)(null,(function(e){return(0,g.zH)({showSubscriptionModal:function(e){var n=(0,i.__rest)(e,[]);return(0,Ud.to)(Pp,n)}},e)})),(0,x.cj)((function(e){var n=e.content;return{channelLogin:(0,V.hd)(n),liveChannelLogin:(0,V.jp)(n),parentChannelLogin:(0,V.NM)(n)}})),Ep)(xp);var Np=t(237103),wp=t(505074),Tp=t(471872),Ip=t(833246),Dp=t(686751),Op=t(232290),Fp="AdBlock",Rp="Turbo",Mp="Support",Lp=(0,g.Zz)((0,k.VX)(),(0,Op.A)())((function(e){var n,t=e.trackAdFormatData,i=d.useContext(x.kl),s=(0,V.hd)(i.content),l=(0,Xe.If)(),u=(0,d.useRef)(!1),p=(0,d.useRef)(null),m=d.useContext(k.jK),v=m.updateLastSDAAdRequestBlocked,f=m.updateSDAHiddenState,g=m.isSDAContainerHidden,h=m.lastSDAAdRequestBlocked,y=d.useCallback((function(){switch(!0){case h&&!g:return"2";case g&&!h:return"3";default:return"0"}}),[g,h]),S=(0,Tp.r)("nabe_experiment");switch((0,Ze.S)((function(){var e=setTimeout((function(){u.current||t("nab_impression",{nab_value:y(),client_country_code:l})}),100);return function(){return clearTimeout(e)}})),d.useLayoutEffect((function(){var e=p.current,n=!1;if(e){var i=e.offsetHeight,a=e.offsetWidth,r=e.offsetLeft,o=e.offsetTop,s=e.clientHeight,d=e.clientWidth;n=0===i&&0===a&&0===r&&0===o&&0===s&&0===d}e&&!n||(u.current=!0,t("nab_detection",{nab_value:"4",client_country_code:l}))}),[]),S){case"support_1":case"support_2":n=Mp;break;case"turbo_1":case"turbo_2":case"turbo_4":n=Rp;break;case"help_2":case"help_4":n=Fp;break;default:return null}var _,C=(0,c.hw)("this channel","SDANudgeOverlay"),b=(0,c.hw)("Support {channelName} by disabling ad block",{channelName:null!=s?s:C},"SDANudgeOverlay"),P=(0,c.hw)("Streamers make money when viewers watch ads or purchase Twitch Turbo to go ad-free","SDANudgeOverlay"),E=(0,c.hw)("Wait you're running ad block?","SDANudgeOverlay"),A=(0,c.hw)("Support {channelName}'s earnings by turning off ad block.",{channelName:null!=s?s:C},"SDANudgeOverlay"),N=(0,c.hw)("Running ad block? Consider Turbo.","SDANudgeOverlay"),w=(0,c.hw)("Twitch Turbo enables ad-free viewing while still supporting streamers.","SDANudgeOverlay"),T={name:"allow",text:(0,c.hw)("Allow Twitch Ads","SDANudgeOverlay"),link:"https://help.twitch.tv/s/article/how-to-allow-ads-browser"},I={name:"turbo",text:(0,c.hw)("Try Turbo","SDANudgeOverlay"),link:"https://www.twitch.tv/turbo"},D={name:"return",text:(0,c.hw)("Return to stream","SDANudgeOverlay"),link:""};if(n===Fp)_={title:E,description:A,leftCta:D,rightCta:T,icon:{id:"58765",token:"notlikethis"}};else if(n===Rp)_={title:N,description:w,leftCta:D,rightCta:I};else{if(n!==Mp)return null;_={title:b,description:P,leftCta:T,rightCta:I}}var O=function(e){t("nab_click",{nab_value:y(),nab_cta:e,client_country_code:l}),v(!1),f(!1)};return(0,a.jsx)(Rn.FT,{type:Rn.NL.Fullscreen,transparency:Rn.xL.Transparency3,children:(0,a.jsxs)(r.P,{ref:function(e){p.current=e},position:o.yX.Relative,maxWidth:"60rem",children:[n===Mp&&(0,a.jsx)(r.P,{display:o.nl.Flex,padding:{left:1},justifyContent:"flex-end",children:(0,a.jsx)(Np.G,{"aria-label":D.text,onClick:function(){O(D.name)},size:"default",variant:"primary"})}),(0,a.jsxs)(r.P,{display:o.nl.Flex,children:[(0,a.jsx)(On.N,{fontSize:o.Z4.Size2,color:o.Q1.Overlay,fontWeight:o.IT.SemiBold,children:_.title}),!!_.icon&&(0,a.jsx)(r.P,{height:"54px",width:"54px",display:"flex",alignItems:"center",justifyContent:"center",padding:{left:1},children:(0,a.jsx)(_n.S,{maxHeight:"100%",children:(0,a.jsx)(Ip.B,{emote:_.icon,size:Dp.G.MEDIUM})})})]}),(0,a.jsx)(On.N,{fontSize:o.Z4.Size3,color:o.Q1.Overlay,style:{paddingTop:"0.5rem"},children:_.description}),(0,a.jsxs)(r.P,{display:o.nl.Flex,position:o.yX.Absolute,attachRight:!0,padding:{top:2},children:[(0,a.jsx)(Tc.M2,{variant:Tc.sK.Secondary,size:Tc.dN.Default,"aria-label":_.leftCta.text,linkTo:_.leftCta.link,targetBlank:!0,onClick:function(){O(_.leftCta.name)},overlay:!0,children:(0,a.jsx)(wp._,{children:_.leftCta.text})}),(0,a.jsx)(r.P,{padding:{left:1},children:(0,a.jsx)(Tc.M2,{variant:Tc.sK.Primary,size:Tc.dN.Default,"aria-label":_.rightCta.text,linkTo:_.rightCta.link,targetBlank:!0,onClick:function(){O(_.rightCta.name)},overlay:!0,children:(0,a.jsx)(wp._,{children:_.rightCta.text})})})]})]})})})),Vp=t(352046),jp=t.n(Vp),Bp=v.x.wrap((function(){return t.e(46880).then(t.bind(t,193536))}),"SubModal"),Up=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.refreshPage=function(){window.location.reload()},n.showSubscriptionModal=function(){var e=n.videoOwner(n.props);e&&e.login&&n.props.showSubscriptionModal({channelLogin:e.login,subLocation:Lc.U2.SubscriberVODOverlay})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return!this.props.data||this.props.data.loading?(0,a.jsx)(ps.p8,{}):(0,a.jsx)(Ln,{restriction:vn.S.SubscriberVOD,children:this.renderContent()})},n.prototype.renderContent=function(){var e=this,n=this.videoOwner(this.props);return n&&n.displayName&&n.profileImageURL&&n.login?(0,a.jsx)(gn.rj,{iconProps:{type:hn.W.Avatar,src:n.profileImageURL,alt:n.displayName,login:n.login},text:(0,c.hw)("This video is only available to subscribers. Sub now to watch and support {displayName}.",{displayName:n.displayName},"SubscriberVODOverlay"),children:function(n){return(0,a.jsx)(Wn.$n,{onClick:e.showSubscriptionModal,size:n?Wn.Mp.Small:Wn.Mp.Default,children:(0,c.hw)("Subscribe","SubscriberVODOverlay")})}}):(0,a.jsx)(gn.rj,{iconProps:{type:hn.W.Empty},text:(0,c.hw)("This exclusive subscriber content didn't load properly. Please refresh and try again.","SubscriberVODOverlay"),children:function(n){return(0,a.jsx)(Wn.$n,{onClick:e.refreshPage,size:n?Wn.Mp.Small:Wn.Mp.Default,children:(0,c.hw)("Refresh","SubscriberVODOverlay")})}})},n.prototype.videoOwner=function(e){return!!e.data&&!!e.data.video&&e.data.video.owner},n}(d.Component);var Gp=(0,z._v)(jp(),{options:function(e){var n;return{variables:{videoID:null!==(n=e.vodID)&&void 0!==n?n:""}}},skip:function(e){return!e.vodID}}),zp=(0,g.Zz)(jn("SubscriberVODOverlay",vn.S.SubscriberVOD),(0,u.Ng)(null,(function(e){return(0,g.zH)({showSubscriptionModal:function(e){var n=(0,i.__rest)(e,[]);return(0,Ud.to)(Bp,n)}},e)})),(0,x.cj)((function(e){var n=e.content;return{vodID:(0,V.hq)(n)}})),Gp)(Up);var qp=function(e){var n=e.playerContext;return(0,ye.k1)(n,vn.S.PremiumContent)||null!==n.accessExpiration&&void 0!==n.accessExpiration},Hp=function(e){var n=e.playerContext,t=(0,T.wk)(e),i=t.forceControlVisibility;return!(t.mini||n.isPlayerCoreLoading||(0,ye.k1)({restrictions:n.restrictions})||i===Oe.Ie.Hidden)},Wp=t(177123),Kp=t(176472),Zp=t.n(Kp),Xp=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onMouseOver=function(){n.timeout=setTimeout(n.props.showCollectionSidebar,250)},n.onMouseOut=function(){clearTimeout(n.timeout)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e,n=this.props,t=n.data,i=n.isCollectionContent,r=n.isCollectionSidebarShowing,s=n.vodID,l=t&&t.collection;if(!i||!l||r)return null;var d=l&&l.title,u=l.items.totalCount,p=l.items&&l.items.edges&&l.items.edges.map((function(e){return e&&e.node})).filter((function(e){return null!==e})),m=null!=s?s:null===(e=p[0])||void 0===e?void 0:e.id,v=1+p.findIndex((function(e){return!!e&&e.id===m}));return(0,a.jsxs)(jt.M,{className:"collection-top-bar",onMouseEnter:this.onMouseOver,onMouseLeave:this.onMouseOut,children:[(0,a.jsxs)(On.N,{className:"collection-top-bar-text",fontSize:o.Z4.Size4,type:At.M2.Span,children:[(0,a.jsx)(On.N,{className:"collection-top-bar-icon",type:At.M2.Span,children:(0,a.jsx)(Wp.T,{})}),"",d]}),(0,a.jsxs)(On.N,{className:"collection-top-bar-text",fontSize:o.Z4.Size5,type:At.M2.Span,children:["",(0,c.hw)("{totalVideos, plural, one {{currentPosition}/# video} other {{currentPosition}/# videos}}",{currentPosition:v,totalVideos:u},"CollectionTopBar")]})]})},n}(d.Component),Qp=(0,g.Zz)((0,x.cj)((function(e){var n=e.content;return{collectionID:(0,V.Eq)(n),isCollectionContent:(0,V.P3)(n),vodID:(0,V.hq)(n)}})),(0,De.c0)((function(e){var n=e.isCollectionSidebarShowing,t=e.showCollectionSidebar;return{isCollectionSidebarShowing:n,showCollectionSidebar:t}})),(0,z._v)(Zp(),{skip:function(e){return!e.isCollectionContent||!e.collectionID},options:function(e){return{variables:{collectionID:e.isCollectionContent&&e.collectionID?e.collectionID:""}}}}))(Xp);var Yp,$p=function(){return(0,c.hw)("Close this stream","StreamCloseButton")},Jp=function(){var e=(0,d.useContext)(x.kl),n=(0,V.hd)(e.content),t=(0,T.wk)({playerPublicPropsContext:e}).enableRemoveStream,i=(0,T.zB)({playerPublicPropsContext:e}).removeStream,r=(0,d.useCallback)((function(){n&&i&&i(n)}),[n,i]);return(0,d.useMemo)((function(){return i&&t?(0,a.jsx)(Cn.a2,{"aria-label":$p(),overlay:!0,icon:bn.g,onClick:r}):null}),[t,r,i])},em=t(955413),nm=t(552153),tm=function(){var e=(0,d.useContext)(x.kl),n=(0,V.hd)(e.content),t=(0,T.wk)({playerPublicPropsContext:e}).showGlyphInOverlay,i=(0,T.zB)({playerPublicPropsContext:e}).removeStream,s=(0,d.useCallback)((function(){n&&i&&i(n)}),[n,i]);return(0,d.useMemo)((function(){if(!t)return null;var e=(0,a.jsx)(em.f,{fillColor:"brand",height:30,width:28});return i?(0,a.jsx)(jt.M,{"aria-label":$p(),onClick:s,children:(0,a.jsxs)(r.P,{display:o.nl.Flex,gap:.5,color:o.Q1.Overlay,children:[(0,a.jsx)(nm.N,{fillColor:"inherit"}),e]})}):e}),[s,i,t])},im=t(979205),am=t(990768),rm=t(360432),om=t(290033),sm=t(440627),lm=function(e){return(0,a.jsx)(Sn.e,{theme:"dark",children:(0,a.jsx)(r.P,{display:o.nl.Flex,children:e.tags.map((function(n){return(0,a.jsx)(r.P,{padding:{right:.5},children:(0,a.jsx)(sm.vw,{linkTo:(0,Ds.V)({content:"tag",medium:"embed"},(t=n.id,"https://www.twitch.tv/directory/all/tags/".concat(t))),label:n.localizedName,targetBlank:e.openLinksExternally,onClick:e.onClick})},n.id);var t}))})})};!function(e){e.Description="stream-info-card-component__description",e.StreamAvatar="stream-info-card-component__stream-avatar",e.StreamAvatarLink="stream-info-card-component__stream-avatar-link",e.Subtitle="stream-info-card-component__subtitle",e.Title="stream-info-card-component__title",e.TitleLink="stream-info-card-component__title-link"}(Yp||(Yp={}));var dm=(0,g.Zz)((0,E.AP)((function(e){var n=e.pause;return{pause:n}})))((function(e){var n=null,t=function(){var n;e.openLinksExternally&&e.pause(),null===(n=e.onLinkClick)||void 0===n||n.call(e)};e.title&&(e.titleTo&&(n=(0,a.jsx)(Pa.Cb,{linkTo:(0,Ds.V)({content:"channel_name",medium:e.isEmbedded?"embed":void 0},e.titleTo),variant:Pa.KD.Overlay,"data-test-selector":Yp.TitleLink,targetBlank:e.openLinksExternally,onClick:t,underline:!1,children:e.title})),n=(0,a.jsx)(On.N,{bold:!0,fontSize:o.Z4.Size4,"data-a-target":"player-info-title","data-test-selector":Yp.Title,color:o.Q1.Overlay,children:n||e.title}));var i=null;return e.imageURL&&(i=(0,a.jsx)(am.e,{src:e.imageURL,size:64,alt:(0,c.hw)("Stream Avatar","StreamInfoOverlay"),"data-a-target":"player-info-avatar","data-test-selector":Yp.StreamAvatar,userLogin:e.login||""})),e.imageTo&&(i=(0,a.jsx)(Pa.Cb,{targetBlank:e.openLinksExternally,variant:Pa.KD.Overlay,linkTo:e.imageTo||void 0,onClick:t,"data-test-selector":Yp.StreamAvatarLink,underline:!1,children:i})),(0,a.jsx)(rm.Z,{row:!0,children:(0,a.jsxs)(r.P,{display:o.nl.Flex,alignItems:o.k2.Start,className:"stream-info-card",children:[(0,a.jsx)(r.P,{className:"stream-info-card__image",children:i}),e.title||e.subtitle||e.description||e.tags?(0,a.jsx)(om.b,{children:(0,a.jsxs)(r.P,{className:"stream-info-card__body",padding:{left:i?1:0},display:o.nl.Flex,flexDirection:o.bo.Column,alignItems:o.k2.Start,children:[(0,a.jsxs)(r.P,{display:o.nl.Flex,gap:.5,children:[n,e.guestStarContent]}),e.subtitle&&(0,a.jsx)(On.N,{fontSize:o.Z4.Size5,color:o.Q1.Overlay,"data-test-selector":Yp.Subtitle,children:e.subtitle}),e.description&&(0,a.jsx)(On.N,{fontSize:o.Z4.Size5,color:o.Q1.Overlay,"data-test-selector":Yp.Description,children:e.description}),e.tags&&(0,a.jsx)(lm,{tags:e.tags,openLinksExternally:e.openLinksExternally,onClick:e.onLinkClick})]})}):null]})})}));var um=t(956215),cm=t(134117),pm=v.x.wrap((function(){return Promise.all([t.e(21050),t.e(55152),t.e(98922),t.e(64498),t.e(14954),t.e(57013),t.e(47232)]).then(t.bind(t,505e3))}),"SubscribeButton"),mm=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.openTwitchPage=function(){window.open((0,V.L$)(n.props.content,{tt_content:"embed_social_panel",tt_medium:"embed"},n.props.mediaPlayerInstance),"_blank")},n}return(0,i.__extends)(n,e),n.prototype.render=function(){if(void 0===this.props.type)return null;var e=this.props.login||null;return(0,a.jsx)(r.P,{className:"stream-info-social-panel","data-a-target":"player-stream-info-social-panel",display:o.nl.InlineBlock,padding:.5,margin:this.props.margin,background:o.VS.Overlay,children:(0,a.jsxs)(r.P,{display:o.nl.Flex,children:[this.props.profileImageUrl&&(0,a.jsx)(am.e,{src:this.props.profileImageUrl,alt:this.props.displayName||"",userLogin:this.props.login||"",size:30}),(0,a.jsx)(r.P,{margin:{left:.5},children:e&&this.renderFirstButton(e)}),(0,a.jsx)(r.P,{margin:{left:.5},children:(0,a.jsx)(pm,{channelLogin:e,subLocation:this.props.subLocation,subscribedButtonType:Wn.VQ.Primary,unsubscribedButtonType:Wn.VQ.Primary,hideDropdownArrow:!0,forceIcon:!0,useSubsLandingPage:this.props.isEmbedded})})]})})},n.prototype.renderFirstButton=function(e){var n=(0,c.hw)("Watch on Twitch","VideoPlayerStreamInfoSocalPanel");return this.props.type===Oe._w.FollowAndSub||this.props.type===Oe._w.FollowAndSubVerbose?(0,a.jsx)(um.W,{hideDropdownWhenFollowing:!0,channelLogin:e,followUIType:cm.y.IconAndText,unfollowUIType:cm.y.IconOnly,showLoadingPlaceholder:!0,fullWidthButton:!0,showTooltips:!0}):this.props.type===Oe._w.WatchAndSub?(0,a.jsx)(Wn.$n,{onClick:this.openTwitchPage,targetBlank:!0,variant:Wn.VQ.Primary,children:n}):void 0},n}(d.Component);var vm=(0,g.Zz)((0,P.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,x.cj)((function(e){return{content:e.content}})))(mm),fm=t(747066),gm=t.n(fm),hm=t(220039),ym=t.n(hm),km=t(35836),Sm=t.n(km),_m=t(520719),Cm=t(329399);function bm(e){var n=e.gameDisplayName,t=e.gameName,i=e.gameSlug,r=e.viewerCount,o=e.openLinksExternally,s=e.onLinkClick,l=n||t,d=function(e){return(0,a.jsx)(Pa.Cb,{"data-a-target":"player-info-game-name",variant:Pa.KD.Overlay,linkTo:(0,Ds.V)({content:"game_name",medium:"embed"},(n=i,t=!o,"".concat(t?"":"https://www.twitch.tv").concat((0,Ko._4)({slug:n})))),targetBlank:o,onClick:s,underline:!1,children:e});var n,t};return l&&"number"==typeof r?(0,c.hw)("{viewerCount, plural,       one {Playing <x:link>{game}</x:link> for # viewer}       other {Playing <x:link>{game}</x:link> for # viewers}}",{game:l,viewerCount:r,"x:link":d},"StreamInfoOverlay"):l?(0,c.hw)("Playing <x:link>{game}</x:link>",{game:l,"x:link":d},"StreamInfoOverlay"):"number"==typeof r?(0,c.hw)("{viewerCount, plural,       one {Streaming for # viewer}       other {Streaming for # viewers}}",{viewerCount:r},"StreamInfoOverlay"):null}function Pm(e){var n=e.displayName,t=e.game,i=e.login,o=e.openLinksExternally,s=e.isEmbedded,l=e.isPartner;if(!i||!n)return null;var d=l?(0,a.jsxs)(a.Fragment,{children:[n,(0,a.jsx)(r.P,{display:"inline-flex",margin:{left:"0.2rem"},alignItems:"center",children:(0,a.jsx)(_m.l,{size:12,"aria-label":(0,c.hw)("Verified Partner","ClipInfoOverlay"),fillColor:"brand"})})]}):n;return t?(0,c.hw)("<x:login-link>{displayName}</x:login-link> playing <x:game-link>{game}</x:game-link>",{game:t.displayName||t.name,displayName:d,"x:login-link":function(e){return(0,a.jsx)(Pa.Cb,{variant:Pa.KD.Overlay,linkTo:Em(i,s),targetBlank:o,children:e})},"x:game-link":function(e){return(0,a.jsx)(Pa.Cb,{variant:Pa.KD.Overlay,linkTo:Am(t,s),targetBlank:o,children:e})}},"StreamInfoOverlay"):(0,a.jsx)(Pa.Cb,{variant:Pa.KD.Overlay,linkTo:Em(i,s),targetBlank:o,underline:!1,children:d})}function xm(e){return null===e?null:(0,c.hw)("{viewCount} views",{viewCount:(0,c.ZV)(e)},"StreamInfoOverlay")}function Em(e,n){var t=n?"embed":"clips_web",i=te.stringify({tt_content:"player_channel_name",tt_medium:t});return"https://www.twitch.tv/".concat(e,"/clips?").concat(i)}function Am(e,n){var t=n?"embed":"clips_web",i=te.stringify({tt_content:"player_game",tt_medium:t});return"https://www.twitch.tv".concat((0,Ko._4)(e,{section:"clips"}),"?").concat(i)}function Nm(e,n){var t=n?"embed":"clips_web",i=te.stringify({tt_content:"player_title",tt_medium:t});return"https://clips.twitch.tv/".concat(e,"?").concat(i)}var wm,Tm=v.x.wrap((function(){return Promise.all([t.e(14399),t.e(75373),t.e(89357)]).then(t.bind(t,192090))}),"GuestStarRTJChannelContent",{placeholder:null});!function(e){e.StreamInfoSocialPanelUpper="stream-info-social-panel__upper",e.StreamInfoSocialPanelLower="stream-info-social-panel__lower"}(wm||(wm={}));var Im=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.updateUIContext()},n.prototype.componentDidUpdate=function(){this.updateUIContext()},n.prototype.componentWillUnmount=function(){this.updateUIContext(!1)},n.prototype.render=function(){var e,n,t,o,s,l;if(!Om(this.props)||!Fm(this.props))return null;var d=this.props,u=d.content,p=d.theatreModeEnabled,m=d.disableStreamInfoChannelLinks,v=d.disableStreamInfoDescription,f=d.disableStreamInfoImage,g=d.disableStreamInfoSubtitle,h=d.disableStreamInfoTags,y=d.disableStreamInfoTitle,k=d.openLinksExternally,S=d.isEmbedded,_=d.socialPanelType,C=d.channelData,b=d.clipData,P=d.vodData,x=d.isFullscreen,E=d.exitFullscreen,A=d.onChannelWatch,N=!k&&x?E:void 0,w=(0,V.lI)(u),T=null,I={};C?(I=function(e,n){var t,o,s,l,d,u,p,m,v,f,g,h,y,k,S,_,C,b,P,x;void 0===n&&(n={});var E=n.multiviewProps,A=n.openLinksExternally,N=n.onLinkClick,w=null===(s=null===(o=null===(t=e.user)||void 0===t?void 0:t.broadcastSettings)||void 0===o?void 0:o.game)||void 0===s?void 0:s.displayName,T=null===(u=null===(d=null===(l=e.user)||void 0===l?void 0:l.broadcastSettings)||void 0===d?void 0:d.game)||void 0===u?void 0:u.name,I=null===(v=null===(m=null===(p=e.user)||void 0===p?void 0:p.broadcastSettings)||void 0===m?void 0:m.game)||void 0===v?void 0:v.slug,D=null===(g=null===(f=e.user)||void 0===f?void 0:f.stream)||void 0===g?void 0:g.viewersCount,O=null===(y=null===(h=e.user)||void 0===h?void 0:h.broadcastSettings)||void 0===y?void 0:y.title,F=E&&E.titleOverride||(null===(k=e.user)||void 0===k?void 0:k.displayName),R=null!==(_=null===(S=e.user)||void 0===S?void 0:S.profileURL)&&void 0!==_?_:void 0;!(null===(C=e.user)||void 0===C?void 0:C.login)||R&&A||(R={pathname:(0,er.VV)("/".concat(e.user.login)),state:(0,i.__assign)((0,i.__assign)({},c.x2.router.state.location.state),{channelView:n.onChannelWatch&&(n.theatreModeEnabled||n.isFullscreen)?Cm.n.Home:Cm.n.None})});var M=E&&E.logoOverride||(null===(b=e.user)||void 0===b?void 0:b.profileImageURL),L=e.user&&e.user.stream&&e.user.stream.tags;return{description:bm({gameDisplayName:w,gameName:T,gameSlug:I,viewerCount:D,openLinksExternally:A,onLinkClick:N}),subtitle:O,title:(0,a.jsxs)(a.Fragment,{children:[F,!!(null===(x=null===(P=e.user)||void 0===P?void 0:P.roles)||void 0===x?void 0:x.isPartner)&&(0,a.jsx)(r.P,{display:"inline-flex",margin:{left:"0.2rem"},alignItems:"center",children:(0,a.jsx)(_m.l,{size:16,"aria-label":(0,c.hw)("Verified Partner","StreamInfoOverlay"),fillColor:"brand"})})]}),titleTo:R,imageURL:M,imageTo:R,tags:L}}(C,{multiviewProps:w,openLinksExternally:k,theatreModeEnabled:p,onChannelWatch:A,isFullscreen:x,onLinkClick:N}),T=(null==C?void 0:C.user)||null):b?(I=function(e,n){var t,i,a,r,o,s;void 0===n&&(n={});var l=n.openLinksExternally,d=n.isEmbedded,u=e.clip&&e.clip.broadcaster&&e.clip.broadcaster.displayName,c=e.clip&&e.clip.broadcaster&&e.clip.broadcaster.login,p=e.clip&&e.clip.slug,m=e.clip&&e.clip.title,v=e.clip&&e.clip.viewCount,f=e.clip&&e.clip.broadcaster&&e.clip.broadcaster.profileURL,g=e.clip&&e.clip.broadcaster&&e.clip.broadcaster.profileImageURL;return{subtitle:Pm({displayName:u,game:null!==(i=null===(t=e.clip)||void 0===t?void 0:t.game)&&void 0!==i?i:null,login:c,openLinksExternally:l,isEmbedded:d,isPartner:null!==(s=null===(o=null===(r=null===(a=e.clip)||void 0===a?void 0:a.broadcaster)||void 0===r?void 0:r.roles)||void 0===o?void 0:o.isPartner)&&void 0!==s?s:void 0}),title:m,titleTo:p&&Nm(p,d),description:xm(v),imageURL:g,imageTo:f}}(b,{openLinksExternally:k,isEmbedded:S}),T=(null===(e=null==b?void 0:b.clip)||void 0===e?void 0:e.broadcaster)||null):P&&(I=function(e,n){var t,i,o;void 0===n&&(n={});var s,l,d=e&&e.video&&e.video.owner&&e.video.owner.displayName,u=e&&e.video&&e.video.owner&&e.video.owner.profileImageURL,p=e&&e.video&&e.video.contentTags,m=e&&e.video&&e.video.title,v=e&&e.video&&e.video.id,f=v&&(s=v,l=!n.openLinksExternally,"".concat(l?"":"https://www.twitch.tv","/videos/").concat(s));return{subtitle:m,title:(0,a.jsxs)(a.Fragment,{children:[d,!!(null===(o=null===(i=null===(t=e.video)||void 0===t?void 0:t.owner)||void 0===i?void 0:i.roles)||void 0===o?void 0:o.isPartner)&&(0,a.jsx)(r.P,{display:"inline-flex",margin:{left:"0.2rem"},alignItems:"center",children:(0,a.jsx)(_m.l,{size:16,"aria-label":(0,c.hw)("Verified Partner","VodInfoOverlay"),fillColor:"brand"})})]}),titleTo:f,imageURL:u,imageTo:f,tags:p}}(P,{openLinksExternally:k}),T=(null===(n=null==P?void 0:P.video)||void 0===n?void 0:n.owner)||null);var D=null==T?void 0:T.displayName,O=null==T?void 0:T.profileImageURL,F=null==T?void 0:T.login,R=!!(0,V.eT)(u),M={type:_,displayName:w&&w.titleOverride||D,profileImageUrl:w&&w.logoOverride||O,login:F,subLocation:R?Lc.U2.SquadPage:Lc.U2.ChannelPage,isEmbedded:S};return(0,a.jsxs)(a.Fragment,{children:[this.props.socialPanelPosition===Oe.vM.AboveStreamInfo&&(0,a.jsx)(vm,(0,i.__assign)({},M,{"data-test-selector":wm.StreamInfoSocialPanelUpper})),(0,a.jsx)(dm,{description:v?void 0:I.description,subtitle:g?void 0:I.subtitle,title:y?void 0:I.title,guestStarContent:y?null:(0,a.jsx)(Tm,{channelLogin:null===(o=null===(t=this.props.channelData)||void 0===t?void 0:t.user)||void 0===o?void 0:o.login,channelID:null===(l=null===(s=this.props.channelData)||void 0===s?void 0:s.user)||void 0===l?void 0:l.id,isLive:(0,V.DG)(this.props.content)||!1}),titleTo:y||m?void 0:I.titleTo,imageURL:f?void 0:I.imageURL,imageTo:f||m?void 0:I.imageTo,isEmbedded:S,tags:h?void 0:I.tags,openLinksExternally:k,onLinkClick:N}),this.props.socialPanelPosition===Oe.vM.BelowStreamInfo&&(0,a.jsx)(vm,(0,i.__assign)({},M,{margin:{top:1},"data-test-selector":wm.StreamInfoSocialPanelLower}))]})},n.prototype.updateUIContext=function(e){if(void 0===e){var n=Om(this.props)&&Fm(this.props);this.props.streamInfoShowing!==n&&this.props.setStreamInfoShowing(n)}else this.props.setStreamInfoShowing(e)},n}(d.Component),Dm=(0,g.Zz)((0,u.Ng)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled,onChannelWatch:e.ui.onChannelWatch}})),(0,De.c0)((function(e){var n=e.isFullscreen,t=e.exitFullscreen,i=e.isCollectionSidebarShowing,a=e.streamInfoShowing,r=e.setStreamInfoShowing;return{exitFullscreen:t,isFullscreen:n,streamInfoShowing:a,setStreamInfoShowing:r,isCollectionSidebarShowing:i}})),(0,x.cj)((function(e){var n=(0,T.wk)({playerPublicPropsContext:e}),t=n.showChannelInfoOnHover,i=n.disableStreamInfoChannelLinks,a=n.disableStreamInfoDescription,r=n.disableStreamInfoImage,o=n.disableStreamInfoSubtitle,s=n.disableStreamInfoTags,l=n.disableStreamInfoTitle,d=n.includePrivateVODs,u=n.openStreamInfoLinksExternally,c=n.socialPanelType,p=n.socialPanelPosition,m=n.embed;return{content:e.content,showChannelInfoOnHover:t,disableStreamInfoDescription:a,disableStreamInfoImage:r,disableStreamInfoSubtitle:o,disableStreamInfoTags:s,disableStreamInfoTitle:l,disableStreamInfoChannelLinks:i,includePrivateVODs:d,isEmbedded:m,openLinksExternally:u,socialPanelType:c,socialPanelPosition:p}})),(0,z._v)(gm(),{name:"channelData",skip:function(e){return!(0,V.DG)(e.content)||!(0,V.hd)(e.content)||!Om(e)},options:function(e){return{variables:{channel:(0,V.hd)(e.content)}}}}),(0,z._v)(ym(),{name:"clipData",skip:function(e){return!(0,V.Qc)(e.content)||!Om(e)},options:function(e){var n;return{variables:{slug:null!==(n=(0,V.Qc)(e.content))&&void 0!==n?n:""}}}}),(0,z._v)(Sm(),{name:"vodData",skip:function(e){return!(0,V.hq)(e.content)||!Om(e)},options:function(e){return{variables:{videoID:(0,V.hq)(e.content)}}}}),(0,To.n)((function(e){return{query:gm(),skip:!e.channelData||e.channelData.loading||!e.channelData.user||!e.channelData.user.id,variables:{channel:(0,V.hd)(e.content)},topic:e.channelData&&e.channelData.user&&e.channelData.user.id?(0,cn.RW)(e.channelData.user.id):"",type:Ka.PD.ViewCount,mutator:function(e,n){return n.user&&n.user.stream?qa()(n,(function(e){return e.user.stream.viewersCount}),(function(){return e.viewers})):n}}})),(0,To.n)((function(e){return{query:gm(),skip:!e.channelData||e.channelData.loading||!e.channelData.user||!e.channelData.user.id,variables:{channel:(0,V.hd)(e.content)},topic:e.channelData&&e.channelData.user&&e.channelData.user.id?(0,cn.Fz)(e.channelData.user.id):"",type:Ka.PD.BroadcastSettingsUpdate,mutator:function(e,n){var t,a=(0,im.v)(e),r=a.gameID,o=a.gameName,s=a.missingGameInfo,l=a.updatingToNullGame;return(null===(t=n.user)||void 0===t?void 0:t.broadcastSettings)&&e&&!s?qa()(n,(function(e){return e.user.broadcastSettings}),(function(n){var t;return(0,i.__assign)((0,i.__assign)({},n),{title:null!==(t=e.status)&&void 0!==t?t:"",game:l||null===r||null===o?null:{__typename:"Game",id:r,name:o,displayName:o}})})):n}}})))(Im);function Om(e){return!e.isCollectionSidebarShowing&&(e.showChannelInfoOnHover||e.isFullscreen||e.theatreModeEnabled)}function Fm(e){return function(e){var n=e.channelData;return!(!n||n.error||n.loading)}(e)||function(e){var n=e.clipData;return!(!n||n.error||n.loading)}(e)||function(e){var n=e.vodData;return!(!n||n.error||n.loading)}(e)}var Rm=t(777952),Mm=t(532083),Lm=v.x.wrap((function(){return Promise.all([t.e(21050),t.e(55152),t.e(98922),t.e(64498),t.e(14954),t.e(57013),t.e(47232)]).then(t.bind(t,505e3))}),"SubscribeButton"),Vm=function(e){var n=e.channelLogin||null;return e.firstPageLoaded&&e.theatreModeEnabled&&!e.isFullscreen&&!!e.channelLogin&&e.isLiveContent&&!e.hasEnded?(0,a.jsxs)(r.P,{className:"theatre-social-panel",display:o.nl.Flex,flexWrap:o.I4.NoWrap,justifyContent:o.A9.Between,padding:{x:1},children:[(0,a.jsx)(r.P,{margin:{right:1},children:(0,a.jsx)(um.W,{channelLogin:n,followUIType:cm.y.IconAndText,unfollowUIType:cm.y.IconOnly,hideDropdownWhenFollowing:!0,showTooltips:!0,followContentType:jm(e.contentType,e.isHostingWatchParty)})}),(0,a.jsx)(r.P,{children:(0,a.jsx)(Lm,{channelLogin:n,subLocation:Lc.U2.TheatreMode,subscribedButtonType:Wn.VQ.Primary,unsubscribedButtonType:Wn.VQ.Primary,forceIcon:!0,isLive:e.isLiveContent})})]}):null};function jm(e,n){if(n)return Rm.cM.WatchParty;switch(e){case K.FC.VOD:return Rm.cM.VOD;case K.FC.Clip:return Rm.cM.Clip;default:return Rm.cM.Live}}var Bm=(0,g.Zz)((0,u.Ng)((function(e){return{firstPageLoaded:e.session.firstPageLoaded,isLoggedIn:(0,pn.M3)(e),theatreModeEnabled:e.ui.theatreModeEnabled}})),(0,P.dd)((function(e){return{hasEnded:(0,ye.pl)(e)}})),(0,x.cj)((function(e){var n=e.content;return{channelLogin:(0,V.hd)(n),isLiveContent:(0,V.DG)(n),contentType:n.type}})),(0,De.c0)((function(e){return{isFullscreen:e.isFullscreen}})))((function(e){var n=(0,Mm.E)(e.channelLogin||"").isHostingWatchParty;return(0,a.jsx)(Vm,(0,i.__assign)({},e,{isHostingWatchParty:n}))})),Um=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e;return!((e=this.props).disableStatusOverlay||e.recommendationsShowing||e.isAdShowing||e.isOffline)&&(0,a.jsx)(Mt.e,{type:Lt.ES.Fade,show:this.props.shouldShow,alwaysRenderChild:!0,children:(0,a.jsxs)(r.P,{attachTop:!0,attachLeft:!0,attachRight:!0,flexGrow:1,className:"top-bar",display:o.nl.Flex,position:o.yX.Absolute,justifyContent:o.A9.Between,children:[(0,a.jsxs)(r.P,{children:[(0,a.jsxs)(r.P,{className:"top-bar--pointer-enabled",children:[(0,a.jsx)(tm,{}),(0,a.jsx)(Qp,{})]}),(0,a.jsx)(Dm,{})]}),(0,a.jsx)(r.P,{display:o.nl.Flex,alignItems:o.k2.Start,children:(0,a.jsxs)(r.P,{display:o.nl.Flex,alignItems:o.k2.Center,className:"top-bar--pointer-enabled",children:[(0,a.jsx)(Bm,{}),(0,a.jsx)(r.P,{padding:{left:1},children:!this.props.disableStatusIndicator&&(0,a.jsx)(op,{})}),(0,a.jsx)(r.P,{padding:{left:1},children:(0,a.jsx)(Jp,{})}),(this.props.theatreModeEnabled||!this.props.rightColumnExpanded)&&(0,a.jsx)(r.P,{padding:{right:2}})]})})]})})},n}(d.Component);var Gm=(0,g.Zz)((0,tn.X)({name:"TopBarOverlay"}),(0,u.Ng)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled,rightColumnExpanded:e.ui.rightColumnExpanded}})),(0,De.c0)((function(e){return{recommendationsShowing:e.recommendationsShowing}})),(0,x.cj)((function(e){return{disableStatusOverlay:(0,T.wk)({playerPublicPropsContext:e}).disableStatusOverlay,disableStatusIndicator:(0,T.wk)({playerPublicPropsContext:e}).disableStatusIndicator,showGlyphInOverlay:(0,T.wk)({playerPublicPropsContext:e}).showGlyphInOverlay}})),(0,k.VX)((function(e){return{isAdShowing:(0,S.cz)(e.videoAdMetadata)}})))(Um),zm=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.liveChannelLogin;return e&&this.shouldShow(this.props)?(0,a.jsx)(Ln,{restriction:vn.S.TwitchGate,children:(0,a.jsx)(gn.rj,{iconProps:{type:hn.W.Icon,icon:dn.t.LogoTwitch},text:(0,c.hw)("You can only watch this stream on the Twitch website.","TwitchGateOverlay"),children:function(n){return(0,a.jsx)(Wn.$n,{linkTo:"https://www.twitch.tv/".concat(e),targetBlank:!0,size:n?Wn.Mp.Small:Wn.Mp.Default,children:(0,c.hw)("Watch on Twitch","TwitchGateOverlay")})}})}):null},n.prototype.shouldShow=function(e){return(0,hu.F$)(e.data)},n}(d.Component),qm=(0,g.Zz)(jn("TwitchGateOverlay",vn.S.TwitchGate),(0,x.cj)((function(e){var n=e.content;return{liveChannelLogin:(0,V.jp)(n)}})),(0,hu.yg)())(zm);var Hm=t(344204),Wm=t.n(Hm),Km=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getBannerUrl=function(){if(n.props.data&&n.props.data.user)return n.props.data.user.stream&&n.props.data.user.stream.id&&n.props.data.user.stream.previewImageURL?n.props.data.user.stream.previewImageURL:void 0},n.shouldShowVideoPreviewOverlay=function(){return!n.props.isVideoAdShowing&&(!n.props.autoplay&&!n.props.isOffline&&!n.props.isPlaying||n.props.forbidden&&n.restrictionType(n.props)===ie.B2H.SUB_ONLY_LIVE)},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.getBannerUrl();return e&&this.shouldShowVideoPreviewOverlay()?(0,a.jsx)(r.P,{"data-a-target":"player-overlay-preview-background",display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.Center,fullHeight:!0,className:"video-preview-overlay",children:(0,a.jsx)(_n.S,{fullHeight:!0,className:"video-preview-overlay__background-image",children:(0,a.jsx)(ri.L,{src:e,alt:this.props.liveContentChannelLogin||""})})}):null},n.prototype.restrictionType=function(e){return!!e.data&&!!e.data.user&&!!e.data.user.stream&&e.data.user.stream.restrictionType},n}(d.Component),Zm=(0,g.Zz)((0,tn.X)({name:"VideoPreviewOverlay"}),(0,P.dd)((function(e){var n=e.isOffline,t=e.forbidden,i=e.autoplay;return{autoplay:i,isPlaying:(0,ye.F4)(e),isOffline:n,forbidden:t}})),(0,x.cj)((function(e){var n=(0,T.Rh)({playerPublicPropsContext:e});return{isLive:(0,V.DG)(n),liveContentChannelLogin:n.type===K.FC.Live?n.channelLogin:null}})),(0,k.VX)((function(e){return{isVideoAdShowing:(0,S.cz)(e.videoAdMetadata)}})),(0,z._v)(Wm(),{skip:function(e){return!e.isLive},options:function(e){var n;return{variables:{login:null!==(n=e.liveContentChannelLogin)&&void 0!==n?n:""}}}}))(Km);var Xm;!function(e){e.Codecs="video-stats-overlay__codecs",e.FPS="video-stats-overlay__fps",e.LatencyToBroadcaster="video-stats-overlay__latency-to-broadcaster",e.LatencyMode="video-stats-overlay__latency-mode"}(Xm||(Xm={}));var Qm=function(e){function n(n){var t=e.call(this,n)||this;return t.updateVideoStats=function(){var e,n,i,a,r,o,s=t.props.mediaPlayerInstance;if(s){var l=null===(e=s.getVideoWidth)||void 0===e?void 0:e.call(s),d=null===(n=s.getVideoHeight)||void 0===n?void 0:n.call(s),u=null===(i=s.getVideoBitRate)||void 0===i?void 0:i.call(s),c=l,p=d,m="video",v=null===(r=null===(a=s.getVideoRenderSurface)||void 0===a?void 0:a.call(s))||void 0===r?void 0:r.querySelector("canvas");v&&"hidden"!==v.style.visibility&&(c=v.width,p=v.height,m="canvas");var f=null===(o=s.getQuality)||void 0===o?void 0:o.call(s);t.setState((function(e){var n,t,i,a,r,o,v,g,h;return{bandwidthEstimate:Jm(null===(n=s.getBandwidthEstimate)||void 0===n?void 0:n.call(s),e.bandwidthEstimate),broadcasterLatency:1e3*Jm(null===(t=s.getLiveLatency)||void 0===t?void 0:t.call(s),e.broadcasterLatency),bufferDuration:Jm(null===(i=s.getBufferDuration)||void 0===i?void 0:i.call(s),e.bufferDuration),codecs:f&&f.codecs||e.codecs,viewportHeight:Jm(null===(a=s.getDisplayHeight)||void 0===a?void 0:a.call(s),e.viewportHeight),viewportWidth:Jm(null===(r=s.getDisplayWidth)||void 0===r?void 0:r.call(s),e.viewportWidth),droppedFrames:Jm(null===(o=s.getDroppedFrames)||void 0===o?void 0:o.call(s),e.droppedFrames),version:(null===(v=s.getVersion)||void 0===v?void 0:v.call(s))||e.version,videoFrameRate:Jm(null===(g=s.getVideoFrameRate)||void 0===g?void 0:g.call(s),e.videoFrameRate),downloadWidth:Jm(l,e.downloadWidth),downloadHeight:Jm(d,e.downloadHeight),renderWidth:Jm(c,e.renderWidth),renderHeight:Jm(p,e.renderHeight),downloadBitrate:Jm(u,e.downloadBitrate),renderSurface:m,protocol:(null===(h=s.getProtocol)||void 0===h?void 0:h.call(s))||e.protocol}}))}},t.getTimeString=function(e){return(0,c.hw)("{time} sec.",{time:e},"VideoStatsOverlay")},t.state={bandwidthEstimate:0,broadcasterLatency:0,bufferDuration:0,codecs:"",viewportHeight:0,viewportWidth:0,downloadBitrate:0,downloadWidth:0,downloadHeight:0,droppedFrames:0,protocol:"",renderSurface:"video",renderWidth:0,renderHeight:0,videoFrameRate:0,version:""},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.updateVideoStats(),this.updateVideoStatsIntervalID=setInterval(this.updateVideoStats,1e3)},n.prototype.componentWillUnmount=function(){clearInterval(this.updateVideoStatsIntervalID)},n.prototype.render=function(){var e=this;return(0,a.jsx)(Sn.e,{theme:"dark",children:(0,a.jsx)("div",{children:(0,a.jsx)(_n.S,{position:o.yX.Absolute,attachTop:!0,margin:1,children:(0,a.jsx)(Tn.Vq,{suppressScrollX:!0,children:(0,a.jsxs)(r.P,{"data-a-target":"player-overlay-video-stats",background:o.VS.Base,color:o.Q1.Base,children:[(0,a.jsx)(r.P,{display:o.nl.Flex,justifyContent:o.A9.End,children:(0,a.jsx)(Cn.a2,{"aria-label":(0,c.hw)("Close video stats","VideoStatsOverlay"),onClick:function(){return e.props.setStatsOverlay(De.Uz.None)},icon:bn.g})}),(0,a.jsxs)(Pn.X,{children:[(0,a.jsx)(xn.A,{children:(0,a.jsxs)(En.H,{children:[(0,a.jsx)(An.x,{label:(0,c.hw)("Name","VideoStatsOverlay"),padding:.5}),(0,a.jsx)(An.x,{label:(0,c.hw)("Value","VideoStatsOverlay"),padding:.5})]})}),(0,a.jsxs)(Nn.B,{children:[this.renderDownloadResolution(),this.renderRenderResolution(),this.renderViewportResolution(),this.renderDownloadBitrate(),this.renderBandwidthEstimate(),this.renderFps(),this.renderSkippedFrames(),this.renderBufferSize(),this.renderLatencyToBroadcaster(),this.renderCodecs(),this.renderProtocol(),this.renderLatencyMode(),this.renderRenderSurface(),this.renderBackendVersion(),this.renderPlaySessionID(),this.renderServingID()]})]})]})})})})})},n.prototype.renderBandwidthEstimate=function(){return(0,a.jsx)($m,{name:(0,c.hw)("Bandwidth Estimate","VideoStatsOverlay"),value:this.formatBitsPerSecond(this.state.bandwidthEstimate)})},n.prototype.renderDownloadResolution=function(){return(0,a.jsx)($m,{name:(0,c.hw)("Download Resolution","VideoStatsOverlay"),value:"".concat(this.state.downloadWidth,"x").concat(this.state.downloadHeight)})},n.prototype.renderRenderResolution=function(){return(0,a.jsx)($m,{name:(0,c.hw)("Render Resolution","VideoStatsOverlay"),value:"".concat(this.state.renderWidth,"x").concat(this.state.renderHeight)})},n.prototype.renderViewportResolution=function(){return(0,a.jsx)($m,{name:(0,c.hw)("Viewport Resolution","VideoStatsOverlay"),value:"".concat(this.state.viewportWidth,"x").concat(this.state.viewportHeight)})},n.prototype.renderRenderSurface=function(){return(0,a.jsx)($m,{name:(0,c.hw)("Render Surface","VideoStatsOverlay"),value:"".concat(this.state.renderSurface)})},n.prototype.renderFps=function(){var e=Math.round(this.state.videoFrameRate);return e?(0,a.jsx)($m,{name:(0,c.hw)("FPS","VideoStatsOverlay"),value:e,"data-test-selector":Xm.FPS}):null},n.prototype.renderSkippedFrames=function(){return(0,a.jsx)($m,{name:(0,c.hw)("Skipped Frames","VideoStatsOverlay"),value:this.state.droppedFrames})},n.prototype.renderBufferSize=function(){var e=this.getTimeString(this.state.bufferDuration.toFixed(2));return(0,a.jsx)($m,{name:(0,c.hw)("Buffer Size","VideoStatsOverlay"),value:e})},n.prototype.renderLatencyToBroadcaster=function(){if(!this.props.isLive)return null;var e=this.getTimeString((this.state.broadcasterLatency/1e3).toFixed(2));return(0,a.jsx)($m,{name:(0,c.hw)("Latency To Broadcaster","VideoStatsOverlay"),value:e,"data-test-selector":Xm.LatencyToBroadcaster})},n.prototype.renderLatencyMode=function(){return this.props.isLive?(e=this.props.isLowLatencyCapable&&this.props.isLowLatencyEnabled?(0,c.hw)("Low Latency","VideoStatsOverlay"):(0,c.hw)("Normal Latency","VideoStatsOverlay"),(0,a.jsx)($m,{name:(0,c.hw)("Latency Mode","VideoStatsOverlay"),value:e,"data-test-selector":Xm.LatencyMode})):null;var e},n.prototype.renderDownloadBitrate=function(){var e="".concat(Math.round(this.state.downloadBitrate/1e3)," Kbps");return(0,a.jsx)($m,{name:(0,c.hw)("Download Bitrate","VideoStatsOverlay"),value:e})},n.prototype.renderBackendVersion=function(){return(0,a.jsx)($m,{name:(0,c.hw)("Backend Version","VideoStatsOverlay"),value:this.state.version})},n.prototype.renderServingID=function(){return(0,a.jsx)($m,{name:(0,c.hw)("Serving ID","VideoStatsOverlay"),value:this.props.servingID||""})},n.prototype.renderCodecs=function(){return this.state.codecs?(0,a.jsx)($m,{name:(0,c.hw)("Codecs","VideoStatsOverlay"),value:this.state.codecs,"data-test-selector":Xm.Codecs}):null},n.prototype.renderPlaySessionID=function(){return(0,a.jsx)($m,{name:(0,c.hw)("Play Session ID","VideoStatsOverlay"),value:this.props.playSessionID})},n.prototype.renderProtocol=function(){return 0===this.state.protocol.length?null:(0,a.jsx)($m,{name:(0,c.hw)("Protocol","VideoStatsOverlay"),value:this.state.protocol})},n.prototype.formatBitsPerSecond=function(e){return e>=1e7?"".concat(Math.round(e/1e6)," Mbps"):"".concat(Math.round(e/1e3)," Kbps")},n}(d.Component),Ym=(0,g.Zz)((0,tn.X)({name:"VideoStatsOverlay",content:(0,a.jsx)((function(){return(0,a.jsx)(r.P,{position:o.yX.Absolute,attachTop:!0,margin:1,className:"video-stats-overlay__error-container",children:(0,a.jsx)(On.N,{color:o.Q1.Overlay,children:(0,c.hw)("The video stats overlay has crashed. Please disable it in the player settings menu.","VideoStatsOverlay")})})}),{})}),(0,P.dd)((function(e){return{isLowLatencyCapable:(0,ye.RO)(e),isLowLatencyEnabled:e.isLiveLowLatencyEnabled,mediaPlayerInstance:e.mediaPlayerInstance,playSessionID:e.playSessionId,servingID:(0,ye.YN)(e)}})),(0,x.cj)((function(e){var n=e.content;return{isLive:(0,V.DG)(n)}})),(0,De.c0)((function(e){var n=e.setStatsOverlay;return{setStatsOverlay:n}})))(Qm);var $m=function(e){var n=e.name,t=e.value;return(0,a.jsxs)(En.H,{"data-a-target":"player-overlay-video-stats-row",children:[(0,a.jsx)(wn.n,{padding:.5,children:(0,a.jsx)(On.N,{children:n})}),(0,a.jsx)(wn.n,{padding:.5,children:(0,a.jsx)(On.N,{"aria-label":n,"aria-roledescription":"video player stat","aria-live":"polite",role:"status",children:t})})]},n)};function Jm(e,n){return"number"!=typeof e||isNaN(e)?n:e}var ev=t(300780),nv=300;function tv(e){return e.self&&e.self.viewingHistory&&e.self.viewingHistory.position||void 0}function iv(e){if(!e.self||!e.self.viewingHistory||null===e.self.viewingHistory.position)return!1;var n=e.self.viewingHistory.position;if(0===n)return!0;var t=e.lengthSeconds||0,i=Math.max(nv,.1*t);return t>nv&&n>i}function av(e,n){var t=iv(e);return t!==iv(n)?t?1:-1:e.createdAt&&n.createdAt?new Date(n.createdAt).getTime()-new Date(e.createdAt).getTime():n.createdAt?1:e.createdAt?-1:0}var rv=580,ov=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={timeRemaining:2e4},n.autoplayInterval=-1,n.renderVideoTitle=function(e){return(0,a.jsx)(r.P,{fullWidth:!0,margin:{bottom:e?.5:0},children:(0,a.jsx)(On.N,{fontSize:e?o.Z4.Size6:o.Z4.Size5,ellipsis:!0,children:n.props.video.title})})},n.renderTimeRemaining=function(){var e=Math.round(n.state.timeRemaining/1e3);return(0,a.jsx)(r.P,{margin:{bottom:.5},display:o.nl.Flex,alignItems:o.k2.Center,justifyContent:o.A9.Between,children:(0,a.jsx)(On.N,{bold:!0,type:n.props.width>780?At.M2.H4:At.M2.H5,color:o.Q1.Overlay,children:(0,c.hw)("Up Next in {timeRemaining} seconds...",{timeRemaining:e},"VODPostplayRecommendations")})})},n.startCountdown=function(){clearInterval(n.autoplayInterval),n.autoplayInterval=setInterval((function(){n.state.timeRemaining>0?n.setState((function(e){return{timeRemaining:e.timeRemaining-1e3}})):(n.stopCountdown(),n.props.onSelect())}),1e3)},n.stopCountdown=function(){clearInterval(n.autoplayInterval)},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.startCountdown()},n.prototype.componentWillUnmount=function(){this.stopCountdown()},n.prototype.render=function(){var e=this.props,n=e.onSelect,t=e.video;return(0,a.jsx)(Rn.FT,{type:Rn.NL.Fullscreen,transparency:Rn.xL.Transparency1,children:(0,a.jsx)(_n.S,{fullWidth:!0,children:(0,a.jsx)(Mt.e,{alwaysRenderChild:!0,transitionInitialMount:!0,show:!0,type:Lt.ES.TranslateTop,duration:Lt.Cf.Long,children:(0,a.jsx)("div",{style:{marginTop:this.props.width<1e3?"-10%":0},children:(0,a.jsx)(r.P,{display:o.nl.Flex,flexDirection:o.bo.Column,alignItems:o.k2.Center,justifyContent:o.A9.Center,children:(0,a.jsxs)(r.P,{className:l()("autoplay-vod__content-container",{"autoplay-vod__content-container--mini":this.props.width<=rv}),display:o.nl.Flex,flexDirection:this.props.width>rv?o.bo.Column:o.bo.Row,children:[this.props.width>rv&&this.renderTimeRemaining(),(0,a.jsx)(r.P,{className:"autoplay-vod__video-card-container",children:(0,a.jsx)(li,{video:t,content:{type:K.FC.VOD,vodID:t.id,videoOffset:tv(t)},onSelect:n,info:this.props.width>rv?this.renderVideoTitle():null,marginBottom:0})}),(0,a.jsxs)(r.P,{className:l()({"autoplay-vod__mini-text-container":this.props.width<=rv}),children:[this.props.width<=rv&&this.renderTimeRemaining(),this.props.width<=rv&&this.renderVideoTitle(!0),(0,a.jsx)(r.P,{display:o.nl.Flex,justifyContent:o.A9.End,children:(0,a.jsx)(Wn.$n,{onClick:this.props.onClose,children:(0,c.hw)("More Suggestions","VODPostplayRecommendations")})})]})]})})})})})})},n}(d.Component),sv=(0,g.Zz)((0,It.o1)())(ov),lv=t(599939),dv=t.n(lv),uv=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={autoplayVOD:!0,height:0,otherVODs:!0,wasEverMini:n.props.mini,width:0},n.resizeDebounceTimer=new ev.n(250),n.showAutoplayVOD=function(){return n.hasVODs()&&n.state.autoplayVOD},n.showOtherVODs=function(){return n.hasVODs()&&!n.showAutoplayVOD()&&n.state.otherVODs},n.hasVODs=function(){return n.getVideos().length>1},n.onResize=function(e,t){n.resizeDebounceTimer.invoke((function(){n.setState({width:e,height:t})}))},n.getVideos=function(){return n.props.data&&n.props.data.video&&n.props.data.video.owner&&n.props.data.video.owner.videos&&n.props.data.video.owner.videos.edges&&(0,is.jP)(n.props.data.video.owner.videos.edges.map((function(e){return e&&e.node}))).filter((function(e){return e.id!==n.props.vodID})).sort(av)||[]},n.getChannelDisplayName=function(){return n.props.data&&n.props.data.video&&n.props.data.video.owner&&n.props.data.video.owner.displayName||""},n.handleCloseAutoplayVOD=function(){n.setState({autoplayVOD:!1})},n.handleCloseOtherVODs=function(){n.setState({otherVODs:!1})},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.state.wasEverMini&&this.props.setRecommendationsShowing(!1)},n.prototype.componentDidUpdate=function(){var e=this.props,n=e.recommendationsShowing,t=e.setRecommendationsShowing;if(this.props.mini&&!this.state.wasEverMini)this.setState({wasEverMini:!0}),n&&t(!1);else if(!this.state.wasEverMini){var i=this.showAutoplayVOD()||this.showOtherVODs();n!==i&&t(i)}},n.prototype.componentWillUnmount=function(){this.props.setRecommendationsShowing(!1),this.resizeDebounceTimer.clear()},n.prototype.render=function(){var e=this;if(this.state.wasEverMini)return null;var n=this.getVideos();return(0,a.jsxs)(a.Fragment,{children:[(this.state.autoplayVOD||this.state.otherVODs)&&(0,a.jsx)(ct.$,{onResize:this.onResize}),this.showAutoplayVOD()&&(0,a.jsx)(sv,{video:n[0],onClose:this.handleCloseAutoplayVOD,onSelect:function(){var t=n[0].id,i=e.props.getContentUrl({type:K.FC.VOD,vodID:t,videoOffset:tv(n[0])});i&&(0,Z.cW)(i,e.props.navigate)},width:this.state.width}),this.showOtherVODs()&&(0,a.jsx)(js,{videos:n,onClose:this.handleCloseOtherVODs,onSelect:function(){},title:(0,c.hw)("More from {channelLogin}",{channelLogin:this.getChannelDisplayName()},"VODPostplayRecommendations"),width:this.state.width})]})},n}(d.Component);var cv=(0,g.Zz)((0,tn.X)({name:"VODPostplayRecommendationsOverlay"}),(0,x.cj)((function(e){return{mini:!!(0,T.wk)({playerPublicPropsContext:e}).mini,vodID:(0,V.hq)(e.content)||null}})),(0,It.o1)(),(0,De.c0)((function(e){return{recommendationsShowing:e.recommendationsShowing,setRecommendationsShowing:e.setRecommendationsShowing}})),(0,z._v)(dv(),{options:function(e){var n;return{variables:{videoID:null!==(n=e.vodID)&&void 0!==n?n:""}}},skip:function(e){return!e.vodID}}),q.y,(0,W.e)())(uv),pv=t(433374),mv=t.n(pv),vv=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.getImageUrl=function(){if(n.props.data&&n.props.data.video)return n.props.data.video.previewThumbnailURL?n.props.data.video.previewThumbnailURL:void 0},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.getImageUrl();return e?(0,a.jsx)(ri.L,{src:e,alt:this.props.data&&this.props.data.video&&this.props.data.video.title||""}):null},n}(d.Component),fv=(0,g.Zz)((0,tn.X)({name:"VODPreviewOverlay"}),(0,x.cj)((function(e){var n=e.content;return{vodID:(0,V.hq)(n)||null}})),(0,z._v)(mv(),{skip:function(e){return null===e.vodID},options:function(e){return{variables:{vodID:e.vodID}}}}))(vv);var gv=t(485272),hv=t(787004),yv=v.x.wrap((function(){return t.e(64987).then(t.bind(t,641595))}),"AudioAdOverlayContainer",{failSilently:!0,placeholder:null});var kv=(0,g.Zz)((0,tn.X)({name:"AudioAdOverlay"}),(0,u.Ng)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}})))((function(e){return e.firstPageLoaded?(0,a.jsx)(yv,{}):null}));kv.displayName="AudioAdOverlay";var Sv=function(){return(0,a.jsxs)(r.P,{position:o.yX.Absolute,attachRight:!0,padding:1,background:o.VS.Overlay,display:o.nl.Flex,alignItems:o.k2.Center,className:"picture-by-picture-overlay",borderRadius:Vt.Z.Medium,children:[(0,a.jsx)(uu.h,{size:25}),(0,a.jsx)(r.P,{margin:{left:.5},children:(0,c.hw)("To view the stream while an ad is playing, open Chat","PictureByPictureOverlay")})]})},_v=t(282463),Cv=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onClick=function(){if(n.props.stitchedAdUrl&&0!==n.props.stitchedAdClickTrackUrls.length||n.props.adFormat===_v.bi.StandardAudioAd){var e={beacon_id:n.props.clickBeaconId,click_tracking_urls:n.props.stitchedAdClickTrackUrls.join("|"),ad_format:n.props.adFormat,stitched:!0,is_url_present:!!n.props.stitchedAdUrl};if(n.props.adFormat===_v.bi.StandardVideoAd&&n.props.track("video_ad_click",e),n.props.emitClickEvent(),n.props.stitchedAdUrl){var t=n.props.isEmbedded?"tt_medium=".concat("embed","&tt_content=").concat("embed_stitched_ad_interstitial"):"",i=n.props.stitchedAdUrl;if(""!==t)i=te.extract(n.props.stitchedAdUrl)?i.concat("&".concat(t)):i.concat("?".concat(t));window.open(i,"_blank","noopener")}}},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return this.props.stitchedAdUrl||this.props.adFormat===_v.bi.StandardAudioAd?(0,a.jsx)(_n.S,{attachTop:!0,attachLeft:!0,attachBottom:!0,attachRight:!0,position:o.yX.Absolute,children:(0,a.jsx)("div",{role:"presentation",onClick:this.onClick})}):null},n}(d.Component);var bv=(0,g.Zz)((0,k.VX)((function(e){var n=e.emitClickEvent,t=e.videoAdMetadata;return{stitchedAdClickTrackUrls:t&&t.stitched&&t.stitchedAdClickTrackUrls||[],stitchedAdUrl:t&&t.stitched&&t.adUrl||null,emitClickEvent:n,clickBeaconId:t&&t.stitched&&t.clickBeaconId||null,adFormat:t&&t.stitched&&t.adFormat||null}})),(0,x.cj)((function(e){var n=(0,T.wk)({playerPublicPropsContext:e});return{isEmbedded:!!(null==n?void 0:n.embed)}})),(0,It.o1)())(Cv);bv.displayName="StitchedAdClickHandler";var Pv=function(){var e=d.useContext(k.jK).videoAdMetadata,n=d.useContext(P.$g),t=n.muted,a=n.mediaPlayerInstance,r=n.playerState,o=(0,S.lq)(e)?e:void 0,s=d.useMemo((function(){return a&&o?{startPosition:a.getPosition()||0}:null}),[o,a]),l=d.useCallback((function(){var n=(0,S.lq)(e)?e.stitchedAdMuteTrackUrls:[];n&&0!==n.length&&n.forEach((function(e){try{fetch(e,{method:"GET",mode:"no-cors"})}catch(e){c.vF.warn("Failed to issue GET request",e)}}))}),[e]),u=d.useCallback((function(){var n=(0,S.lq)(e)?e.stitchedAdUnMuteTrackUrls:[];n&&0!==n.length&&n.forEach((function(e){try{fetch(e,{method:"GET",mode:"no-cors"})}catch(e){c.vF.warn("Failed to issue GET request",e)}}))}),[e]),p=d.useCallback((function(){var n=(0,S.lq)(e)?e.stitchedAdCompanionCreativeViewTrackUrls:[];n&&0!==n.length&&n.forEach((function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,fetch(e,{method:"GET",mode:"no-cors"})];case 1:return t.sent(),[3,3];case 2:return n=t.sent(),c.vF.warn("Failed to issue GET request",n),[3,3];case 3:return[2]}}))}))}))}),[e]),m=d.useCallback((function(){var n=(0,S.lq)(e)?e.stitchedAdPauseTrackUrls:[];n&&0!==n.length&&n.forEach((function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,fetch(e,{method:"GET",mode:"no-cors"})];case 1:return t.sent(),[3,3];case 2:return n=t.sent(),c.vF.warn("Failed to issue GET request",n),[3,3];case 3:return[2]}}))}))}))}),[e]),v=d.useCallback((function(){var n=(0,S.lq)(e)?e.stitchedAdResumeTrackUrls:[];n&&0!==n.length&&n.forEach((function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){var n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return t.trys.push([0,2,,3]),[4,fetch(e,{method:"GET",mode:"no-cors"})];case 1:return t.sent(),[3,3];case 2:return n=t.sent(),c.vF.warn("Failed to issue GET request",n),[3,3];case 3:return[2]}}))}))}))}),[e]),f=d.useCallback((function(){if(o){var e=o.stitchedAdCreativeViewTrackUrls;e&&0!==e.length&&e.forEach((function(e){try{fetch(e,{method:"GET",mode:"no-cors"})}catch(e){c.vF.warn("Failed to issue GET request",e)}}))}}),[o]),g=(0,d.useRef)(!1),h=(0,Wa.Z)(null==o?void 0:o.adPosition);d.useEffect((function(){h!==(null==o?void 0:o.adPosition)&&g.current&&(g.current=!1)}),[h,null==o?void 0:o.adPosition]);var y=d.useCallback((function(){if(a&&s){var e=s.startPosition;a.getPosition()-e>=2&&!g.current&&(f(),g.current=!0)}}),[f,a,s]),_=(0,d.useRef)(!0);(0,M.p)(L.a.TIME_UPDATE,y),(0,d.useEffect)((function(){_.current?_.current=!1:t?l():u()}),[l,t,u]);var C=(0,d.useRef)(!0),b=d.useCallback((function(){C.current&&"visible"===document.visibilityState&&"Playing"===r&&(p(),C.current=!1)}),[p,r]);d.useEffect((function(){return document.addEventListener("visibilitychange",b),window.addEventListener("focus",b),b(),function(){document.removeEventListener("visibilitychange",b),window.removeEventListener("focus",b)}}),[b]);var x=(0,d.useRef)(!0);return(0,d.useEffect)((function(){"Buffering"!==r&&(x.current?x.current=!1:"Idle"===r?m():"Playing"===r&&v())}),[m,r,v]),null},xv=t(883036),Ev=t(474063),Av=t.n(Ev),Nv=t(798999);function wv(e){switch(e.roll){case pe.d.Pre:return function(e){var n=e.supportsChannel,t=e.channel,i=e.isLive;if(n)return i?Ov(t):(0,c.hw)("Start watching {channel} right after this ad break; stick around to support the channel!",{channel:t},"VideoAdBanner");return Iv()}(e);case pe.d.Mid:return function(e){var n=e.supportsChannel,t=e.channel,i=e.isLive,a=e.isVLM;if(i)return a?Ov(t):n?(0,c.hw)("{channel} is taking an ad break; stick around to support the stream!",{channel:t},"VideoAdBanner"):(0,c.hw)("{channel} will be back shortly. This Ad supports Twitch.",{channel:t},"VideoAdBanner");return n?(0,c.hw)("Continue watching {channel} right after this ad break; stick around to support the channel!",{channel:t},"VideoAdBanner"):(0,c.hw)("This video will be back shortly. This Ad supports Twitch.","VideoAdBanner")}(e);case pe.d.Post:return function(e){var n=e.supportsChannel,t=e.channel,i=e.isLive;if(i)return n?(0,c.hw)("Thank you for watching {channel}; finish watching the ad to support the stream!",{channel:t},"VideoAdBanner"):(0,c.hw)("Thanks for watching the stream! This Ad supports Twitch.","VideoAdBanner");return n?(0,c.hw)("Thank you for watching {channel}; finish watching the ad to support the channel!",{channel:t},"VideoAdBanner"):Iv()}(e);default:return e.supportsChannel?Dv(e.channel):Iv()}}var Tv,Iv=function(){return(0,c.hw)("This Ad supports Twitch","VideoAdBanner")},Dv=function(e){return(0,c.hw)("This Ad supports {channel}",{channel:e},"VideoAdBanner")};function Ov(e){return(0,c.hw)("Catch {channel} right after this ad break; stick around to support the stream!",{channel:e},"VideoAdBanner")}!function(e){e.DefaultText="ad-banner-default-text"}(Tv||(Tv={}));var Fv=(0,g.Zz)((0,x.cj)((function(e){return{content:e.content,isMini:!!(0,T.wk)({playerPublicPropsContext:e}).mini}})),(0,k.VX)((function(e){return{metadata:e.videoAdMetadata,isVideoAdShowing:(0,S.cz)(e.videoAdMetadata),updateAdElement:e.updateAdElement,stitchedAdMetadata:(0,S.lq)(e.videoAdMetadata)&&e.videoAdMetadata||void 0,clientSideAdMetadata:(0,S.EF)(e.videoAdMetadata)&&e.videoAdMetadata||void 0}})),(0,z._v)(Av(),{options:function(e){return{variables:{input:{login:(0,V.DG)(e.content)&&e.content.channelLogin||"",ownsCollectionID:(0,V.P3)(e.content)&&e.content.collectionID||"",ownsVideoID:(0,V.wy)(e.content)&&e.content.vodID||""}}}}}))((function(e){var n,t=function(e){var n=function(e){var n=e.data.userByAttribute;if(n&&n.roles&&n.login)return{login:n.login,displayName:n.displayName,isPartner:n.roles.isPartner,isAffiliate:n.roles.isAffiliate,profileImageURL:n.profileImageURL}}(e);return e.isVideoAdShowing&&e.metadata&&n&&!c.Zn.get("player_ad_banner_unsupported_channels",[]).includes(n.login)?{supportsChannel:!!n.isPartner||!!n.isAffiliate,channel:(0,Nv.d)(n.login,n.displayName,!0),roll:e.metadata.roll,isLive:(0,V.DG)(e.content),profileImageURL:n.profileImageURL||"",isVLM:!!e.metadata.isVLM}:null}(e),i=(0,xv.S)(),s=(0,Dl.fX)(gv.Wj),l=!0===(null===(n=e.stitchedAdMetadata)||void 0===n?void 0:n.hideAdOverlay),d=s&&(0,S.g)(e.clientSideAdMetadata),u=!l&&!d;return!t||e.isMini?null:(0,a.jsxs)(r.P,{position:o.yX.Absolute,attachTop:!0,attachLeft:!0,padding:1,margin:{right:"10rem"},background:o.VS.Overlay,display:o.nl.InlineBlock,children:[(0,a.jsxs)(On.N,{"data-a-target":"video-ad-label","data-test-selector":Tv.DefaultText,color:o.Q1.Overlay,type:At.M2.Span,children:[wv(t),u&&" "]}),u&&(0,a.jsx)(On.N,{color:o.Q1.Overlay,type:At.M2.Span,"data-a-target":"video-ad-countdown",children:i})]})}));Fv.displayName="VideoAdBanner";var Rv=t(321949);var Mv=(0,g.Zz)((0,tn.X)({name:"VideoAdOverlay"}),(0,hv.dC)((function(e){return{isShowingPictureByPicture:e.isShowing}})),(0,x.cj)((function(e){return{behaviors:e.behaviors}})),(0,k.VX)((function(e){return{updateAdElement:e.updateAdElement,stitchedAdMetadata:(0,S.lq)(e.videoAdMetadata)&&e.videoAdMetadata||void 0,clientSideAdMetadata:(0,S.EF)(e.videoAdMetadata)&&e.videoAdMetadata||void 0,isInstreamVideoAd:(0,S.cz)(e.videoAdMetadata)}})),(0,De.c0)((function(e){return{isFullscreen:e.isFullscreen}})))((function(e){var n=e.updateAdElement,t=e.isFullscreen,s=e.isShowingPictureByPicture,l=e.stitchedAdMetadata,d=e.clientSideAdMetadata,u=e.isInstreamVideoAd,c=e.behaviors,p=!u||!0===(null==l?void 0:l.hideAdOverlay),m=(0,Dl.fX)(gv.Wj),v=m&&(0,S.g)(d),f=!p&&!v,g=!!(null==c?void 0:c.mini),h=!p&&!v&&g,y=t&&s&&!p,k=(null==l?void 0:l.adFormat)===_v.bi.StandardAudioAd;return(0,a.jsxs)(r.P,{position:o.yX.Absolute,attachTop:!0,attachLeft:!0,attachBottom:!0,attachRight:!0,children:[(0,a.jsx)(r.P,{position:o.yX.Absolute,attachTop:!0,attachLeft:!0,attachBottom:!0,attachRight:!0,ref:n,"data-a-target":"ax-overlay"}),f&&(0,a.jsx)(Fv,{}),(null==l?void 0:l.stitched)&&k&&(0,a.jsx)(Pv,{}),(0,a.jsx)(bv,{}),h&&(0,a.jsx)(xv.AF,{}),y&&(0,a.jsx)(Sv,{}),m&&(0,a.jsx)(kv,{}),u&&!v&&!g&&(0,a.jsx)(Rv.Cq,(0,i.__assign)({},{format:"video"}))]})}));Mv.displayName="VideoAdOverlay";var Lv,Vv=t(557402),jv=t(495311),Bv=function(e){var n=e.chromecastContext,t=e.playerContext,i=e.videoPlaybackContext;return!!(t.isPlayerCoreLoading||(0,ye.TN)(t)||(0,ye.i_)(t)||!t.hasPlayed&&t.sourceStatus!==jv.O.None)&&i.isPlaying&&!(0,S.cz)(e.adContext.videoAdMetadata)&&!(0,Nt.mh)(n)},Uv=t(811202),Gv=function(e){var n=e.playerPublicPropsContext,t=e.playerContext,i=t.playerState===N.p.ENDED,a=!t.hasPlayed,r=(0,T.wk)(e).embed;return!((0,S.cz)(e.adContext.videoAdMetadata)||!(0,Uv.bz)(n.content,t.isOffline)||!a&&!i||!r)};function zv(e){var n;return(n={})[Lv.ClickToPlayPauseOverlay]=function(e){var n=e.active,t=e.videoPlaybackContext,i=e.uiContext,a=(0,T.wk)(e),r=a.displayPlayPauseAsOverlay,o=a.forceControlVisibility;return!(!i.showControls||!r||!n&&t.isPlaying&&o!==Oe.Ie.Showing)}(e),n[Lv.ClickToUnmuteOverlay]=function(e){var n=e.playerContext,t=e.videoPlaybackContext,i=(0,T.wk)(e),a=i.showInitialMutedOnVolumeButton,r=i.displayPlayPauseAsOverlay;return!Bv(e)&&t.isPlaying&&!(0,ye.xB)(n)&&!a&&!r}(e),n[Lv.AdStatsOverlay]=function(e){return e.uiContext.statsOverlay===De.Uz.Ad}(e),n[Lv.BottomControlsOverlay]=(0,Uv.vg)(e),n[Lv.CelebrationsOverlay]=function(e){return!e.playerContext.isPlayerCoreLoading}(e),n[Lv.ChannelSkinsOverlay]=function(e){var n,t=e.channelSkinsContext,i=e.playerPublicPropsContext;return t.isVideoOverlayEnabled&&(null===(n=i.content)||void 0===n?void 0:n.type)===K.FC.Live}(e),n[Lv.ChatHappeningNowOverlay]=function(e){var n=e.adContext,t=e.playerContext,i=e.playerPublicPropsContext,a=e.uiContext,r=c.x2.store.getState(),o=(0,T.Rh)({playerPublicPropsContext:i});return(!r.ui.rightColumnExpanded||a.isFullscreen)&&!(0,S.cz)(n.videoAdMetadata)&&!t.isOffline&&(0,V.DG)(o)&&(0,wl.O)(i)===Nl.C.Site}(e),n[Lv.ClickHandlerOverlay]=function(e){return!((0,T.wk)(e).disableDoubleClickFullscreen&&void 0===(0,T.zB)(e).onPlayerClick||(0,S.cz)(e.adContext.videoAdMetadata))}(e),n[Lv.ClipEmbedErrorOverlay]=function(e){var n=e.playerPublicPropsContext,t=e.playerContext,i=(0,T.Rh)({playerPublicPropsContext:n}),a=(0,T.wk)(e).embed;return!(!(0,V.Jn)(i)||!a||t.sourceStatus!==jv.O.None)}(e),n[Lv.ClipPostplayRecommendationsOverlay]=function(e){var n=e.playerPublicPropsContext,t=e.playerContext,i=(0,T.Rh)({playerPublicPropsContext:n});return!((0,S.cz)(e.adContext.videoAdMetadata)||!(0,V.Jn)(i)||!i.clipSlug||!(0,ye.pl)(t)||(0,T.wk)(e).disableRecommendations)}(e),n[Lv.ClosedCaptionSettingsOverlay]=function(e){return e.uiContext.showClosedCaptionsSettings}(e),n[Lv.CollectionEmptyOverlay]=function(e){var n=e.playerContext,t=e.playerPublicPropsContext;return n.sourceStatus===jv.O.None&&t.content.type===K.FC.Collection}(e),n[Lv.CollectionSidebarOverlay]=function(e){return e.uiContext.isCollectionSidebarShowing}(e),n[Lv.ErrorOverlay]=function(e){return!!e.playerContext.error}(e),n[Lv.ExtensionsOverlay]=function(e){var n=e.playerPublicPropsContext,t=n.behaviors,i=n.content,a=e.playerContext.isOffline,r=t&&t.enableExtensions,o=(0,V.DG)((0,T.Rh)({playerPublicPropsContext:e.playerPublicPropsContext})),s=(0,V.jp)(i);return!(!(r&&o&&s)||a)}(e),n[Lv.FollowPanelOverlay]=function(e){var n=e.playerPublicPropsContext,t=e.playerContext,i=e.adContext;return!(!(0,T.wk)(e).showOfflineChannelNotificationPrompt||!(0,Uv.bz)(n.content,t.isOffline)||(0,S.cz)(i.videoAdMetadata)||Gv(e))}(e),n[Lv.KeyboardShortcutsOverlay]=function(e){return e.uiContext.isKeyboardShortcutsVisible}(e),n[Lv.LastActionOverlay]=function(e){var n=e.chromecastContext,t=e.playerContext,i=e.uiContext,a=(0,T.wk)(e).disableLastActionOverlay;return!((0,Nt.mh)(n)||t.isOffline||(0,ye.k1)(t)||i.isCollectionSidebarShowing||i.recommendationsShowing||a||t.sourceStatus===jv.O.None)}(e),n[Lv.LoadingOverlay]=Bv(e),n[Lv.MiniOverlay]=function(e){return!!(0,T.wk)(e).mini}(e),n[Lv.MutedSegmentsAlertOverlay]=function(e){var n=e.videoPlaybackContext;return(0,V.wy)((0,T.Rh)(e))&&n.isPlaying}(e),n[Lv.OfflineBannerOverlay]=function(e){if((0,S.cz)(e.adContext.videoAdMetadata))return!1;var n=e.playerContext,t=e.playerPublicPropsContext,i=(0,T.Rh)({playerPublicPropsContext:t}).type===K.FC.Live,a=(0,T.wk)(e).embed;return!(!i||!n.isOffline||a)}(e),n[Lv.OfflineEmbedsOverlay]=Gv(e),n[Lv.OfflineRecommendationsOverlay]=function(e){var n=e.playerPublicPropsContext,t=e.playerContext,i=!t.hasPlayed,a=t.playerState===N.p.ENDED,r=(0,T.wk)(e).embed;return!((0,S.cz)(e.adContext.videoAdMetadata)||!(0,Uv.bz)(n.content,t.isOffline)||!i&&!a||(0,T.wk)(e).disableRecommendations||r)}(e),n[Lv.PremiumContentOverlay]=qp(e),n[Lv.SDANudgeOverlay]=function(e){var n=e.adContext,t=e.playerPublicPropsContext,i=e.adContext.isSDAContainerHidden,a=!1,r=c.x2.experiments.getAndTrackAssignment("nabe_experiment"),o=n.sdaRequestCount,s=(0,Dl.fX)("nabe_cadence");if("turbo_1"!==r&&"support_1"!==r||(a=o%(s?12:8)==0),"turbo_2"!==r&&"help_2"!==r&&"support_2"!==r||(a=o%(s?3:2)==0),"turbo_4"!==r&&"help_4"!==r||(a=o%(s?6:4)==0),!n.lastSDAAdRequestBlocked&&!i)return!1;var l=(0,T.Rh)({playerPublicPropsContext:t}),d=(0,Xe.If)();return(0,S.cz)(n.videoAdMetadata)||(0,S.Eg)(n.adFormatMetadata)&&!i||(0,S.g)(n.adFormatMetadata)||!(0,V.DG)(l)||(0,wl.O)(t)!==Nl.C.Site||void 0===d||Xe.l$.has(d)||(0,ye.pl)(e.playerContext)?(n.updateLastSDAAdRequestBlocked(!1),n.updateSDAHiddenState(!1),!1):a}(e),n[Lv.SubscriberVODOverlay]=function(e){return(0,ye.k1)(e.playerContext,vn.S.SubscriberVOD)}(e),n[Lv.TopBarOverlay]=function(e){if(qp(e))return!1;var n=e.active,t=e.videoPlaybackContext,i=e.uiContext,a=(0,T.wk)(e).forceControlVisibility;return!(!i.showControls||!n&&t.isPlaying&&a!==Oe.Ie.Showing)}(e),n[Lv.TwitchGateOverlay]=function(e){return!!(0,T.wk)(e).blockTwitchExclusiveContent}(e),n[Lv.ClipShareOverlay]=function(e){return e.uiContext.isClipSharing}(e),n[Lv.VideoStatsOverlay]=function(e){return e.uiContext.statsOverlay===De.Uz.Video}(e),n[Lv.VODPostplayRecommendationsOverlay]=function(e){var n=(0,T.Rh)(e);return!(0,S.cz)(e.adContext.videoAdMetadata)&&((0,V.wy)(n)||(0,V.P3)(n))&&(0,ye.pl)(e.playerContext)&&!(0,T.wk)(e).disableRecommendations}(e),n[Lv.VODPreviewOverlay]=function(e){var n,t=e.playerContext,i=e.videoPlaybackContext;return!((null===(n=e.playerPublicPropsContext.behaviors)||void 0===n?void 0:n.disableVODPreviewOverlay)||t.autoplay||t.hasPlayed||i.isPlaying)}(e),n[Lv.AccountRestrictedOverlay]=function(e){var n=e.playerContext;return(0,ye.k1)(n,vn.S.AccountRestricted)}(e),n[Lv.OneTapOverlay]=function(e){var n=e.playerContext,t=e.playerPublicPropsContext,i=(0,T.Rh)({playerPublicPropsContext:t}),a=(0,T.wk)(e).enableOneTap;return!n.isPlayerCoreLoading&&(0,V.DG)(i)&&!!a&&!(0,S.cz)(e.adContext.videoAdMetadata)}(e),n[Lv.OneTapStoreOverlay]=function(e){var n=e.playerContext,t=e.playerPublicPropsContext,i=(0,T.Rh)({playerPublicPropsContext:t}),a=(0,T.wk)(e).enableOneTap;return!n.isPlayerCoreLoading&&(0,V.DG)(i)&&!!a}(e),n}!function(e){e.AccountRestrictedOverlay="account-restricted-overlay",e.AdStatsOverlay="ad-stats-overlay",e.BottomControlsOverlay="bottom-controls-overlay",e.CelebrationsOverlay="celebrations-overlay",e.ChannelSkinsOverlay="channel-skins-overlay",e.ChatHappeningNowOverlay="chat-happening-now-overlay",e.ClickHandlerOverlay="click-handler-overlay",e.ClickToPlayPauseOverlay="click-to-play-pause-overlay",e.ClickToUnmuteOverlay="click-to-unmute-overlay",e.ClipEmbedErrorOverlay="clip-embed-error-overlay",e.ClipPostplayRecommendationsOverlay="clip-postplay-recommendations-overlay",e.ClipShareOverlay="clip-share-overlay",e.ClosedCaptionSettingsOverlay="closed-caption-settings-overlay",e.CollectionEmptyOverlay="collection-empty",e.CollectionSidebarOverlay="collection-sidebar-overlay",e.ErrorOverlay="error-overlay",e.ExtensionsOverlay="extensions-overlay",e.FollowPanelOverlay="follow-panel-overlay",e.KeyboardShortcutsOverlay="keyboard-shortcuts-overlay",e.LastActionOverlay="last-action-overlay",e.LoadingOverlay="loading-overlay",e.MiniOverlay="mini-overlay",e.MutedSegmentsAlertOverlay="muted-segments-alert-overlay",e.OfflineBannerOverlay="offline-banner-overlay",e.OfflineEmbedsOverlay="offline-embeds-overlay",e.OfflineRecommendationsOverlay="offline-recommendations-overlay",e.PremiumContentOverlay="premium-content-overlay",e.SDANudgeOverlay="sda-nudge-overlay",e.SubscriberVODOverlay="subscriber-vod-overlay",e.TopBarOverlay="top-bar-overlay",e.TwitchGateOverlay="twitch-gate-overlay",e.VideoStatsOverlay="video-stats-overlay",e.VODPostplayRecommendationsOverlay="vod-postplay-recommendations-overlay",e.VODPreviewOverlay="vod-preview-overlay",e.OneTapOverlay="one-tap-overlay",e.OneTapStoreOverlay="one-tap-store-overlay"}(Lv||(Lv={}));var qv=v.x.wrap((function(){return t.e(25611).then(t.bind(t,936942))}),"ChannelSkinsOverlay",{failSilently:!0,placeholder:null}),Hv=v.x.wrap((function(){return Promise.all([t.e(11904),t.e(26514),t.e(72723)]).then(t.bind(t,917151))}),"OneTapStore"),Wv=v.x.wrap((function(){return Promise.all([t.e(11904),t.e(26514),t.e(72723)]).then(t.bind(t,917151))}),"OneTapBreakpointAnimation"),Kv=v.x.wrap((function(){return Promise.all([t.e(11904),t.e(26514),t.e(72723)]).then(t.bind(t,917151))}),"OneTapStreakPills"),Zv=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.renderMiniOverlay=function(e){return(0,a.jsx)(a.Fragment,{children:e[Lv.MiniOverlay]&&(0,a.jsx)(fs,{})})},n.renderContentGatingOverlays=function(e){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(kn,{show:e[Lv.AccountRestrictedOverlay]}),e[Lv.PremiumContentOverlay]&&(0,a.jsx)(Ap,{}),(0,a.jsx)(La,{}),e[Lv.TwitchGateOverlay]&&(0,a.jsx)(qm,{}),(0,a.jsx)(ut,{}),e[Lv.SubscriberVODOverlay]&&(0,a.jsx)(zp,{}),e[Lv.CelebrationsOverlay]&&(0,a.jsx)(on.l,{ref:sn.e})]})},n.renderContentClickOverlays=function(e){return(0,a.jsxs)(a.Fragment,{children:[!(0,T.wk)(n.props).mini&&e[Lv.ClickHandlerOverlay]&&(0,a.jsx)(Rt,{}),e[Lv.ClickToPlayPauseOverlay]&&(0,T.wk)(n.props).displayPlayPauseAsOverlay&&(0,a.jsx)(Gt,{}),e[Lv.ExtensionsOverlay]&&(0,a.jsx)(Ho,{}),!(0,T.wk)(n.props).mini&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ht,{canShow:e[Lv.ClickToUnmuteOverlay]}),e[Lv.LastActionOverlay]&&(0,a.jsx)(cs,{})]})]})},n.renderContentCoveringOverlays=function(e){return!(0,T.wk)(n.props).mini&&(0,a.jsxs)(a.Fragment,{children:[e[Lv.OneTapOverlay]&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Wv,{}),(0,a.jsx)(Kv,{})]}),e[Lv.ChannelSkinsOverlay]&&(0,a.jsx)(qv,{}),Hp(n.props)&&(0,a.jsx)(Gm,{shouldShow:e[Lv.TopBarOverlay],isOffline:e[Lv.OfflineEmbedsOverlay]}),(0,a.jsx)(cr,{isOnScreenControlsOn:(0,Uv.A$)(n.props)&&e[Lv.BottomControlsOverlay]}),(0,a.jsx)(xt,{}),e[Lv.FollowPanelOverlay]&&(0,a.jsx)(ts,{}),e[Lv.KeyboardShortcutsOverlay]&&(0,a.jsx)(os,{}),e[Lv.VideoStatsOverlay]&&(0,a.jsx)(Ym,{}),e[Lv.AdStatsOverlay]&&(0,a.jsx)(Fn,{}),(0,a.jsx)(wt,{}),e[Lv.ChatHappeningNowOverlay]&&(0,a.jsx)(Et.X,{})]})},n.renderTemporaryInteractionOverlays=function(e){return!(0,T.wk)(n.props).mini&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Ia,{}),e[Lv.ClipShareOverlay]&&(0,a.jsx)(Ri,{}),e[Lv.MutedSegmentsAlertOverlay]&&(0,a.jsx)(_s,{bottomControlsShowing:e[Lv.BottomControlsOverlay]}),e[Lv.ClosedCaptionSettingsOverlay]&&(0,a.jsx)(Sa,{}),e[Lv.VODPreviewOverlay]&&(0,a.jsx)(fv,{}),e[Lv.SDANudgeOverlay]&&(0,a.jsx)(Lp,{}),e[Lv.OneTapStoreOverlay]&&(0,a.jsx)(Hv,{isVideoAdShowing:(0,S.cz)(n.props.adContext.videoAdMetadata)})]})},n.renderContentRecommendations=function(e){return(0,a.jsxs)(a.Fragment,{children:[!(0,T.wk)(n.props).mini&&e[Lv.ClipPostplayRecommendationsOverlay]&&(0,a.jsx)(Si,{}),!(0,T.wk)(n.props).mini&&e[Lv.OfflineEmbedsOverlay]&&(0,a.jsx)(Ls,{}),!(0,T.wk)(n.props).mini&&e[Lv.OfflineRecommendationsOverlay]&&(0,a.jsx)(Ks,{}),e[Lv.VODPostplayRecommendationsOverlay]&&(0,a.jsx)(cv,{})]})},n.renderContentReplacedOverlays=function(e){var t=!(0,T.wk)(n.props).mini&&(0,a.jsxs)(a.Fragment,{children:[e[Lv.OfflineBannerOverlay]&&(0,a.jsx)(xs,{}),(0,a.jsx)(Zm,{}),e[Lv.CollectionEmptyOverlay]&&(0,a.jsx)(ba,{}),e[Lv.ClipEmbedErrorOverlay]&&(0,a.jsx)(Wt,{})]});return(0,a.jsxs)(a.Fragment,{children:[t,(0,a.jsx)(Mv,{})]})},n.renderContentLoadingOverlays=function(e){return(0,a.jsx)(a.Fragment,{children:e[Lv.LoadingOverlay]&&(0,a.jsx)(ps.p8,{})})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){var e,n=zv(this.props);return(0,a.jsxs)(a.Fragment,{children:[this.renderContentReplacedOverlays(n),this.renderContentLoadingOverlays(n),this.renderContentClickOverlays(n),this.renderContentRecommendations(n),n[Lv.ErrorOverlay]&&(0,a.jsx)(gr,{}),this.renderContentCoveringOverlays(n),this.renderTemporaryInteractionOverlays(n),(0,Uv.A$)(this.props)&&(0,a.jsx)(Mc,{shouldShow:n[Lv.BottomControlsOverlay],isOffline:(0,Uv.Tm)(this.props),isAccessibilityLandmark:!(0,Oa.OI)(this.props.contentClassificationContext.overlayType),shouldPushVolumeToRight:(0,T.wk)(this.props).shiftVolumeToRightCorner,shouldDisplayPlayPauseAsOverlay:(0,T.wk)(this.props).displayPlayPauseAsOverlay}),this.renderContentGatingOverlays(n),this.renderMiniOverlay(n),(0,a.jsx)(an.c,{managerId:"player",shouldMount:(e=this.props,!(0,T.wk)(e).mini)})]})},n}(d.Component);var Xv=(0,g.Zz)((0,tn.X)({name:"OverlayManager"}),(0,Tt.In)((function(e){var n=e.active;return{active:n}})),(0,Nt.vM)(),(0,k.VX)(),(0,rn.IU)(),ln.zX,(0,Da.Z)(),(0,P.dd)(),(0,x.cj)(),(0,De.c0)(),(0,E.AP)(),(0,Vv.dC)((function(e){return{channelSkinsContext:e}})))(Zv);var Qv=t(834365),Yv=t.n(Qv),$v=function(){function e(e,n){this.timerIsPaused=!0,this.ms=n,this.callback=e,this.lastStartTimestamp=0,this.msRemaining=this.ms}return e.prototype.start=function(){var e=this;this.timerIsPaused&&(this.lastStartTimestamp=Date.now(),this.timerId=setTimeout((function(){return e.timeoutCallback()}),this.msRemaining),this.timerIsPaused=!1)},e.prototype.pause=function(){if(!this.timerIsPaused){clearTimeout(this.timerId),this.timerIsPaused=!0;var e=Date.now();this.msRemaining=this.msRemaining-(e-this.lastStartTimestamp)}},e.prototype.timeoutCallback=function(){this.callback()},e.prototype.destroy=function(){clearTimeout(this.timerId)},e}(),Jv=d.memo((function(e){var n,t,i,a=e.isAdShowing,r=e.isPlaying,o=e.isBuffering,s=e.isOffline,l=(0,F.IT)(Yv(),{variables:{login:e.channelLogin,allowAmazon:e.allow_amazon,allowComscore:e.allow_comscore,allowGoogle:e.allow_google,allowNielsen:e.allow_nielsen}}),u=l.data,p=l.refetch,m=null===(n=null==u?void 0:u.channel)||void 0===n?void 0:n.id,v=null===(i=null===(t=null==u?void 0:u.channel)||void 0===t?void 0:t.adProperties)||void 0===i?void 0:i.trackingPixels,f=(0,d.useRef)([]),g=(0,d.useRef)(e);(0,d.useEffect)((function(){g.current=e}));var h=(0,d.useCallback)((function(e){var n=f.current.findIndex((function(n){var t;return n.ms===1e3*(null!==(t=e.timeOffsetSeconds)&&void 0!==t?t:5)}));n<0||(f.current.splice(n,1),fetch(e.url,{cache:"no-store",mode:"no-cors"}))}),[]),y=(0,d.useCallback)((function(){f.current.forEach((function(e){return e.destroy()})),f.current=[]}),[f]),k=(0,d.useCallback)((function(e){var n;f.current.push(new $v((function(){return h(e)}),1e3*(null!==(n=e.timeOffsetSeconds)&&void 0!==n?n:5)))}),[f,h]),S=(0,d.useCallback)((function(){return(v||[]).forEach(k)}),[k,v]),_=(0,d.useCallback)((function(){var e=g.current.isPlaying,n=g.current.isBuffering,t=g.current.isAdShowing,i=g.current.isOffline;!e||n||t||i||f.current.forEach((function(e){return e.start()}))}),[f,g]),C=(0,d.useCallback)((function(){f.current.forEach((function(e){return e.pause()}))}),[f]);return(0,d.useEffect)((function(){if(m){var e=(0,cn.yi)(m);return c.UE.subscribe({topic:e,onMessage:function(e){e.type===Ka.PD.PixelTrackingUpdate&&"true"===e.data.refresh&&p&&p()}})}}),[m,p]),(0,d.useEffect)((function(){!r||o||a||s?C():_()}),[r,o,a,s,_,C]),(0,d.useEffect)((function(){return y(),S(),_(),function(){return y()}}),[v,S,_,y]),null}));Jv.displayName="PixelTracking";var ef=function(){var e=(0,d.useContext)(k.jK).videoAdMetadata,n=(0,d.useContext)(P.$g),t=(0,d.useContext)(x.kl),i=t.content,r=t.behaviors,o=(0,d.useContext)(It.g7),s=(0,d.useContext)(E.wL).isPlaying,l=n.isOffline,u=(0,ye.TN)(n),c=(0,V.DG)(i),p=(0,V.hd)(i),m=!!r&&r.disablePixelTracking,v=(0,re.S9)().data,g=!(0,ae.bq)(f.F.TwitchAmazon,v),h=!(0,ae.bq)(f.F.ComScore,v),y=!(0,ae.bq)(f.F.Google,v),S=!(0,ae.bq)(f.F.Nielsen,v);return c&&!m&&p?(0,a.jsx)(Jv,{isAdShowing:void 0!==e,playerTracking:o,isOffline:!0===l||void 0===l,isPlaying:s,isBuffering:u,allow_amazon:g,allow_comscore:h,allow_google:y,allow_nielsen:S,channelLogin:p}):null};ef.displayName="PixelTrackingManager";var nf,tf=t(52166),af=function(){var e=d.useState(!1),n=e[0],t=e[1],i=d.useContext(It.g7).track,a=d.useContext(k.jK),r=a.videoAdMetadata,o=a.adFormatMetadata,s=(0,S.EF)(r),l=(0,S.hr)(o),u=(0,S.lq)(r),c=d.useContext(P.$g).mediaPlayerInstance,p=d.useContext(x.kl).content,m=(0,V.wy)(p)||(0,V.P3)(p),v=d.useCallback((function(){return m&&(null==c?void 0:c.getPosition())||null}),[m,c]);return(0,M.p)(N.p.IDLE,d.useCallback((function(){s||(i("video_pause",{ad_is_playing:u,vod_timestamp:v(),action:"pause"}),t(!0))}),[v,s,u,i,t])),(0,M.p)(N.p.PLAYING,d.useCallback((function(){!s&&n&&(i("video_pause",{ad_is_playing:u,vod_timestamp:v(),action:"play"}),t(!1))}),[v,s,u,i,n,t])),(0,tf._)(A.V.Paused,d.useCallback((function(){l||(i("video_pause",{ad_is_playing:!0,vod_timestamp:v(),action:"pause"}),t(!0))}),[v,i,t,l])),(0,tf._)(A.V.Resumed,d.useCallback((function(){l||(i("video_pause",{ad_is_playing:!0,vod_timestamp:v(),action:"play"}),t(!1))}),[v,i,t,l])),null},rf=function(){var e=(0,d.useContext)(It.g7).track,n=(0,d.useCallback)((function(n){e(n.name,n.properties)}),[e]);return(0,M.p)(L.a.ANALYTICS_EVENT,n),null};!function(e){e.ID3="MetaID3"}(nf||(nf={}));var of,sf=t(749721),lf=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.logger=n.props.logger.withCategory("debug-events"),n.attachEventListeners=function(){var e=n.props.playerEvents.addEventListener;Object.values(N.p).forEach((function(t){return e(t,(function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return n.logStateEvent.apply(n,(0,i.__spreadArray)([t],e,!1))}))})),Object.values(L.a).forEach((function(t){return e(t,(function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return n.logPlayerEvent.apply(n,(0,i.__spreadArray)([t],e,!1))}))})),Object.values(nf).forEach((function(t){return e(t,(function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return n.logMetadataEvent.apply(n,(0,i.__spreadArray)([t],e,!1))}))})),Object.values(sf.G).forEach((function(t){return e(t,(function(){for(var e=[],a=0;a<arguments.length;a++)e[a]=arguments[a];return n.logRemoteEvent.apply(n,(0,i.__spreadArray)([t],e,!1))}))})),Object.values(A.V).forEach((function(e){return n.props.adEvents.addEventListener(e,(function(){for(var t=[],a=0;a<arguments.length;a++)t[a]=arguments[a];return n.logClientSideAdEvent.apply(n,(0,i.__spreadArray)([e],t,!1))}))}))},n.logEvent=function(e,t){for(var a,r=[],o=2;o<arguments.length;o++)r[o-2]=arguments[o];return(a=n.logger).debug.apply(a,(0,i.__spreadArray)(["".concat(e," - ").concat(t)],r,!1))},n.logStateEvent=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return n.logEvent.apply(n,(0,i.__spreadArray)(["State",e],t,!1))},n.logPlayerEvent=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return n.logEvent.apply(n,(0,i.__spreadArray)(["Player",e],t,!1))},n.logMetadataEvent=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return n.logEvent.apply(n,(0,i.__spreadArray)(["Metadata",e],t,!1))},n.logRemoteEvent=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return n.logEvent.apply(n,(0,i.__spreadArray)(["Remote",e],t,!1))},n.logClientSideAdEvent=function(e){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];return n.logEvent.apply(n,(0,i.__spreadArray)(["Ads",e],t,!1))},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){(this.props.enableDebug||te.parse(window.location.search).debug)&&this.attachEventListeners()},n.prototype.render=function(){return null},n}(d.Component),df=(0,g.Zz)((0,x.cj)((function(e){return{enableDebug:!!(0,T.wk)({playerPublicPropsContext:e}).enableDebug}})),(0,b.X)(),_())(lf),uf=t(470939),cf=t(76231),pf=t(857131),mf=t.n(pf),vf=t(786501),ff=t.n(vf),gf=t(472944);function hf(e){of=e||{}}hf();var yf=Cf(Pf),kf=Cf(xf),Sf=bf(Pf),_f=bf(xf);function Cf(e){return function(n,t){var i=e(n,t),a=of[i],r=t===Nl.C.Site||t===Nl.C.SiteMini;if(i.startsWith("live")&&r){var o=c.x2.vat.getCachedToken({type:"live",channel:n});if(o)return o}if(a)try{var s=JSON.parse(a.token);return Date.now()>=1e3*s.expires?void delete of[i]:a}catch(e){return void delete of[i]}}}function bf(e){return function(n,t,i){of[e(n,t)]=i}}function Pf(e,n){return"live-".concat(n,"-").concat(e)}function xf(e,n){return"vod-".concat(n,"-").concat(e)}var Ef=Nf("live"),Af=Nf("vod");function Nf(e){var n=this;return function(t,a,r){return(0,i.__awaiter)(n,void 0,Promise,(function(){var n,o,s;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return window.__vat&&window.__vat.contentType===e&&window.__vat.playerType===a&&window.__vat.id===t&&window.__vat.platform===r?[4,window.__vat.request]:[3,5];case 1:if(!(n=i.sent()).ok||n.bodyUsed)return[3,5];i.label=2;case 2:return i.trys.push([2,4,,5]),[4,n.json()];case 3:return o=i.sent(),[2,{mobile_restricted:!1,sig:(s="live"===e?o.data.streamPlaybackAccessToken:o.data.videoPlaybackAccessToken).signature,token:s.value,authorization:s.authorization}];case 4:return i.sent(),[2];case 5:return[2]}}))}))}}function wf(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){return e.channelLogin?[2,Tf(e.channelLogin,e.playerType,e.refreshAccessToken)]:e.vodID?[2,If(e.vodID,e.playerType,e.refreshAccessToken)]:[2]}))}))}var Tf=Df({get:yf,set:Sf},Ef,yn.X),If=Df({get:kf,set:_f},Af,yn.M);function Df(e,n,t){var a=this;return function(r,o,s){return(0,i.__awaiter)(a,void 0,void 0,(function(){var a,l,d,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(a=e.get(r,o))&&!s?[2,a]:(l=(0,gf.R)(),[4,n(r,o,l)]);case 1:return(d=i.sent())&&!s?(e.set(r,o,d),[2,d]):[4,t(r,o,l)];case 2:return(u=i.sent())?(e.set(r,o,u),[2,u]):[2]}}))}))}}var Of="vp09";function Ff(e,n){if(e.type!==n.type)return!0;if((0,V.DG)(e))return e.channelLogin!==n.channelLogin;if((0,V.wy)(e))return e.vodID!==n.vodID;if((0,V.P3)(e))return e.collectionID!==n.collectionID||e.vodID!==n.vodID;if((0,V.Jn)(e)){var t=n,i=(e.editing&&e.editing.videoUrl)!==(t.editing&&t.editing.videoUrl);return e.clipSlug!==n.clipSlug||i}}function Rf(e,n,t,a,r,o,s){return(0,i.__awaiter)(this,arguments,Promise,(function(e,n,t,a,r,o,s,l,d){var u,c;return void 0===l&&(l=!1),(0,i.__generator)(this,(function(i){switch(i.label){case 0:switch(u=t||"https://usher.ttvnw.net",e.type){case K.FC.Live:return[3,1];case K.FC.VOD:return[3,2];case K.FC.Collection:return[3,3];case K.FC.Clip:return[3,4]}return[3,6];case 1:return[2,Mf(e.channelLogin,n,u,l,s,d)];case 2:return[2,Lf(e.vodID,n,u,l,s,d)];case 3:return[2,Vf(e,n,u,l,s,d)];case 4:return[4,Gf(e,a)];case 5:return c=i.sent(),[2,jf(r,o,e,c)];case 6:return[2,{src:null}]}}))}))}function Mf(e,n,t,a,r,o){return(0,i.__awaiter)(this,void 0,void 0,(function(){var s,l,d,u,p,m;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e=e.toLowerCase(),s=performance.now(),[4,wf({channelLogin:e,playerType:n,refreshAccessToken:a})];case 1:if(l=i.sent(),d=Math.round(performance.now()-s),!l)return[2,{src:null,videoAccessToken:void 0,accessTokenLoadTime:d}];u=null,p=!1;try{(m=JSON.parse(l.token))&&m.authorization&&(u=isNaN(m.authorization.access_expiration)?null:m.authorization.access_expiration,p=m.authorization.forbidden)}catch(e){c.vF.warn("Error parsing video access token: ".concat(e))}return[2,{src:"".concat(t,"/api/channel/hls/").concat(e,".m3u8?").concat(Bf(!0,l,r,o)),videoAccessToken:l,forbidden:p,accessExpiration:u,accessTokenLoadTime:d}]}}))}))}function Lf(e,n,t,a,r,o){return(0,i.__awaiter)(this,void 0,void 0,(function(){var s,l,d,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e=e.startsWith("v")?e.substr(1):e,s=performance.now(),[4,wf({playerType:n,vodID:e,refreshAccessToken:a})];case 1:return l=i.sent(),d=Math.round(performance.now()-s),l?(u="".concat(t,"/vod/").concat(e,".m3u8?").concat(Bf(!1,l,r,o)),[2,{accessTokenLoadTime:d,videoAccessToken:l,src:u}]):[2,{src:null,accessTokenLoadTime:d}]}}))}))}function Vf(e,n,t,a,r,o){return(0,i.__awaiter)(this,void 0,void 0,(function(){var s,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(l=e.vodID)?[3,2]:[4,Uf(e.collectionID)];case 1:l=i.sent(),i.label=2;case 2:return(s=l)?[4,Lf(s,n,t,a,r,o)]:[2,{src:null}];case 3:return[2,i.sent()]}}))}))}function jf(e,n,t,a){return(0,i.__awaiter)(this,void 0,void 0,(function(){var r,o;return(0,i.__generator)(this,(function(i){return(0,V.Jn)(t)&&t.editing&&t.editing.videoUrl?[2,{src:t.editing.videoUrl}]:(r=(0,Ru.Tp)(a,e,n,!0),o="",r.quality&&(0,Ru.Gi)(r.quality)&&(o=r.quality.source),[2,{src:o}])}))}))}function Bf(e,n,t,i){var a,r,o,s,l,d,u,p,m,v="treatment"===c.x2.experiments.__hardcodedStaleExperiment("ENABLE_VP9","control")&&t?"".concat(Of,",avc1"):"avc1",f=(0,cf.h)(window.navigator.userAgent),g={BrowseItemTrackingId:null===(r=null===(a=c.x2.router.state.location)||void 0===a?void 0:a.state)||void 0===r?void 0:r.item_tracking_id,AppVersion:c.x2.config.buildID},h={acmb:btoa(JSON.stringify(g)),raid_id:void 0,force_manifest_node:void 0,force_segment_node:void 0,force_weaver_ads:void 0,force_preroll:void 0,force_midroll:void 0,force_creative_id:void 0,allow_source:!0,fast_bread:!!e||void 0,playlist_include_framerate:!0,reassignments_supported:!0,sig:n.sig,token:n.token,player_backend:"mediaplayer",p:Math.floor(9999999*Math.random()),supported_codecs:v,play_session_id:i,dt:void 0,bndl:void 0,app:void 0,os:void 0,transode_mode:void 0,parent_domains:void 0};if((0,Dl.fX)("twilight_device_type")&&(h.dt=f),e){h.raid_id=null===(s=null===(o=c.x2.router.state.location)||void 0===o?void 0:o.state)||void 0===s?void 0:s.raid_id;var y=te.parse(window.location.search);h.force_manifest_node=null===(l=y.force_manifest_node)||void 0===l?void 0:l.toString(),h.force_segment_node=null===(d=y.force_segment_node)||void 0===d?void 0:d.toString(),"true"===y.force_weaver_ads&&(h.force_weaver_ads=y.force_weaver_ads,h.force_preroll=null===(u=y.force_preroll)||void 0===u?void 0:u.toString(),h.force_midroll=null===(p=y.force_midroll)||void 0===p?void 0:p.toString(),h.force_creative_id=null===(m=y.force_creative_id)||void 0===m?void 0:m.toString())}var k=c.x2.experiments.__hardcodedStaleExperiment("mobile_native_web_transcode_mode","cbr_v1");return k&&(h.transcode_mode=k),(0,Ja.W)()&&(h.parent_domains=["twitchplayer"]),te.stringify(h)}function Uf(e){return(0,i.__awaiter)(this,void 0,void 0,(function(){var n,t,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,c.x2.apollo.client.query({query:ff(),variables:{id:e}})];case 1:return n=i.sent(),t=n.data.collection,[2,(a=t&&t.items.edges[0])&&a.node.id];case 2:return i.sent(),[2];case 3:return[2]}}))}))}function Gf(e,n){return(0,i.__awaiter)(this,void 0,void 0,(function(){var t,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,zf(e.clipSlug)];case 1:return t=i.sent(),a=(0,Ru.S9)(t),n({availableQualities:a}),[2,a]}}))}))}function zf(e){return(0,i.__awaiter)(this,void 0,Promise,(function(){var n,t,a,r,o,s;return(0,i.__generator)(this,(function(l){switch(l.label){case 0:return l.trys.push([0,2,,3]),[4,c.x2.apollo.client.query({query:mf(),variables:{platform:(0,gf.R)(),slug:e}})];case 1:return n=l.sent(),(t=n.data.clip)&&t.videoQualities&&(null===(o=t.playbackAccessToken)||void 0===o?void 0:o.value)&&(null===(s=t.playbackAccessToken)||void 0===s?void 0:s.signature)?(a=t.playbackAccessToken.value,r=t.playbackAccessToken.signature,[2,t.videoQualities.map((function(e){return(0,i.__assign)((0,i.__assign)({},e),{sourceURL:(0,uf.F)(e.sourceURL,a,r)})}))]):[2,[]];case 2:return l.sent(),[2,[]];case 3:return[2]}}))}))}var qf=function(e){var n=e.reportInteractive,t=d.useContext(x.kl).content,i=(0,Wa.Z)(t),a=d.useContext(P.$g).isOffline,r=d.useRef(void 0),o=d.useCallback((function(){clearTimeout(r.current),n()}),[n]);return d.useEffect((function(){if(!i||Ff(i,t)){clearTimeout(r.current);var e=c.x2.dynamicSettings.get("player_prioritization_timeout_seconds",15);r.current=setTimeout((function(){o()}),1e3*e)}}),[t,i,o]),d.useEffect((function(){a&&o()}),[a,o]),(0,tf._)(A.V.Started,o),(0,tf._)(A.V.Error,o),(0,M.p)(N.p.PLAYING,o),(0,M.p)(N.p.IDLE,o),(0,M.p)(N.p.ENDED,o),d.useEffect((function(){return function(){o()}}),[o]),null},Hf=function(e){function n(n){var t=e.call(this,n)||this;return t.playSessionWasRestricted=!1,t.shouldReceivePlayerPrioritizationTreatment=!1,t.onPlaying=function(){t.doNotTrack()||(t.props.latencyTracking.reportCustomEvent(t.playingEvent),t.playingEvent.duration.value&&c.x2.sentry.reportCustomMeasurement("tw.player.played",t.playingEvent.duration.value,"millisecond"))},t.onBuffering=function(){t.doNotTrack()||t.props.latencyTracking.reportCustomEvent(t.bufferingEvent)},t.onReady=function(){t.shouldReceivePlayerPrioritizationTreatment||t.props.latencyTracking.reportInteractive(),t.loadedEvent&&t.props.latencyTracking.reportCustomEvent(t.loadedEvent)},t.doNotTrack=function(){return!t.props.autoplay||t.playSessionWasRestricted},t.registerPlayingEvent=function(){return t.props.latencyTracking.registerCustomEvent({benchmark:4e3,group:"Player",key:"player-played",label:"First Frame",doNotTrack:t.doNotTrack()})},t.registerBufferingEvent=function(){return t.props.latencyTracking.registerCustomEvent({benchmark:1e3,group:"Player",key:"player-buffering",label:"Buffering",doNotTrack:t.doNotTrack()})},t.resetLatencyTrackingEvents=function(){t.playSessionWasRestricted=!1,t.createdEvent=null,t.loadedEvent=null,t.bufferingEvent=t.registerBufferingEvent(),t.playingEvent=t.registerPlayingEvent()},t.maybeCheckPlayerPrioritizationEnrollment=function(e){var n;if((null===(n=e.behaviors)||void 0===n?void 0:n.applyChannelWatchOptimizations)&&(0,V.DG)(e.content)&&e.autoplay){var i=c.x2.experiments.getAndTrackAssignment("player_prioritization_holdout");t.shouldReceivePlayerPrioritizationTreatment="control"===i}else t.shouldReceivePlayerPrioritizationTreatment=!1},t.maybeCheckPlayerPrioritizationEnrollment(n),t.createdEvent=t.props.latencyTracking.registerCustomEvent({benchmark:1e3,group:"Player",key:"player-created",label:"Created"}),t.loadedEvent=t.props.latencyTracking.registerCustomEvent({benchmark:2500,group:"Player",key:"player-loaded",label:"Init"}),t.bufferingEvent=t.registerBufferingEvent(),t.playingEvent=t.registerPlayingEvent(),t.playSessionWasRestricted=t.props.hasPlaybackRestriction,t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.createdEvent&&this.props.latencyTracking.reportCustomEvent(this.createdEvent),this.props.playerEvents.addEventListener(N.p.PLAYING,this.onPlaying),this.props.playerEvents.addEventListener(N.p.BUFFERING,this.onBuffering),this.props.adEvents.addEventListener(A.V.Started,this.onPlaying),this.props.isPlayerCoreLoading||this.onReady()},n.prototype.componentDidUpdate=function(e){this.maybeCheckPlayerPrioritizationEnrollment(this.props),Ff(e.content,this.props.content)&&this.resetLatencyTrackingEvents(),e.isPlayerCoreLoading&&!this.props.isPlayerCoreLoading&&this.onReady(),this.props.hasPlaybackRestriction&&(this.playSessionWasRestricted=!0)},n.prototype.render=function(){return(0,a.jsxs)(a.Fragment,{children:[this.shouldReceivePlayerPrioritizationTreatment&&(0,a.jsx)(qf,{reportInteractive:this.props.latencyTracking.reportInteractive}),this.props.children||null]})},n}(d.Component),Wf=(0,g.Zz)((0,bi.W)("OverhaulPlayer"),(0,b.X)(),_(),(0,P.dd)((function(e){return{autoplay:e.autoplay,isPlayerCoreLoading:e.isPlayerCoreLoading,hasPlaybackRestriction:(0,ye.k1)(e)}})),(0,x.cj)((function(e){return{content:e.content,behaviors:e.behaviors}})))(Hf),Kf=t(943210),Zf=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.detectLoopingChange=function(e){var t=n.props,i=t.mediaPlayerInstance,a=t.enableLooping;i&&(e.enableLooping&&!a?i.setLooping(!1):!e.enableLooping&&a&&i.setLooping(!0))},n.detectDisableAudioChange=function(e){var t=n.props,i=t.disableAudio,a=t.playerType,r=t.setMuted;e.disableAudio&&!i?Kf.o.get("video-muted",a)||r(!1,{persist:!1}):!e.disableAudio&&i&&r(!0,{persist:!1})},n.detectDisableAutoplayChange=function(e){var t=n.props,i=t.mediaPlayerInstance,a=t.disableAutoplay,r=t.hasPlayed,o=t.play;i&&!r&&e.disableAutoplay&&!a&&o()},n.applyForceMaxAutoDimensions=function(){var e=n.props,t=e.mediaPlayerInstance,i=e.forceMaxAutoDimensions;if(t)if(i&&i.group!==xe._6.Auto){var a=i.width,r=i.height;t.setAutoMaxVideoSize(a,r)}else{var o=t.getQualities().find((function(e){return"chunked"===e.group}));o&&t.setAutoMaxQuality(o)}},n.detectForceMaxAutoDimensionsChange=function(e){n.props.forceMaxAutoDimensions!==e.forceMaxAutoDimensions&&n.applyForceMaxAutoDimensions()},n}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){this.detectLoopingChange(e),this.detectDisableAudioChange(e),this.detectDisableAutoplayChange(e),this.detectForceMaxAutoDimensionsChange(e)},n.prototype.render=function(){return(0,a.jsx)(Xf,{applyForceMaxAutoDimensions:this.applyForceMaxAutoDimensions})},n}(d.Component),Xf=function(e){var n=e.applyForceMaxAutoDimensions;return(0,M.p)(N.p.READY,n),null},Qf=(0,g.Zz)((0,x.cj)((function(e){var n=(0,T.wk)({playerPublicPropsContext:e}),t=n.disableAudio,i=n.enableLooping,a=n.disableAutoplay,r=n.forceMaxAutoDimensions;return{disableAudio:t,enableLooping:i,disableAutoplay:a,forceMaxAutoDimensions:r,playerType:(0,wl.O)(e)}})),(0,P.dd)((function(e){var n=e.mediaPlayerInstance,t=e.hasPlayed;return{mediaPlayerInstance:n,hasPlayed:t}})),(0,E.AP)((function(e){var n=e.isPlaying,t=e.play,i=e.setMuted;return{isPlaying:n,play:t,setMuted:i}})))(Zf);var Yf=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onPlaybackBlocked=function(){var e=n.props.onPlaybackBlocked;e&&e()},n.onPlaybackEnded=function(){var e=n.props.onPlaybackEnded;e&&e()},n.onTimeChanged=function(){var e=n.props,t=e.mediaPlayerInstance,i=e.onVideoTimeChange;t&&i&&i(t.getPosition())},n.onAnalyticsEvent=function(e){var t=n.props.onAnalyticsEvent;t&&t(e)},n.detectOnPlayingChange=function(e){var t=n.props.onPlaying;t&&(!e.isPlayerPlaying&&n.props.isPlayerPlaying&&t(n.props.playSessionId),!e.isAdPlaying&&n.props.isAdPlaying&&t(n.props.playSessionId))},n.detectOnPauseChange=function(e){var t=n.props.onPauseToggled;t&&(e.isPlayerPlaying!==n.props.isPlayerPlaying&&t(!n.props.isPlayerPlaying),e.isAdPlaying!==n.props.isAdPlaying&&t(!n.props.isAdPlaying))},n.detectOnReadyChange=function(e){var t=n.props.onReady;t&&!e.isPlayerReady&&n.props.isPlayerReady&&t()},n.detectMutedChange=function(e){var t=n.props.onMuteToggled;t&&e.muted!==n.props.muted&&t(!!n.props.muted)},n.detectFullscreenChange=function(e){var t=n.props.onFullscreenChange;t&&e.isFullscreen!==n.props.isFullscreen&&t(n.props.isFullscreen)},n.detectPlaybackRestrictionChange=function(e){var t=n.props.onContentRestricted;t&&!e.hasPlaybackRestriction&&n.props.hasPlaybackRestriction&&t()},n.detectContentClassificationChange=function(e){var t=n.props,i=t.onContentClassificationChange,a=t.contentClassificationOverlayType;i&&e.contentClassificationOverlayType!==a&&i(a)},n.detectInitChange=function(e){var t=n.props.onInit;if(t&&e.isPlayerCoreLoading&&!n.props.isPlayerCoreLoading){var i=n.props;t({play:i.play,pause:i.pause,seek:i.seek,requestManualReset:i.requestManualReset,setClosedCaptionsEnabled:i.setClosedCaptionsEnabled,setVolume:i.setVolume,setMuted:i.setMuted,setQuality:i.setQuality,getPlayerMetadata:i.getPlayerMetadata})}},n.detectOnlineChange=function(e){var t=n.props.onStreamOnline;t&&!1!==e.isOffline&&!1===n.props.isOffline&&t()},n.detectOfflineChange=function(e){var t=n.props.onStreamOffline;t&&!0!==e.isOffline&&!0===n.props.isOffline&&t()},n.detectFetchVideoSourceFailure=function(e){var t=n.props.onFetchVideoSourceFailure;t&&!e.isNoneSourceStatus&&n.props.isNoneSourceStatus&&t()},n.detectAdShowingChange=function(e){var t=n.props,i=t.onAdEnd,a=t.onAdStart,r=e.isAdShowing,o=n.props.isAdShowing;i&&r&&!o?i({adID:e.adID,content:e.content,sessionID:e.sessionID,stitched:e.isStitchedAd,roll:e.adRollType}):a&&!r&&o&&a({adID:n.props.adID,content:n.props.content,sessionID:n.props.sessionID,stitched:n.props.isStitchedAd,roll:n.props.adRollType,adFormat:n.props.adFormat})},n.detectPlaybackErrorChange=function(e){var t=n.props,i=t.error,a=t.onPlaybackError,r=e.error;a&&(!r&&i||r&&i&&r!==i)&&a({code:i})},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(L.a.PLAYBACK_BLOCKED,this.onPlaybackBlocked),this.props.playerEvents.addEventListener(L.a.TIME_UPDATE,this.onTimeChanged),this.props.playerEvents.addEventListener(N.p.ENDED,this.onPlaybackEnded),this.props.playerEvents.addEventListener(L.a.ANALYTICS_EVENT,this.onAnalyticsEvent)},n.prototype.componentDidUpdate=function(e){this.detectAdShowingChange(e),this.detectInitChange(e),this.detectFetchVideoSourceFailure(e),this.detectFullscreenChange(e),this.detectMutedChange(e),this.detectOfflineChange(e),this.detectOnlineChange(e),this.detectOnPauseChange(e),this.detectOnPlayingChange(e),this.detectOnReadyChange(e),this.detectPlaybackRestrictionChange(e),this.detectContentClassificationChange(e),this.detectPlaybackErrorChange(e)},n.prototype.render=function(){return null},n}(d.Component),$f=(0,g.Zz)((0,x.cj)((function(e){var n=(0,T.zB)({playerPublicPropsContext:e}),t=n.onAdEnd,i=n.onAdStart,a=n.onAnalyticsEvent,r=n.onContentRestricted,o=n.onContentClassificationChange,s=n.onFetchVideoSourceFailure,l=n.onFullscreenChange,d=n.onInit,u=n.onMuteToggled,c=n.onPauseToggled,p=n.onPlaybackBlocked,m=n.onPlaybackEnded,v=n.onPlaybackError,f=n.onPlaying,g=n.onReady,h=n.onStreamOffline,y=n.onStreamOnline,k=n.onVideoTimeChange;return{content:e.content,onAdEnd:t,onAdStart:i,onAnalyticsEvent:a,onContentRestricted:r,onContentClassificationChange:o,onFetchVideoSourceFailure:s,onFullscreenChange:l,onInit:d,onMuteToggled:u,onPauseToggled:c,onPlaybackBlocked:p,onPlaybackEnded:m,onPlaybackError:v,onPlaying:f,onReady:g,onStreamOffline:h,onStreamOnline:y,onVideoTimeChange:k}})),(0,k.VX)((function(e){var n=e.isPlaying,t=e.videoAdMetadata,i=e.videoAdRequest;return{adID:(0,S.lq)(t)?null==t?void 0:t.lineItemId:void 0,adRollType:(0,S.lq)(t)?null==t?void 0:t.roll:null==i?void 0:i.roll,isAdPlaying:n,isAdShowing:(0,S.cz)(t),isStitchedAd:(0,S.lq)(t),sessionID:(0,S.lq)(t)?null==t?void 0:t.adSessionId:null==i?void 0:i.sessionID,adFormat:(0,S.EF)(t)?null==t?void 0:t.adFormat:void 0}})),(0,P.dd)((function(e){var n=e.error,t=e.isOffline,i=e.isPlayerCoreLoading,a=e.mediaPlayerInstance,r=e.requestManualReset,o=e.playSessionId,s=e.sourceStatus;return{error:n,hasPlaybackRestriction:(0,ye.k1)(e),isOffline:t,isPlayerCoreLoading:i,isPlayerPlaying:(0,ye.F4)(e),isPlayerReady:(0,ye.i_)(e),mediaPlayerInstance:a,requestManualReset:r,playSessionId:o,isNoneSourceStatus:s===jv.O.None}})),(0,Da.Z)((function(e){return{contentClassificationOverlayType:e.overlayType}})),(0,E.AP)((function(e){var n=e.muted,t=e.play,i=e.pause,a=e.seek,r=e.setMuted,o=e.setVolume,s=e.setQuality,l=e.getPlayerMetadata;return{muted:n,play:t,pause:i,seek:a,setMuted:r,setVolume:o,setQuality:s,getPlayerMetadata:l}})),(0,De.c0)((function(e){var n=e.isFullscreen,t=e.setClosedCaptionsEnabled;return{isFullscreen:n,setClosedCaptionsEnabled:t}})),(0,b.X)())(Yf);var Jf=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.detectVideoOffsetChange=function(e,t){var i=(0,V.xq)(e),a=(0,V.xq)(t);void 0!==a&&i!==a&&n.props.mediaPlayerInstance&&!(0,V.JN)(t)&&n.props.mediaPlayerInstance.seekTo(a)},n}return(0,i.__extends)(n,e),n.prototype.componentDidUpdate=function(e){var n=e.content,t=this.props.content;Ff(n,t)||this.detectVideoOffsetChange(n,t)},n.prototype.render=function(){return null},n}(d.Component),eg=(0,g.Zz)((0,P.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,x.cj)((function(e){var n=e.content;return{content:n}})))(Jf);var ng=t(104745),tg=t.n(ng),ig=c.x2.logger.withCategory("resume-watching"),ag=function(){var e=d.useState(!1),n=e[0],t=e[1],i=d.useState(0),a=i[0],r=i[1],o=d.useContext(P.$g).mediaPlayerInstance,s=d.useContext(x.kl).content,l=(0,V.hq)(s),p=d.useRef();d.useEffect((function(){p.current=l}));var m=(0,V.wy)(s)?s.videoOffset:void 0,v=(0,u.d4)((function(e){var n=(0,pn.wz)(e);return!(!n||!n.id)})),f=!l||!v,g=(0,F.IT)(tg(),{skip:f,notifyOnNetworkStatusChange:!0}),h=g.data,y=g.loading,k=g.refetch,S=!!l&&l!==p.current;return(0,M.p)(L.a.DURATION_CHANGED,d.useCallback((function(){r(o?o.getDuration():0)}),[o])),d.useEffect((function(){return r(0)}),[l]),d.useEffect((function(){!S||y||f||(ig.debug("Switched to a new VOD, refetching user's viewed videos."),k())}),[S,y,f,k]),d.useEffect((function(){S&&void 0===m?(ig.debug("Switched to new VOD with no video offset, we should try to resume watch"),t(!0)):S||void 0===m||(ig.debug("Received new video offset for the current VOD, bail any attempts to resume watch"),t(!1))}),[S,m]),d.useEffect((function(){if(n&&l&&function(e){return e>0&&e<1/0}(a)&&o)if(v){if(!h||y)return void ig.debug("Still waiting on GraphQL data to load");t(!1),function(e){ig.debug("Trying to resume watch as a logged in user for VOD ".concat(e.vodID));var n=function(e){if(!e)return;return e&&e.currentUser&&e.currentUser.viewedVideos&&e.currentUser.viewedVideos.edges}(e.data);if(!n)return void ig.debug("User has no saved resume watch times from GraphQL.");var t=n.find((function(n){return n&&n.node.id===e.vodID}));if(!t||null===t.history.position)return void ig.debug("User has saved watch times from GraphQL, but not for this VOD ".concat(e.vodID,"."));var i=t.history.position;if(og(i,e.duration))return void ig.debug("Resume time ".concat(i," is too close to end of VOD ").concat(e.vodID," (").concat(e.duration,")s"));ig.debug("Resuming watch to ".concat(i," for VOD ").concat(e.vodID)),e.mediaPlayerInstance.seekTo(i)}({vodID:l,duration:a,data:h,mediaPlayerInstance:o})}else t(!1),function(e){ig.debug("Trying to resume watch as a logged out user for VOD ".concat(e.vodID));var n=function(e){var n="v".concat(e);return c.IG.get(Vd.U.VOD_RESUME_TIMES,{})[n]}(e.vodID);if(void 0===n)return void ig.debug("No resume time found in local storage for VOD ".concat(e.vodID));if(og(n,e.duration))return void ig.debug("Resume time ".concat(n," is too close to end of VOD ").concat(e.vodID," (").concat(e.duration,")s"));ig.debug("Resuming watch to ".concat(n," for VOD ").concat(e.vodID)),e.mediaPlayerInstance.seekTo(n)}({vodID:l,duration:a,mediaPlayerInstance:o})}),[n,v,l,h,y,o,a]),null};var rg=120;function og(e,n){return n-e<rg}var sg=t(572126),lg=t.n(sg);function dg(e){return e.playerCoreBroadcastID}function ug(e){var n=e.mediaPlayerInstance;if(!n)throw new Error("no backend");return n.getPosition()}var cg=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.currentStreamOffset=0,n.writeToGQL=function(e,t){return(0,i.__awaiter)(n,void 0,void 0,(function(){var n,a,r,o,s,l,d,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:if(n=this.props,a=n.isVod,r=n.isLive,o=n.vodID,s=n.currentUserID,n.isAdShowing)return[2];if(!s)throw new Error("resume watched should use local storage for logged out users");return!r||this.props.hasEnded?[3,2]:(l=dg(this.props))?(u={userID:s,position:Math.floor(t),videoID:l,videoType:ie.MrR.LIVE},[4,this.props.updateUserViewedVideo({variables:{input:u}})]):(c.x2.logger.withCategory("ResumeWatching").warn("missing broadcastID while attempting to update user resume watching status"),[2]);case 1:return i.sent(),[3,4];case 2:return a?(d=function(e){var n=e.mediaPlayerInstance;if(!n)throw new Error("no backend");return n.getDuration()}(this.props)-ug(this.props)<120,u={userID:s,position:d?0:Math.floor(e),videoID:o||"",videoType:ie.MrR.VOD},[4,this.props.updateUserViewedVideo({variables:{input:u}})]):[3,4];case 3:i.sent(),i.label=4;case 4:return[2]}}))}))},n.writeToStorage=function(e){var t=n.props,i=t.isVod,a=t.vodID,r=t.isLive,o=t.isAdShowing,s=t.hasEnded;if(!o){var l=dg(n.props);if(i&&n.props.mediaPlayerInstance)(d=c.IG.get(Vd.U.VOD_RESUME_TIMES,{}))["v".concat(a)]=n.props.mediaPlayerInstance.getDuration()-e<120?0:Math.floor(e),c.IG.set(Vd.U.VOD_RESUME_TIMES,d);else if(r&&l){var d;(d=c.IG.get(Vd.U.LIVE_RESUME_TIMES,{}))[l]=s?0:Math.floor(n.currentStreamOffset),c.IG.set(Vd.U.LIVE_RESUME_TIMES,d)}}},n.onSegmentMetadata=function(e){var t=e.streamOffset;n.currentStreamOffset=t},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.setupLiveGqlTimeouts(),this.props.playerEvents.addEventListener(L.a.SEGMENT_METADATA,this.onSegmentMetadata)},n.prototype.componentWillUnmount=function(){this.clearAsync(),this.props.playerEvents.removeEventListener(L.a.SEGMENT_METADATA,this.onSegmentMetadata)},n.prototype.componentDidUpdate=function(){var e=this;this.clearAsync(),this.setupLiveGqlTimeouts(),clearTimeout(this.endClearTimeout),this.endClearTimeout=setTimeout((function(){return(0,i.__awaiter)(e,void 0,void 0,(function(){var e,n;return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return this.props.isLive&&this.props.hasEnded&&this.props.currentUserID?(e=dg(this.props))?(n={userID:this.props.currentUserID,position:0,videoID:e,videoType:ie.MrR.LIVE},[4,this.props.updateUserViewedVideo({variables:{input:n}})]):(c.x2.logger.withCategory("ResumeWatching").warn("missing broadcastID while attempting to update user resume watching status"),[2]):[3,2];case 1:t.sent(),t.label=2;case 2:return this.props.isVod&&this.props.vodID&&this.props.hasEnded&&this.props.currentUserID?(n={userID:this.props.currentUserID,position:0,videoID:this.props.vodID,videoType:ie.MrR.VOD},[4,this.props.updateUserViewedVideo({variables:{input:n}})]):[3,4];case 3:t.sent(),t.label=4;case 4:return[2]}}))}))}),5e3*Math.random())},n.prototype.render=function(){return this.props.hasPlayed?this.props.currentUserID&&this.props.isVod?(0,a.jsx)(Pe.j,{onTimeChanged:this.writeToGQL,throttleMilliseconds:2e4}):this.props.currentUserID?null:(0,a.jsx)(Pe.j,{onTimeChanged:this.writeToStorage,throttleMilliseconds:5e3}):null},n.prototype.setupLiveGqlTimeouts=function(){var e=this;if(this.props.hasPlayed&&this.props.currentUserID&&this.props.isLive&&dg(this.props)&&this.props.mediaPlayerInstance){var n=function(){e.writeToGQL(ug(e.props),e.currentStreamOffset)},t=Math.ceil(5*Math.random()*6e4);this.timeout=setTimeout((function(){n(),e.interval=setInterval(n,6e5)}),t)}},n.prototype.clearAsync=function(){clearInterval(this.interval),clearTimeout(this.timeout)},n}(d.Component);var pg=(0,g.Zz)((0,u.Ng)((function(e){var n=(0,pn.wz)(e);return{currentUserID:n?n.id:null}})),(0,k.VX)((function(e){return{isAdShowing:(0,S.cz)(e.videoAdMetadata)}})),(0,P.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,hasPlayed:e.hasPlayed,hasEnded:e.playerState===N.p.ENDED}})),(0,x.cj)((function(e){var n=e.content;return{isVod:(0,V.wy)(n)||(0,V.P3)(n),vodID:(0,V.hq)(n),isLive:(0,V.DG)(n)}})),(0,b.X)(),(function(e){var n=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.state={id:void 0},e.onDurationChanged=function(){e.setState((function(n){var t,i,a=(t=e.props.mediaPlayerInstance,(i=t&&t.getSessionData())&&i["BROADCAST-ID"]);return n.id===a?null:{id:a}}))},e}return(0,i.__extends)(t,n),t.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(L.a.DURATION_CHANGED,this.onDurationChanged)},t.prototype.render=function(){return(0,a.jsx)(e,(0,i.__assign)({},this.props,{playerCoreBroadcastID:this.state.id}))},t.displayName=(0,y.K)(t.name,e),t}(d.Component);return(0,g.Zz)((0,P.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance}})),(0,b.X)())(n)}),(0,z._v)(lg(),{name:"updateUserViewedVideo"}))(cg),mg=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(pg,{}),(0,a.jsx)(ag,{})]})};var vg=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.hasEverPausedFromBeingOutsideViewPort=!1,n.checkVisible=function(e){var t=n.props,i=t.videoContainer,a=t.isPlaying,r=t.pausingBehavior;if(i&&a&&r){var o,s,l=i.getBoundingClientRect();if(o=e,(s=l).bottom<o.top||s.top>o.bottom)r!==Oe.Fc.Once||n.hasEverPausedFromBeingOutsideViewPort||(n.pausePlayer(),n.unregisterScrollListener()),r===Oe.Fc.Always&&n.pausePlayer()}},n.pausePlayer=function(){n.hasEverPausedFromBeingOutsideViewPort=!0,n.props.pause()},n.unregisterScrollListener=function(){n.unregister&&n.unregister()},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.pausingBehavior&&(this.unregister=this.props.registerReceiver(this))},n.prototype.componentDidUpdate=function(e){!e.pausingBehavior&&this.props.pausingBehavior&&(this.unregister=this.props.registerReceiver(this))},n.prototype.componentWillUnmount=function(){this.unregisterScrollListener()},n.prototype.render=function(){return null},n}(d.Component),fg=(0,g.Zz)((0,De.c0)((function(e){var n=e.videoContainer;return{videoContainer:n}})),(0,E.AP)((function(e){var n=e.isPlaying,t=e.pause;return{isPlaying:n,pause:t}})),(0,x.cj)((function(e){return{pausingBehavior:(0,T.wk)({playerPublicPropsContext:e}).pauseWhenNotInViewport}})),(0,Tn.UJ)((function(e){return{registerReceiver:e.registerReceiver}})))(vg);var gg=t(673130),hg=t.n(gg),yg=c.x2.logger.withCategory("StreamRefetchManagerComponent"),kg=[6e4,3e5,6e5,9e5];function Sg(e){var n=e&&e.getSessionData();return n&&n["BROADCAST-ID"]}var _g=(0,g.Zz)((0,P.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,isPlayerCoreLoading:e.isPlayerCoreLoading}})),(0,x.cj)((function(e){var n=e.content;return{isLive:(0,V.DG)(n),channelLogin:(0,V.DG)(n)?n.channelLogin:void 0}})),(0,z._v)(hg(),{options:function(e){return{variables:{channel:e.channelLogin}}},skip:function(e){return!e.isLive}}))((function(e){var n=(0,d.useRef)(""),t=(0,d.useRef)(!0),a=e.mediaPlayerInstance,r=e.isPlayerCoreLoading,o=(0,d.useState)((function(){return Sg(a)})),s=o[0],l=o[1],u=(0,d.useRef)(!1),c=e.data&&e.data.user&&e.data.user.stream&&e.data.user.stream.id||void 0,p=e.data&&e.data.refetch,m=!(!e.data||!e.data.loading),v=(0,d.useCallback)((function(){yg.debug("set broadcast id",{id:Sg(a)}),l(Sg(a))}),[a,l]);return(0,d.useEffect)((function(){var e;return n.current=(0,H.k3)(),yg.debug("running the effect",{isLoading:m,gqlBroadcastId:c,playerCoreBroadcastID:s,effectId:n.current,isPlayerCoreLoading:r}),m||r||c===s||!p?c===s&&(yg.debug("ID stabilized",{effectId:n.current,gqlBroadcastId:c,playerCoreBroadcastID:s}),t.current=!1):(u.current=!0,(0,i.__awaiter)(void 0,void 0,void 0,(function(){function a(){return(0,i.__awaiter)(this,arguments,void 0,(function(t){var r,o;return void 0===t&&(t=0),(0,i.__generator)(this,(function(i){switch(i.label){case 0:return p?(yg.debug("refetch",{retryNumber:t}),r=n.current,[4,p().catch((function(){return yg.warn("gql error")}))]):(yg.errorAndReport(new Error("refetch function is missing"),"refetch function is missing"),[2,void 0]);case 1:return o=i.sent(),r!==n.current?(yg.debug("got results from a refetch, but discarding them as the effect closed over it was torn down",{effectIdForThisRequest:r,effectId:n.current,retryNumber:t}),[2]):c!==s?[2,new Promise((function(i,o){yg.debug("IDs do not match, setting a timeout to do a retry",{effectIdForThisRequest:r,effectId:n.current,retryNumber:t,timeout:kg[t],gqlBroadcastId:c,playerCoreBroadcastID:s}),e=setTimeout((function(){a(t+1).then(i,o)}),(t>=kg.length-1?kg[kg.length-1]:kg[t])+12e4*Math.random()-6e4)}))]:(yg.debug("ID stabilized",{effectIdForThisRequest:r,effectId:n.current,retryNumber:t,timeout:kg[t],gqlBroadcastId:c,playerCoreBroadcastID:s,result:o}),[2,o])}}))}))}return(0,i.__generator)(this,(function(i){return yg.debug("broadcast ID mismatch, polling for new ID",{gqlBroadcastId:c,playerCoreBroadcastID:s,effectId:n.current,isPlayerCoreLoading:r}),t.current?(e=setTimeout((function(){return a()}),kg[0]),t.current=!1):a(),u.current=!1,[2]}))}))),function(){yg.debug("something changed, tearing down effect",{effectId:n.current}),clearTimeout(e)}}),[v,c,a,p,s,m,r]),(0,M.p)(L.a.DURATION_CHANGED,(function(){yg.debug("duration changed"),v()})),(0,M.p)(N.p.ENDED,(function(){yg.debug("ended"),l(void 0)})),(0,M.p)(L.a.ERROR,(function(){yg.debug("error"),v()})),null})),Cg=t(451553),bg=t.n(Cg);var Pg=(0,g.Zz)((0,x.cj)((function(e){var n=e.content;return{isLiveContent:(0,V.DG)(n),channelLogin:(0,V.hd)(n)||"",videoID:(0,V.hq)(n)||"",content:n}})),(0,z._v)(bg(),{name:"channelData",skip:function(e){var n=e.isLiveContent,t=e.channelLogin;return!n||!t},options:function(e){return{variables:{channel:e.channelLogin}}}}))((function(e){var n=e.isLiveContent,t=e.content,i=(0,d.useContext)(P.$g),a=i.isOffline,r=i.hasPlayed,o=(0,d.useContext)(It.g7).track,s=(0,d.useRef)(t),l=function(e){var n,t,i,a=e.channelData;if(a&&!a.loading&&!a.error)return(null===(i=null===(t=null===(n=a.user)||void 0===n?void 0:n.stream)||void 0===t?void 0:t.freeformTags)||void 0===i?void 0:i.map((function(e){return e.name})))||null;return null}(e),u=(0,d.useRef)(l),c=(0,d.useRef)(!1);Ff(t,s.current)&&(c.current=!1),s.current=t;var p=(0,d.useCallback)((function(){c.current=!0,o("play_session_tags",{freeform_tag_stream:u.current?JSON.stringify(u.current):null})}),[o]),m=r&&l&&(n&&!a);return(0,d.useEffect)((function(){if(m){var e,n,t=(e=u.current,n=l,!(!e&&!n||e&&!e.length&&n&&!n.length||e&&n&&e.length===n.length&&e.every((function(e){return n.includes(e)}))));t&&(u.current=l);var i=t&&c.current;c.current&&!i||p()}}),[m,l,p]),null}));var xg,Eg=t(44377),Ag=t(436617),Ng={preAdPodVolume:null,preAdPodMuted:null,streamLoudness:null,reachedDurationThreshold:!1},wg=(0,Ag.e)("AdLoudnessContext",Ng,(function(e){return{adLoudness:e}})),Tg=(wg.withMemoContext,wg.context),Ig=function(e){return e===Eg.Z$.STANDARD_AUDIO?-14:-10.98};!function(e){e.Control="control",e.OnlyDown="treatment_only_down",e.AlwaysAdjust="treatment_always_adjust"}(xg||(xg={}));var Dg=function(){var e=(0,d.useContext)(Tg),n=e.preAdPodMuted,t=e.preAdPodVolume,i=e.streamLoudness,a=(0,d.useContext)(k.jK),r=a.adFormatRequest,o=a.adFormatMetadata,s=a.videoAdRequest,l=a.videoAdMetadata,u=a.userManuallyAdjustedVolumeDuringAd,p=(0,d.useContext)(x.kl),m=(0,T.wk)({playerPublicPropsContext:p}).disableAutoAdVolumeAdjustment,v=(0,d.useRef)(Ig());(0,d.useEffect)((function(){var e=null!=s?s:r;v.current=Ig(null==e?void 0:e.adFormat)}),[r,s]);var f=(0,d.useCallback)((function(){return(0,S.EF)(l)||(0,S.hr)(o)}),[l,o]),g=(0,d.useCallback)((function(e){var t,a=i&&Date.now()-i.timestamp<=3e5,d=(!!s||!!r)&&f()&&!m&&e>.1&&!u&&function(){switch(c.x2.experiments.__hardcodedStaleExperiment("AD_LOUDNESS_REAL_TIME","treatment_only_down")){case xg.AlwaysAdjust:return!0;case xg.OnlyDown:return!!(i&&v.current>i.loudness);default:return!1}}()&&a;return c.E5.track("ad_loudness_normalization",{has_ad_request:!!s||!!r,has_ad_metadata:!!l||!!o,stitched_ad_metadata:!!(null==l?void 0:l.stitched)||!!(null==o?void 0:o.stitched),auto_ad_volume_adjustment_disabled:!!m,pre_ad_pod_muted:!!n,pre_impression_volume:e,user_manually_adjusted_volume_during_ad:u,has_recent_stream_loudness:!!a,play_session_id:c.E5.getVideoPlayerTrackingData().playSessionID,was_normalized:!!d,ad_session_id:(null==s?void 0:s.sessionID)||(null==r?void 0:r.sessionID),channel:null===(t=c.E5.getLastPageview())||void 0===t?void 0:t.channel}),d}),[i,r,o,s,l,m,n,u,v,f]),h=(0,d.useCallback)((function(){return(s||(0,S.tl)(r))&&function(){switch(c.x2.experiments.__hardcodedStaleExperiment("AD_LOUDNESS_REAL_TIME","treatment_only_down")){case xg.AlwaysAdjust:case xg.OnlyDown:return!0;default:return!1}}()&&!u}),[u,s,r]),y=(0,d.useCallback)((function(e){return function(e){var n=e.playerVolume,t=e.streamLoudness,i=e.adLoudness;if(!t||!i)return null;var a=8.6901,r=.0029,o=a*Math.log(n)-r+(t-i),s=Math.exp((o+r)/a);return s===1/0?1/0:s>1?1:+s.toFixed(10)}({playerVolume:e,streamLoudness:i&&i.loudness,adLoudness:v.current})}),[v,i]);return{shouldAdjustVolume:g,getAdjustedVolume:y,getInitialVolume:(0,d.useCallback)((function(){return t}),[t]),shouldResetVolumeOnContentResume:h,getInitialMuteState:(0,d.useCallback)((function(){return!!n}),[n])}},Og="video_ads.stream_loudness";var Fg,Rg=function(e){var n=(0,d.useRef)(e);n.current=e,(0,d.useEffect)((function(){var e=function(){var e;n.current&&(e=n.current,c.IG.set(Og,e))},t=setInterval(e,3e4);return e(),function(){clearInterval(t),e()}}),[])},Mg="TXXX";function Lg(e){var n=e.filter(Vg),t=n.length&&n[0];if(!t||!t.info||!t.info.length)return null;try{var i=JSON.parse(t.info[0]);return{cmd:i.cmd,stream_loudness:i.stream_loudness,length:i.length,commercial_id:i.commercial_id,splice_event_id:i.splice_event_id,avail_num:i.avail_num}}catch(e){return null}}function Vg(e){return e.id===Mg}function jg(e,n){switch(n.update){case Fg.BeginAdPod:return(0,i.__assign)((0,i.__assign)({},e),{preAdPodVolume:n.volume,preAdPodMuted:n.muted});case Fg.DurationThreshold:return(0,i.__assign)((0,i.__assign)({},e),{reachedDurationThreshold:!0});case Fg.ResetAdPod:return(0,i.__assign)((0,i.__assign)({},e),{preAdPodVolume:null,preAdPodMuted:null});case Fg.ResetContext:return(0,i.__assign)({},Ng);case Fg.StreamLoudness:return(0,i.__assign)((0,i.__assign)({},e),{streamLoudness:n.next});default:return e}}!function(e){e.BeginAdPod="BeginAdPod",e.DurationThreshold="DurationThreshold",e.ResetAdPod="ResetAdPod",e.ResetContext="ResetContext",e.StreamLoudness="StreamLoudness"}(Fg||(Fg={}));var Bg=function(e){var n=d.useContext(x.kl).content,t=d.useReducer(jg,(0,i.__assign)((0,i.__assign)({},Ng),{streamLoudness:c.IG.getOptional(Og)})),r=t[0],o=t[1];return(0,a.jsxs)(Tg.Provider,{value:r,children:[((0,V.DG)(n)||(0,V.wy)(n))&&(0,a.jsx)(Ug,{state:r,dispatch:o}),e.children]})},Ug=function(e){var n=e.state,t=e.dispatch;return Gg(t,n),zg(t,n),d.useEffect((function(){return function(){t({update:Fg.ResetContext})}}),[t]),null},Gg=function(e,n){var t=n.streamLoudness,i=n.reachedDurationThreshold;Rg(t),(0,M.p)(nf.ID3,d.useCallback((function(n){var t,a=null!==(t=function(e){var n=Lg(e);return n&&n.stream_loudness||void 0}(n))&&void 0!==t?t:Ig();a&&i&&e({update:Fg.StreamLoudness,next:{loudness:a,timestamp:Date.now()}})}),[i,e])),d.useEffect((function(){var n=setTimeout((function(){e({update:Fg.DurationThreshold})}),5e3);return function(){return clearTimeout(n)}}),[e])},zg=function(e,n){var t=d.useContext(k.jK),i=t.adFormatMetadata,a=t.videoAdMetadata,r=d.useContext(P.$g),o=r.volume,s=r.muted,l=n.preAdPodMuted,u=n.preAdPodVolume,c=(0,S.EF)(a)||(0,S.hr)(i);d.useEffect((function(){c?null===l&&null===u&&e({update:Fg.BeginAdPod,volume:o||0,muted:!!s}):e({update:Fg.ResetAdPod})}),[c,o,s,l,u,e])},qg=t(90300),Hg=t(922314),Wg=t(88405),Kg=t(826094),Zg=t(532896),Xg=t(674181),Qg=t(9195),Yg="lastAdDisplay",$g="lastPrerollAdDisplay";var Jg,eh=t(664213),nh=t(452072),th=t.n(nh),ih=60,ah=3e5,rh=3e4,oh="broadcaster";function sh(e){return(0,i.__awaiter)(this,void 0,Promise,(function(){var n,t,a;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return[4,ph(e)];case 1:return n=i.sent(),t=function(e){var n=e.request,t=e.props,i=new Set,a=te.parse(window.location.search),r=Date.now(),o=t.video,s=t.broadcaster,l=t.currentUser,d=n.roll===pe.d.Pre,u=n.roll===pe.d.Mid,p=n.roll===pe.d.Post,m=c.x2.storage.get(Yg,0),v=c.x2.storage.get($g,{channelId:null,time:0}),f=s&&s.adProperties;t.declineVideoAdsReason&&i.add(t.declineVideoAdsReason);n.roll===pe.d.Pre&&t.content.type===K.FC.Live&&l&&s&&l.id===s.id&&i.add(Qg.k.BroadcasterPreroll);o&&o.lengthSeconds&&o.lengthSeconds<ih&&n.roll===pe.d.Pre&&i.add(Qg.k.ShortVideo);d&&o&&s&&l&&s.id===l.id&&i.add(Qg.k.VODCreator);l&&l.hasTurbo&&i.add(Qg.k.Turbo);d&&r-m<ah&&i.add(Qg.k.RateLimitPreroll);u&&s&&v.channelId===s.id&&r-v.time<rh&&i.add(Qg.k.RateLimitMidroll);s&&s.self&&s.self.subscriptionBenefit&&s.self.subscriptionBenefit.product&&s.self.subscriptionBenefit.product.hasAdFree&&i.add(Qg.k.AdFreeChannelSubscription);var g=f&&d&&f.hasPrerollsDisabled,h=f&&p&&f.hasPostrollsDisabled;(g||h)&&i.add(Qg.k.AdFreeChannel);d&&"raid"===a.referrer&&i.add(Qg.k.Raid);o&&u&&f&&n.broadcasterInitiated&&o.broadcastType===ie.Suw.ARCHIVE&&f.vodArchiveMidrolls!==oh&&i.add(Qg.k.BroadcasterInitiatedVODMidroll);o&&f&&!f.hasVodAdsEnabled&&i.add(Qg.k.AdFreeVOD);d&&o&&t.embeddedPromotionalVOD&&i.add(Qg.k.EmbedPromo);return i}(e),a=null,n&&n.reason&&t.add(n.reason),n&&n.error&&(a=n.error),[2,{shouldDecline:!!t.size&&!e.request.forced,trackingEvent:"video_ad_request_declined",trackingProperties:lh(t),serverError:a,radToken:n?n.radToken:null}]}}))}))}function lh(e){return[Qg.k,Qg.e].reduce((function(n,t){return Object.values(t).forEach((function(t){n[t]=e.has(t)})),n}),{})}function dh(e){var n=_v.bi.StandardVideoAd;if(e){var t=e;t.adFormat&&(n=t.adFormat)}return n}var uh=((Jg={})[pe.d.Pre]=ie.bOg.PREROLL,Jg[pe.d.Mid]=ie.bOg.MIDROLL,Jg[pe.d.Post]=ie.bOg.POSTROLL,Jg),ch=function(e){switch(e){case K.FC.Live:return ie.ebQ.LIVE;case K.FC.VOD:case K.FC.Collection:return ie.ebQ.VOD;default:return null}};function ph(e){return(0,i.__awaiter)(this,arguments,Promise,(function(e){var n,t,a,r,o,s,l,d,u,p,m,v,f,g,h,y,k,_,C,b,P=e.request,x=e.props,E=e.trackVideoAdData;return(0,i.__generator)(this,(function(e){switch(e.label){case 0:if(n=x.videoAccessToken,t=x.disableAutoplay,a=x.content,r=ch(a.type),o={break_length:P.duration,emitting_service:"AdvantEdge",is_mafs:!!P.mafsDecision,stitched:!!(0,S.lq)(x.stitchedAdMetadata)},!n)return[2,{reason:null,error:{context:"GrandDAds",error:"invalid request - nauth",details:"no nauth token present"},radToken:null}];if(!r)return[2,{reason:null,error:{context:"GrandDAds",error:"invalid request - content type",details:"invalid content type"},radToken:null}];s=null,x.mediaPlayerInstance&&(s=x.mediaPlayerInstance.getSessionData()["VIDEO-SESSION-ID"]),l={adSessionID:P.sessionID,clientContext:{isAudioOnly:!1,isMiniTheater:!1,isPIP:!1,isUsingExternalPlayback:!1,clientApp:c.x2.session.clientApp||"",appVersion:c.x2.config.buildID||""},duration:P.duration,playerContext:{contentType:r,isAutoPlay:!t,nauthSig:n.sig||"",nauthToken:n.token||"",videoSessionID:s,playerSizeMode:(0,eh.y)(x),playerType:x.playerType,raidID:null===(y=null===(h=x.location)||void 0===h?void 0:h.state)||void 0===y?void 0:y.raid_id,browseItemTrackingID:null===(_=null===(k=x.location)||void 0===k?void 0:k.state)||void 0===_?void 0:_.item_tracking_id},rollType:uh[P.roll],isVLM:!!P.isVLM,commercialID:P.commercialID||"",game:(null===(C=x.game)||void 0===C?void 0:C.name)||"",twitchCorrelator:P.twitchCorrelator||"",adFormat:dh(x.stitchedAdMetadata)},d=(0,Zg.ff)(P.adFormat.toString())?P.adFormat.toString():Xg.p.CHANNEL_PLAYER,E("ad_eligibility_check_client_request",(0,i.__assign)({ad_placement:d,allocation_type:"PreFill",main_play_session_id:c.E5.getVideoPlayerTrackingData().playSessionID,pbyp_play_session_id:void 0},o)),e.label=1;case 1:return e.trys.push([1,3,,4]),[4,c.x2.apollo.client.query({query:th(),fetchPolicy:"network-only",variables:{context:l}})];case 2:return u=e.sent(),p=u.data.adContext,m=(null==p?void 0:p.radToken)||null,E("ad_eligibility_check_client_request_response",(0,i.__assign)({ad_placement:d,shouldDecline:p&&p.declineState.shouldDecline},o)),v=null,u.errors&&u.errors.length&&(v={context:"GrandDAds",error:"server error",details:u.errors.toString()},E("ad_eligibility_check_client_request_error",(0,i.__assign)((0,i.__assign)({ad_placement:d},o),{error_reason:u.errors.toString()}))),[2,{reason:p&&p.declineState.reason,error:v,radToken:m}];case 3:return f=e.sent(),g=(0,Kg.d)(f,{useRawMessage:!0}),E("ad_eligibility_check_client_request_error",(0,i.__assign)({error_reason:g},o)),[2,{reason:null,error:{context:"GrandDAds",error:g,details:f instanceof Error&&(null===(b=f.stack)||void 0===b?void 0:b.toString())||""},radToken:null}];case 4:return[2]}}))}))}var mh=t(960052);function vh(e,n){var t,i=n.game,a=n.broadcaster,r=n.embed,o={game:(0,mh.mV)(null!==(t=null==i?void 0:i.name)&&void 0!==t?t:""),chan:a&&a.login,chanid:a&&a.id,twitchcorrelator:e.twitchCorrelator,ad_session_id:e.sessionID,embed:r,platform:"web",mature:!!(a&&a.broadcastSettings&&a.broadcastSettings.isMature),pos:fh(e.roll),timebreak:e.duration,tag:gh(n),content_labels:hh(n)},s=a&&a.roles;return s&&s.isPartner?o.chantype="partner":s&&s.isAffiliate?o.chantype="affiliate":o.chantype="basic",o}function fh(e){switch(e){case pe.d.Mid:return 2;case pe.d.Post:return 3;default:return 1}}function gh(e){var n=e.broadcaster,t=e.video,a=e.content,r=[];return a.type!==K.FC.Live&&t&&t.contentTags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),t.contentTags,!0)),a.type===K.FC.Live&&n&&n.stream&&n.stream.tags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),n.stream.tags,!0)),a.type===K.FC.Live&&n&&n.stream&&n.stream.game&&n.stream.game.tags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),n.stream.game.tags,!0)),r.map((function(e){return(0,mh.mV)(e.tagName.toLowerCase())})).join("|")}function hh(e){var n,t;return(null===(t=null===(n=e.video)||void 0===n?void 0:n.contentClassificationLabels)||void 0===t?void 0:t.filter((function(e){return e.isEnabled})).map((function(e){return e.id})).join("|"))||""}var yh=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.requestInProcess=null,n.handleNewVideoAdRequest=function(){return(0,i.__awaiter)(n,void 0,void 0,(function(){var e,n,t,a,r,o,s,l;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return e=this.props,n=e.adFormatRequest,t=e.videoAdRequest,a=e.server,r=e.processAdRequest,o=e.reset,(s=null!=t?t:n)&&s.status===pe.s.Pending&&this.requestInProcess!==s?(this.props.trackVideoAdData("ad_opportunity_start_client",{sda_sequence_length:null==n?void 0:n.sequenceLength}),this.requestInProcess=s,[4,sh({request:s,props:this.props,trackVideoAdData:this.props.trackVideoAdData})]):[2];case 1:return(l=i.sent()).serverError&&this.props.trackVideoAdData("video_ad_related_error",l.serverError),this.props.setRadToken(l.radToken),this.props.videoAdRequest!==t?[2]:!l.shouldDecline||s.forced?a===A.K.VAES?(r(s,function(e,n,t){return{sdk:n,content:t.content,playerType:t.playerType,broadcaster:t.broadcaster,currentUser:t.currentUser,game:t.game,video:t.video,server:t.server,tagParams:vh(e,t)}}(s,Wg.R.Amazon,this.props)),[2]):(o(),[2]):(this.props.trackVideoAdData(l.trackingEvent,l.trackingProperties),"video_ad_request_declined"===l.trackingEvent&&this.props.trackVideoRAdEvent(Hg.V.VideoAdRequestDeclined,l.trackingProperties),this.props.reset(),[2])}}))}))},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.handleNewVideoAdRequest()},n.prototype.componentDidUpdate=function(){this.handleNewVideoAdRequest()},n.prototype.render=function(){return null},n}(d.Component);var kh=(0,g.Zz)((0,x.cj)((function(e){var n=(0,T.wk)({playerPublicPropsContext:e});return{content:e.content,declineVideoAdsReason:n.declineVideoAdsReason,embeddedPromotionalVOD:n.embeddedPromotionalVOD,playerType:e.type,embed:!!n.embed,disableAutoplay:n.disableAutoplay,mini:!!n.mini}})),(0,qg._)(),(0,k.VX)((function(e){var n=e.adFormatRequest,t=e.videoAdRequest,i=e.processAdRequest,a=e.setRadToken,r=e.reset,o=e.videoAdMetadata,s=(0,S.lq)(o)&&o||void 0;return{adFormatRequest:n,videoAdRequest:t,reset:r,setRadToken:a,processAdRequest:i,stitchedAdMetadata:s}})),(0,P.dd)((function(e){var n=e.videoAccessToken,t=e.mediaPlayerInstance;return{videoAccessToken:n,mediaPlayerInstance:t}})),(0,De.c0)((function(e){var n=e.isFullscreen;return{isFullscreen:n}})),q.y,(0,u.Ng)((function(e){return{theatreModeEnabled:e.ui.theatreModeEnabled}})))(yh);var Sh=t(190121),_h=t.n(Sh),Ch=t(55533),bh=t(876275);function Ph(e,n){var t,i=n.game,a=n.broadcaster,r=n.embed,o={game:(0,mh.mV)(null!==(t=null==i?void 0:i.name)&&void 0!==t?t:""),chan:a&&a.login,chanid:a&&a.id,twitchcorrelator:e.twitchCorrelator,embed:r,platform:"web",mature:!!(a&&a.broadcastSettings&&a.broadcastSettings.isMature),pos:xh(e.roll),timebreak:e.duration,tag:Eh(n),content_labels:Ah(n)},s=a&&a.roles;return s&&s.isPartner?o.chantype="partner":s&&s.isAffiliate?o.chantype="affiliate":o.chantype="basic",o}function xh(e){switch(e){case pe.d.Mid:return 2;case pe.d.Post:return 3;default:return 1}}function Eh(e){var n=e.broadcaster,t=e.video,a=e.content,r=[];return a.type!==K.FC.Live&&t&&t.contentTags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),t.contentTags,!0)),a.type===K.FC.Live&&n&&n.stream&&n.stream.tags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),n.stream.tags,!0)),a.type===K.FC.Live&&n&&n.stream&&n.stream.game&&n.stream.game.tags&&(r=(0,i.__spreadArray)((0,i.__spreadArray)([],r,!0),n.stream.game.tags,!0)),r.map((function(e){return(0,mh.mV)(e.tagName.toLowerCase())})).join("|")}function Ah(e){var n,t;return(null===(t=null===(n=e.video)||void 0===n?void 0:n.contentClassificationLabels)||void 0===t?void 0:t.filter((function(e){return e.isEnabled})).map((function(e){return e.id})).join("|"))||""}var Nh=(0,g.Zz)((0,Op.A)(),(0,De.c0)((function(e){var n=e.videoContainer;return{videoContainer:n}})),(0,x.cj)((function(e){var n=e.behaviors;return{behaviors:n}})))((function(e){var n,t=!!(null===(n=e.behaviors)||void 0===n?void 0:n.mini);d.useEffect((function(){i()}));var i=function(){var n=e.adFormatRequest,t=e.processAdRequest,i=e.reset;if(n&&n.status===pe.s.Pending&&(0,gv.rF)(n.adFormat)&&!e.loading){var r=n;r.radsToken&&e.setRadToken(r.radsToken);var o=r.adFormat,s=a(o);s&&!n.forced?(e.trackAdFormatData("ad_request_format_declined",{reason:JSON.stringify([s])}),i()):t(n,function(e,n){return{content:n.content,sdk:bh.hJ.Amazon,broadcaster:n.broadcaster,currentUser:n.currentUser,game:n.game,video:n.video,server:n.server,tagParams:Ph(e,n)}}(n,e))}},a=function(e){switch(e){case Eg.Z$.LOWER_THIRD:case Eg.Z$.SQUEEZEBACK:case Eg.Z$.OUTSTREAM_VERTICAL_VIDEO:return t?Ch.y.MiniPlayer:void 0;default:return Ch.y.InvalidFormat}};return null}));function wh(e){var n,t;return e.collection?null===(n=e.collection)||void 0===n?void 0:n.owner:e.video?null===(t=e.video)||void 0===t?void 0:t.owner:e.user}function Th(e){var n,t;if(e.collection){var i=null===(t=null===(n=e.collection)||void 0===n?void 0:n.items)||void 0===t?void 0:t.edges,a=i&&(0,R.bK)(i);if(a&&a.length>0)return a[0]}return e.video}function Ih(e){var n=wh(e),t=Th(e);return t?t.game:(null==n?void 0:n.stream)?n.stream.game:void 0}function Dh(e){var n=wh(e),t=n&&n.adProperties;if(t)return t.adServerDefault||A.K.DFP}var Oh=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,i.__extends)(n,e),n.prototype.render=function(){var e=this.props.adFormatRequest;return e&&(0,gv.rF)(e.adFormat)?(0,a.jsx)(Nh,(0,i.__assign)({},this.props)):this.props.loading?null:(0,a.jsx)(kh,(0,i.__assign)({},this.props))},n}(d.Component),Fh=(0,g.Zz)((0,x.cj)((function(e){var n=(0,T.wk)({playerPublicPropsContext:e});return{content:e.content,declineVideoAdsReason:n.declineVideoAdsReason,embeddedPromotionalVOD:n.embeddedPromotionalVOD,playerType:e.type,embed:!!n.embed,disableAutoplay:n.disableAutoplay,mini:!!n.mini}})),(0,k.VX)((function(e){var n=e.adFormatRequest,t=e.processAdRequest,i=e.setRadToken,a=e.reset,r=e.videoAdMetadata,o=(0,S.lq)(r)&&r||void 0;return{adFormatRequest:n,reset:a,setRadToken:i,processAdRequest:t,stitchedAdMetadata:o}})),(0,z._v)(_h(),{props:function(e){return{broadcaster:(n=e.data)&&wh(n)||null,currentUser:n&&n.currentUser||null,error:n&&n.error,game:n&&Ih(n)||null,inputVariables:n&&n.variables,loading:!(!n||!n.loading),server:n&&Dh(n),video:n&&Th(n)||null};var n},options:function(e){var n=e.content;return{variables:{isLive:!!(0,V.DG)(n),login:(0,V.hd)(n)||"",isVOD:!!(0,V.wy)(n)||!(!(0,V.P3)(n)||!n.vodID),vodID:(0,V.hq)(n)||"",isCollection:!!(0,V.P3)(n)&&!n.vodID,collectionID:!(0,V.hq)(n)&&(0,V.Eq)(n)||""}}}}))(Oh);var Rh,Mh=t(691111),Lh=t(518658),Vh=t(441519),jh=t(361124),Bh=c.vF.withCategory("useSDATimers");!function(e){e[e.Reset=0]="Reset",e[e.NextRequest=1]="NextRequest"}(Rh||(Rh={}));var Uh=t(945869),Gh=c.vF.withCategory("OutstreamAdRequester");function zh(e){return!(!e||e.adFormat!==Eg.Z$.LOWER_THIRD&&e.adFormat!==Eg.Z$.SQUEEZEBACK&&e.adFormat!==Eg.Z$.OUTSTREAM_VERTICAL_VIDEO)}var qh=(0,Op.A)()((function(e){var n=e.trackAdFormatData,t=e.trackAdFormatRAdEvent,a=d.useContext(k.jK),r=a.adFormatRequest,o=a.reset,s=a.fillClientSideAd,l=a.prepareClientSideAd,u=a.displaySDASequence,c=a.videoAdMetadata,p=a.resetOutstreamAd,m=a.updateLastSDAAdRequestBlocked,v=a.incrementSDARequestCount,f=d.useContext(x.kl).behaviors,g=d.useContext(P.$g).mediaPlayerInstance,h=!(!f||!f.declineVideoAdsReason),y=d.useRef(!1),S=d.useRef(!1),_=d.useRef(),C=d.useRef(""),b=d.useRef(0),E=d.useRef(0),A=d.useRef(0),N=d.useRef(0),w=d.useRef(0),T=d.useRef([]),I=d.useRef([]),D=d.useRef([]),O=d.useRef(!1);d.useEffect((function(){O.current=!!(null==c?void 0:c.stitched)}),[null==c?void 0:c.stitched]);var F=d.useRef(!1);d.useEffect((function(){F.current=!!(null==f?void 0:f.mini)}),[null==f?void 0:f.mini]);var R=function(){var e=d.useState(void 0),n=e[0],t=e[1];d.useEffect((function(){return function(){return clearTimeout(n)}}),[n]);var i=d.useState(void 0),a=i[0],r=i[1];d.useEffect((function(){return function(){return clearTimeout(a)}}),[a]);var o=d.useCallback((function(){return void 0!==n||void 0!==a}),[n,a]);return{clearAllSDATimeouts:d.useCallback((function(){void 0!==n&&(Bh.debug("Clearing the 'state reset' SDA timeout"),t(void 0)),void 0!==a&&(Bh.debug("Clearing the 'next request' SDA timeout"),r(void 0))}),[n,a]),setNewSDATimeout:d.useCallback((function(e,n){e===Rh.Reset?(Bh.debug("Updating the 'state reset' SDA timeout"),t(n)):e===Rh.NextRequest&&(Bh.debug("Updating the 'next request' SDA timeout"),r(n))}),[]),hasActiveTimeouts:o}}(),M=R.clearAllSDATimeouts,L=R.setNewSDATimeout,V=R.hasActiveTimeouts,j=d.useRef(zh(r));return d.useEffect((function(){j.current=zh(r)}),[r]),d.useEffect((function(){if(!h&&r&&r.status===pe.s.Processed&&g&&!y.current){var e=r,t=e.adFormat,a=e.duration,d=e.sequenceLength,c=new Date,f={allocation_strategy:Eg.Z$[t],date:c.toDateString(),sdk:bh.hJ.Amazon,emitting_service:"AdvantEdge",stitched:!1,pbyp_visible:!1,is_mafs:!!r.mafsDecision,eligible_formats:null,allocation_type:"PreFill",fallback_format:null};t&&(0,gv.rF)(t)&&(A.current=d&&Number(d)||1,b.current=Math.floor(a/A.current),E.current=A.current,y.current=!0,x(e,_.current,C.current))}function k(){u(!1),y.current=!1,S.current=!1,L(Rh.Reset,setTimeout((function(){O.current?(Gh.debug("Outstream ad requester is resetting the SDA state as a stitched ad is active"),p()):(Gh.debug("Outstream ad requester is resetting the ad context state"),o())}),1.5*jh.P4))}function P(t){var a=this;L(Rh.NextRequest,setTimeout((function(){return(0,i.__awaiter)(a,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){switch(t.label){case 0:return E.current>0||!j.current?[4,x(e,_.current,C.current)]:[3,2];case 1:return t.sent(),[3,3];case 2:Gh.debug("Outstream ad break has completed and will reset"),N.current>1&&n("ad_client_pod_completion",{flexsealTrackingProps:f,sda_sequence_length:N.current,sda_sequence_number:w.current}),k(),t.label=3;case 3:return[2]}}))}))}),t))}function x(e,t,r){return(0,i.__awaiter)(this,void 0,Promise,(function(){var o,d,c,p,g,h,x,R,M,L,V,B,U,G,z,q,H,W,K,Z,X;return(0,i.__generator)(this,(function(Q){switch(Q.label){case 0:return Q.trys.push([0,2,3,4]),E.current<=0||O.current||F.current?(k(),[2]):(o=(0,gv.rF)(t)?t:e.adFormat,d=""!==r?r:e.mafsDecision,c=(0,Uh.zB)(o).size,p=A.current,g=A.current-E.current+1,Gh.debug("Outstream ad break is currently on ad ".concat(g,"/").concat(p)),1===g&&(Gh.info("resetting sda sequence parameters"),T.current=[],I.current=[],D.current=[],v()),h=(0,i.__assign)((0,i.__assign)({},e),{adFormat:o,mafsDecision:d,duration:b.current}),x=(0,Zg.L9)(new Vh.C,(0,i.__assign)((0,i.__assign)({},h),{duration:a})),p>1&&(N.current=p,w.current=g,Gh.info("applying sda sequence parameters to request"),x=x.withBlockedCreatives(T.current.join("|")).withBlockedAdvertisers(I.current.join("|")).withBlockedCategories(D.current.join("|")).withMaxSequence(p).withSequenceNumber(g)),R=p>1?{sda_sequence_length:p,sda_sequence_number:g}:void 0,M=function(e,t){return n(e,(0,i.__assign)((0,i.__assign)((0,i.__assign)({ad_size:JSON.stringify(c)},t||{}),R||{}),f))},L=function(e){var t=(0,Dl.fX)("nab_gate"),i=(0,Xe.If)();t&&void 0!==i&&!Xe.l$.has(i)&&e<250&&(m(!0),n("nab_detection",{nab_value:"2",client_country_code:(0,Xe.If)()}))},[4,Lh.F.requestAd(x,M,L)]);case 1:if(V=Q.sent()||{},E.current-=1,(0,Uh.Jp)(V))B=V.resp,e.adFormat=Eg.Z$.OUTSTREAM_VERTICAL_VIDEO,l((0,i.__assign)((0,i.__assign)({},e),{vast:B}),e),E.current=0;else{if(U=null!==(X=V.resp)&&void 0!==X?X:{},!S.current&&U&&(0,gv.rW)(U.returnedAdFormat)&&U.updatedMafsDecision&&(_.current=U.returnedAdFormat,C.current=U.updatedMafsDecision,S.current=!0),!j.current)return Gh.debug("Outstream ad break was aborted during ad request, so not filling the ad"),k(),[2];U.creativeHtml?(Gh.debug("got sda bid response, now ".concat(E.current," ads remaining"),U),U.adv&&U.adv.length>0&&!U.adv.find((function(e){return"amazon.com"===e.toLowerCase()}))&&(Gh.info("adding a new adv",U.adv),(K=I.current).push.apply(K,U.adv)),U.cat&&U.cat.length>0&&!U.cat.find((function(e){return"IAB22"===e.toUpperCase()}))&&(Gh.info("adding a new cat",U.cat),(Z=D.current).push.apply(Z,U.cat)),G=(0,gv.rW)(_.current)?_.current:h.adFormat,z=""===C.current?h.mafsDecision:C.current,q=(0,i.__assign)((0,i.__assign)({},h),{adFormat:G,mafsDecision:z}),H=(0,Uh.V4)(q,U,R),s(H,q),u(!0),1===g&&n("ad_client_pod_start",(0,i.__assign)({flexsealTrackingProps:f,format_name:(0,Uh.r0)(U.returnedAdFormat),requested_ad_size:JSON.stringify(c)},R||{})),P(H.duration*jh.P4)):(Gh.debug("no sda returned, now ".concat(E.current," ads remaining")),P(0))}return[3,4];case 2:return W=Q.sent(),Gh.debug("caught an error while handling ad edge response",W),k(),[3,4];case 3:return y.current=E.current>0,[7];case 4:return[2]}}))}))}}),[r,u,s,l,g,o,p,L,h,n,t,m,v]),d.useEffect((function(){!zh(r)&&V()&&(Gh.debug("adFormatRequest has been reset while SDA timeouts are active. Clearing active timeouts"),M(),y.current=!1,S.current=!1)}),[r,M,V]),d.useEffect((function(){r||(_.current=void 0,C.current="")}),[r]),null})),Hh=function(){return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(Mh.AM,{}),(0,a.jsx)(qh,{})]})},Wh=_()((function(e){var n=e.adEvents,t=d.useContext(k.jK).updateAdStats;return d.useEffect((function(){var e=function(e){t(function(e){var n=e.adInfo;return{id:n&&n.adID||void 0,adPosition:n&&n.adPodInfo?n.adPodInfo.adPosition:void 0,adWrapperIds:n&&n.adWrapperIds||void 0,creativeId:n&&n.creativeID||void 0,duration:n&&n.duration||void 0,impressionTime:Date.now(),totalAds:n&&n.adPodInfo?n.adPodInfo.totalAds:void 0,system:n&&n.adSystem||void 0,title:n&&n.title||void 0,contentType:n&&n.contentType||void 0,vastMediaHeight:n&&void 0!==n.vastMediaHeight?n.vastMediaHeight:void 0,vastMediaWidth:n&&void 0!==n.vastMediaWidth?n.vastMediaWidth:void 0,vastMediaBitrate:n&&void 0!==n.vastMediaBitrate?n.vastMediaBitrate:void 0,mediaUrl:n&&n.mediaUrl||void 0}}(e))};return n.addEventListener(A.V.Impression,e),function(){n.removeEventListener(A.V.Impression,e)}}),[n,t]),null}));var Kh,Zh,Xh,Qh,Yh,$h=t(705970);function Jh(e){return"".concat(e.adSessionID,"-").concat(e.adPosition)}function ey(e,n,t){return{adSessionID:Jh(e),type:n,timestamp:Date.now(),data:void 0!==t?t:null}}function ny(e){return{viewport:{width:window.innerWidth,height:window.innerHeight},adView:{percentageInView:e.percentageInView,geometry:e.geometry,onScreenGeometry:e.onScreenGeometry,reasons:e.reasons}}}function ty(e,n){var t=function(e){return{skippable:!1,autoPlay:!0,position:e.roll}}(e);n(ey(e,Kh.Loaded,t))}function iy(e,n,t){var i=function(e,n){return{duration:e.duration,videoPlayerVolume:+(n||0).toFixed(10)}}(e,t);n(ey(e,Kh.Start,i))}function ay(e,n,t){var a=function(e){return(0,i.__assign)({mediaType:"video",videoEventAdaptorType:"jsCustom",videoEventAdaptorVersion:"1.2"},ny(e))}(t);n(ey(e,Kh.Impression,a))}function ry(e,n,t){if(t>0&&t<4){var i=function(e){switch(e){case 1:return Kh.FirstQuartile;case 2:return Kh.Midpoint;case 3:return Kh.ThirdQuartile;default:return Kh.Complete}}(t);n(ey(e,i))}}function oy(e,n){var t={interactionType:Xh.Click};n(ey(e,Kh.AdUserInteraction,t))}function sy(e,n,t){var i=null==n?void 0:n.getElementsByTagName("video"),a=i&&i[0]?i[0]:null,r={context:{apiVersion:"",environment:"web",accessMode:"full",videoElement:a,adSessionType:"html",adServerId:"",adCount:1,omidNativeInfo:{partnerName:"Amazon",partnerVersion:"1.0"},omidJsInfo:{omidImplementer:"omsdk",serviceVersion:"1.3",sessionClientVersion:"1.3",partnerName:"Amazon",partnerVersion:"1.0"},supports:["clid"]}};t(ey(e,Kh.SessionStart,r))}!function(e){e.SessionStart="sessionStart",e.SessionError="sessionError",e.SessionFinish="sessionFinish",e.Impression="impression",e.Loaded="loaded",e.Start="start",e.FirstQuartile="firstQuartile",e.Midpoint="midpoint",e.ThirdQuartile="thirdQuartile",e.Complete="complete",e.Pause="pause",e.Resume="resume",e.BufferStart="bufferStart",e.BufferFinish="bufferFinish",e.VolumeChange="volumeChange",e.PlayerStateChange="playerStateChange",e.AdUserInteraction="adUserInteraction",e.GeometryChange="geometryChange"}(Kh||(Kh={})),function(e){e.Minimized="minimized",e.Collapsed="collapsed",e.Normal="normal",e.Expanded="expanded",e.Fullscreen="fullscreen"}(Zh||(Zh={})),function(e){e.Click="click",e.InvitationAccepted="invitation_accepted"}(Xh||(Xh={})),function(e){e.NotFound="notFound",e.Hidden="hidden",e.Backgrounded="backgrounded",e.Viewport="viewport",e.Obstructed="obstructed",e.Clipped="clipped"}(Qh||(Qh={})),function(e){e.Video="video",e.Generic="generic"}(Yh||(Yh={}));var ly=t(78058),dy=t(430228),uy=t.n(dy),cy=new Set([Kh.SessionStart,Kh.SessionError,Kh.SessionFinish]),py="session",my="video";function vy(e){return!cy.has(e)&&e!==Kh.Impression&&e!==Kh.GeometryChange}function fy(){var e=d.useRef(new(uy())),n=d.useRef([]);return{emitOMIDEvent:(0,ly.K)((function(t){c.vF.debug("ad ".concat(t.type,", omidEvent"),t),n.current.push(t),cy.has(t.type)?e.current.emit(py,t):(e.current.emit(t.type,t),vy(t.type)&&e.current.emit(my,t))})),removeOldEventsFromCache:(0,ly.K)((function(e){n.current=n.current.filter((function(n){return n.adSessionID!==Jh(e)}))})),getOMIDClient:function(t,a){function r(e){return e.type===Kh.SessionStart?(0,i.__assign)((0,i.__assign)({},e),{data:(0,i.__assign)((0,i.__assign)({},e.data||{}),{verificationParameters:a})}):e}function o(e){return e.adSessionID===Jh(t)}var s=function(t,i){n.current.filter(o).filter(function(e){switch(e){case py:return function(e){return cy.has(e.type)};case my:return function(e){return vy(e.type)};default:return function(n){return n.type===e}}}(t)).map(r).forEach((function(e){return i(e)})),e.current.addListener(t,(function(e){o(e)&&i(r(e))}))};return{registerSessionObserver:function(e,n){s(py,e)},addEventListener:s}}}}function gy(){return{x:0,y:0,width:window.innerWidth,height:window.innerHeight}}function hy(e){return e.width*e.height}function yy(e,n){if(!n)return[];var t={x:0,y:0,width:window.innerWidth,height:50};return 0===hy(Cy(e,t))?[]:[t]}function ky(e){var n=[];if(e){var t={x:0,y:0,width:e>0?window.innerWidth:0,height:e};n.push(t)}return n}function Sy(e,n){if(0===n)return 0;var t=Math.round(e/n*100);return Math.min(100,Math.max(0,t))}function _y(e,n){var t=Cy(e,gy()),a=n.map((function(e){return(0,i.__assign)((0,i.__assign)({},Cy(e,t)),{depth:1})}));var r=hy(t);return function e(n){var t=n.filter((function(e){return hy(e)>0}));if(0===t.length)return[];var a=t[0],r=e(t.slice(1)),o=[];return r.forEach((function(e){o.push(e),o.push((0,i.__assign)((0,i.__assign)({},Cy(e,a)),{depth:a.depth+e.depth}))})),o.push(a),o}(a).forEach((function(e){e.depth%2==1?r-=hy(e):r+=hy(e)})),r}function Cy(e,n){var t=Math.max(e.x,n.x),i=Math.max(e.y,n.y),a=Math.min(e.x+e.width,n.x+n.width)-t,r=Math.min(e.y+e.height,n.y+n.height)-i;return a<=0||r<=0?{x:0,y:0,width:0,height:0}:{x:t,y:i,width:a,height:r}}var by=function(e,n){switch(n.type){case"SetInitialAdViewGeometry":case"ResetAdViewReasons":return(0,i.__assign)((0,i.__assign)({},e),n.payload);case"ResetAdViewGeometry":var t=function(e,n,t,a,r){var o,s=(0,mt.G)(e),l=s.x,d=void 0===l?0:l,u=s.y,p=void 0===u?0:u,m=s.width,v=void 0===m?0:m,f=s.height,g=void 0===f?0:f,h={x:d,y:p,width:v,height:g},y=0;if(r){var k=n.onScreenGeometry.obstructions[0]||{x:0,y:0,width:0,height:0},S=k.y+k.height;y=p>S?p:S}var _,C=(0,Dl.fX)("dont_report_non_overlapping_obstructions")?yy(h,r):ky(y),b=Cy(h,gy()),P=hy(h),x=hy(b),E=_y(h,C),A=Sy(E,P),N=[];return E<x&&N.push(Qh.Obstructed),x<P&&N.push(Qh.Viewport),"visible"!==document.visibilityState&&"treatment"===c.x2.experiments.getAndTrackAssignment("vid_omsdk_v_experiment")&&(N=[Qh.Backgrounded],A=0),_=a?Zh.Fullscreen:t===Zh.Fullscreen||(null===(o=n.initialGeometry)||void 0===o?void 0:o.width)===v&&n.initialGeometry.height===g?Zh.Normal:P>n.area?Zh.Expanded:A>0?Zh.Collapsed:Zh.Minimized,{initialGeometry:n.initialGeometry,geometry:h,onScreenGeometry:(0,i.__assign)((0,i.__assign)({},b),{obstructions:C}),area:P,percentageInView:A,reasons:N,playerState:_}}(n.payload.videoContainer,e,n.payload.lastPlayerState,n.payload.isFullscreen,n.payload.isTopNavShowing);return(0,i.__assign)((0,i.__assign)({},e),{geometry:t.geometry,onScreenGeometry:t.onScreenGeometry,area:t.area,percentageInView:t.percentageInView,reasons:t.reasons,playerState:t.playerState});case"SetAdComplete":return(0,i.__assign)({},e);default:throw new Error}},Py=function(e){var n=e.listenerProps,t=n.omidAdMetadata,i=n.emitOMIDEvent;return(0,M.p)(N.p.BUFFERING,d.useCallback((function(){i(ey(t,Kh.BufferStart))}),[t,i])),(0,M.p)(N.p.PLAYING,d.useCallback((function(){i(ey(t,Kh.BufferFinish))}),[t,i])),null},xy=function(e){var n=e.listenerProps,t=n.omidAdMetadata,i=n.emitOMIDEvent,a=d.useContext(k.jK),r=a.addClickListener,o=a.removeClickListener;(0,tf._)(A.V.Click,d.useCallback((function(){oy(t,i)}),[t,i]));var s=d.useCallback((function(){oy(t,i)}),[t,i]);return d.useEffect((function(){return r(s),function(){o(s)}}),[s,o,r]),null},Ey=function(e){var n=e.listenerProps,t=n.omidAdMetadata,i=n.emitOMIDEvent;return(0,tf._)(A.V.Error,d.useCallback((function(e){var n,a,r,o,s;n=t,a=Yh.Generic,r=e.reason,o=i,s=function(e,n){return{error_type:e,message:n}}(a,r),o(ey(n,Kh.SessionError,s))}),[t,i])),null},Ay=t(726561),Ny=t(255578),wy=function(e){var n=e.verificationsIsNotEmpty,t=e.listenerProps,i=t.omidAdMetadata,r=t.emitOMIDEvent,o=e.adViewState,s=e.updateAdViewState,l=e.lastPlayerState,c=d.useContext(De._t),p=c.videoContainer,m=c.isFullscreen,v=(0,u.d4)(Sr.GQ),f=!m&&!v;d.useEffect((function(){!function(e,n,t){var i=ny(t);n(ey(e,Kh.GeometryChange,i))}(i,r,o)}),[o,i,r]);var g=d.useCallback((function(){"visible"!==document.visibilityState?s({type:"ResetAdViewReasons",payload:{reasons:[Qh.Backgrounded],percentageInView:0}}):s({type:"ResetAdViewGeometry",payload:{videoContainer:p,lastPlayerState:l,isFullscreen:m,isTopNavShowing:f}})}),[s,p,l,m,f]);d.useEffect((function(){return document.addEventListener("visibilitychange",g),function(){document.removeEventListener("visibilitychange",g)}}),[g]);var h=(0,Ay.F)((function(){p&&s({type:"ResetAdViewGeometry",payload:{videoContainer:p,lastPlayerState:l,isFullscreen:m,isTopNavShowing:f}})})),y=d.useMemo((function(){return(0,Ny.s)((function(){h.current()}),1e3)}),[h]),k=d.useContext(Tn.MD).registerReceiver;return d.useEffect((function(){var e=k({checkVisible:y});return function(){e()}}),[y,k]),(0,a.jsx)(a.Fragment,{children:n&&(0,a.jsx)(ct.$,{onResize:y})})};function Ty(e){var n=d.useRef(),t=d.useContext(E.wL),i=e.onPlay,a=e.onPause;d.useEffect((function(){n.current?!n.current.isPlaying&&t.isPlaying?i():n.current.isPlaying&&!t.isPlaying&&a():t.isPlaying?i():a()}),[n,t,i,a]),d.useEffect((function(){n.current=t}),[t])}var Iy=function(e){var n=e.listenerProps,t=n.omidAdMetadata,i=n.emitOMIDEvent;return Ty({onPlay:d.useCallback((function(){i(ey(t,Kh.Resume))}),[t,i]),onPause:d.useCallback((function(){i(ey(t,Kh.Pause))}),[i,t])}),null},Dy=function(e){var n=e.listenerProps,t=n.omidAdMetadata,i=n.emitOMIDEvent,a=e.setOMIDAdMetadata,r=e.addVerifications,o=e.onAdComplete,s=e.adViewState,l=e.getVolume,u=d.useContext(k.jK).videoAdRequest,c=d.useContext(De._t).videoContainer;return(0,tf._)(A.V.Loaded,d.useCallback((function(e){var n,t,i,o={adSessionID:(null==u?void 0:u.sessionID)||"",duration:e.adInfo&&e.adInfo.duration||0,adPosition:(null===(t=null===(n=e.adInfo)||void 0===n?void 0:n.adPodInfo)||void 0===t?void 0:t.adPosition)||0,roll:e.request.roll};a(o),r((null===(i=e.adInfo)||void 0===i?void 0:i.verificationResources)||[],o)}),[r,null==u?void 0:u.sessionID,a])),(0,tf._)(A.V.Impression,d.useCallback((function(){ay(t,i,s)}),[t,s,i])),(0,tf._)(A.V.Started,d.useCallback((function(){sy(t,c,i),ty(t,i),iy(t,i,l())}),[t,c,i,l])),(0,tf._)(A.V.FirstQuartile,d.useCallback((function(e){ry(t,i,e.quartile)}),[t,i])),(0,tf._)(A.V.Midpoint,d.useCallback((function(e){ry(t,i,e.quartile)}),[t,i])),(0,tf._)(A.V.ThirdQuartile,d.useCallback((function(e){ry(t,i,e.quartile)}),[t,i])),(0,tf._)(A.V.Complete,d.useCallback((function(){o(t)}),[t,o])),null},Oy=c.x2.logger.withCategory("ssai-progress-listener"),Fy=function(e){var n=e.listenerProps,t=n.omidAdMetadata,i=n.emitOMIDEvent,a=e.setOMIDAdMetadata,r=e.addVerifications,o=e.onAdComplete,s=e.adViewState,l=e.getVolume,u=d.useContext(k.jK).videoAdMetadata,c=d.useContext(De._t).videoContainer,p=(0,S.lq)(u)&&u||void 0,m=d.useCallback((function(e){if(e["X-TV-TWITCH-AD-ADVERIFICATIONS"])if(e.DURATION&&e["X-TV-TWITCH-AD-POD-POSITION"]&&e["X-TV-TWITCH-AD-ROLL-TYPE"]){var n,d={adSessionID:e["X-TV-TWITCH-AD-AD-SESSION-ID"]||"",duration:parseInt(e.DURATION,10)||0,adPosition:parseInt(e["X-TV-TWITCH-AD-POD-POSITION"],10)+1,roll:(n=e["X-TV-TWITCH-AD-ROLL-TYPE"],"MIDROLL"===n?pe.d.Mid:"POSTROLL"===n?pe.d.Post:pe.d.Pre)};if(Jh(d)!==Jh(t)){o(t),a(d);var u=[];try{u=function(e){var n=e.Verifications||e.Verification;if(!n)return[];return n.map((function(e){return{vendor:e.vendor,JavaScriptResources:e.JavaScriptResource.map((function(e){return{apiFramework:e.apiFramework,URI:e.URI}})),VerificationParameters:e.VerificationParameters}}))}(JSON.parse(atob(e["X-TV-TWITCH-AD-ADVERIFICATIONS"])))}catch(e){Oy.warn("failed to parse stitched ad verifications")}r(u,d),sy(d,c,i),ty(d,i),iy(d,i,l()),ay(d,i,s)}}else Oy.warn("Unable to create omidAdMetadata for stitched ad.")}),[t,o,a,r,c,i,l,s]),v=d.useCallback((function(e){if(e["X-TV-TWITCH-AD-QUARTILE"]){var n=parseInt(e["X-TV-TWITCH-AD-QUARTILE"]||"",10);ry(t,i,n)}}),[i,t]),f=d.useCallback((function(e){p&&"live"===e["X-TV-TWITCH-STREAM-SOURCE"]&&o(t)}),[p,o,t]),g=d.useCallback((function(e){if("text/json"===e.type){var n=void 0;try{n=JSON.parse(e.data)}catch(e){return void Oy.warn("failed to parse stitched ad metadata")}if(!n)return void Oy.warn("failed to parse stitched ad metadata");switch(n.CLASS){case _v.cG:m(n);break;case _v.Pv:v(n);break;case _v.ur:f(n)}}}),[m,v,f]);return(0,M.p)(L.a.METADATA,g),null};var Ry=function(e){var n=e.listenerProps,t=n.omidAdMetadata,i=n.emitOMIDEvent,a=e.getVolume,r=d.useRef(null);null===r.current&&(r.current=a());var o=d.useMemo((function(){return(0,Ny.s)((function(e){var n,a,r;n=t,a=i,r=function(e){return{videoPlayerVolume:+e.toFixed(10)}}(e),a(ey(n,Kh.VolumeChange,r))}),1e3)}),[i,t]);return d.useEffect((function(){var e=a();e!==r.current&&(r.current=e,o(e))}),[o,i,a,t]),null},My=c.x2.logger.withCategory("ad-verification-manager").withCategory("vendor-iframe"),Ly=function(e){var n=d.useRef(null),t=d.useCallback((function(){var t,i,a,r,o;if((null===(t=n.current)||void 0===t?void 0:t.contentWindow)&&(null===(i=n.current)||void 0===i?void 0:i.contentDocument))if(0!==e.verification.JavaScriptResources.length){var s=null===(a=n.current)||void 0===a?void 0:a.contentWindow;s.omid3p=e.omidClient;var l=s.document.createElement("script");l.src=e.verification.JavaScriptResources[0].URI,$h.wG.some((function(n){return n.test(e.verification.vendor)}))&&(null===(r=n.current)||void 0===r||r.setAttribute("sandbox","allow-scripts")),(null===(o=n.current)||void 0===o?void 0:o.contentDocument).body.appendChild(l)}else My.warn("setupIFrame failed because JavaScriptResources was empty");else My.warn("setupIFrame failed because the iframe was null")}),[e.omidClient,e.verification.JavaScriptResources,e.verification.vendor]);return(0,Ze.S)((function(){return n.current=document.createElement("iframe"),n.current.style.display="none",n.current.title="VendorIFrame",e.adSessionId&&(n.current.dataset.testid=e.adSessionId),n.current.addEventListener("load",(function(){t()})),document.body.appendChild(n.current),function(){try{document.body.removeChild(n.current)}catch(e){My.warn("failed to remove iframe from document:",e)}}})),null},Vy=function(){var e=d.useState([]),n=e[0],t=e[1],r=d.useContext(De._t).videoContainer,o=d.useContext(E.wL),s=o.muted,l=o.volume,u=d.useContext(k.jK),p=u.muted,m=u.volume,v=u.adFormatMetadata,f=u.thirdPartyOutstreamVideoAdElement,g=d.useMemo((function(){return v&&(0,gv.C_)(null==v?void 0:v.adFormat)&&f?[p,m,f]:[s,l,r]}),[s,l,p,m,v,r,f]),h=g[0],y=g[1],S=g[2],_=fy(),C=_.emitOMIDEvent,b=_.removeOldEventsFromCache,P=_.getOMIDClient,x=d.useState({adSessionID:"",duration:0,adPosition:0,roll:pe.d.Pre}),A=x[0],N=x[1],w=d.useReducer(by,function(e){var n=(0,mt.G)(e),t=n.x,a=void 0===t?0:t,r=n.y,o=void 0===r?0:r,s=n.width,l=void 0===s?0:s,d=n.height,u=void 0===d?0:d,p={y:o,x:a,width:l,height:u},m=(0,Dl.fX)("dont_report_non_overlapping_obstructions")?yy(p,!0):ky(o),v=Sy(_y(p,m),hy(p)),f=v<100?[Qh.Obstructed]:[];return"visible"!==document.visibilityState&&"treatment"===c.x2.experiments.getAndTrackAssignment("vid_omsdk_v_experiment")&&(f=[Qh.Backgrounded],v=0),{initialGeometry:p,geometry:p,onScreenGeometry:(0,i.__assign)((0,i.__assign)({},p),{obstructions:m}),area:l*u,percentageInView:v,reasons:f,playerState:Zh.Normal}}(S)),T=w[0],I=w[1],D=(0,Wa.Z)(T.playerState),O=d.useState([]),F=O[0],R=O[1],M=d.useCallback((function(){return h?0:y||0}),[h,y]),L=d.useCallback((function(e,n){t((function(t){return e.forEach((function(e){e.JavaScriptResources=e.JavaScriptResources.filter((function(e){return"omid"===(null==e?void 0:e.apiFramework)})),function(e){return $h.qu.some((function(n){return n.test(e.vendor)}))&&e.JavaScriptResources.length>0}(e)&&t.push({omidAdMetadata:n,verification:e})})),t}))}),[]),V=d.useCallback((function(e){b(e),t((function(n){return n.filter((function(n){return Jh(n.omidAdMetadata)!==Jh(e)}))}))}),[b]),j=d.useCallback((function(e){var n=setTimeout((function(){return V(e)}),2e3);R((function(e){return(0,i.__spreadArray)((0,i.__spreadArray)([],e,!0),[n],!1)}))}),[V]);(0,Ze.S)((function(){return function(){return F.forEach((function(e){return clearTimeout(e)}))}}));var B=d.useCallback((function(e){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){return function(e,n){n(ey(e,Kh.Complete))}(e,C),function(e,n){n(ey(e,Kh.SessionFinish))}(e,C),j(e),[2]}))}))}),[C,j]);var U={omidAdMetadata:A,emitOMIDEvent:C};return(0,a.jsxs)(a.Fragment,{children:[n.map((function(e){var n=e.verification,t=JSON.stringify(e);return(0,a.jsx)(Ly,{verification:n,omidClient:P(A,n.VerificationParameters),adSessionId:Jh(e.omidAdMetadata)},t)})),(0,a.jsx)(Dy,{listenerProps:U,setOMIDAdMetadata:N,addVerifications:L,onAdComplete:B,adViewState:T,getVolume:M}),(0,a.jsx)(Fy,{listenerProps:U,setOMIDAdMetadata:N,addVerifications:L,onAdComplete:B,adViewState:T,getVolume:M}),(0,a.jsx)(wy,{listenerProps:U,verificationsIsNotEmpty:!!n.length,adViewState:T,updateAdViewState:I,lastPlayerState:D}),(0,a.jsx)(xy,{listenerProps:U}),(0,a.jsx)(Py,{listenerProps:U}),(0,a.jsx)(Iy,{listenerProps:U}),(0,a.jsx)(Ry,{listenerProps:U,getVolume:M}),(0,a.jsx)(Ey,{listenerProps:U})]})};function jy(){return function(e){var n=function(n){var t=Dg();return(0,a.jsx)(e,(0,i.__assign)({},n,t))};return n.displayName=(0,y.K)("WithAdLoudness",e),n}}var By=t(449885),Uy=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.isCleanAdContextTimeoutEnabled=(0,Dl.fX)("csai_ad_context_auto_clean"),n.addInStreamEventListener=function(e,t){(0,n.props.adEvents.addEventListener)(e,(function(e){(0,S.EF)(n.props.videoAdMetadata)&&t(e)}))},n.onContentResumeRequested=function(e){var t={stitched:!1};n.trackRad(Hg.V.VideoAdPodComplete,e,t),n.track("ad_pod_complete",e,t),n.track("ad_client_pod_completion",e,zy(e.adInfo,n.props.videoAdRequest,n.props.videoAdMetadata)),n.clearMetadataAndRestartMediaPlayer()},n.onPlaying=function(e){n.props.updateAdPlaying(!0),n.setClearAdContextTimeout(!0);var t=n.props.mediaPlayerInstance;(e.adInfo&&e.adInfo.adFormat||By.f.VIDEO)===By.f.AUDIO&&(null==t||t.play())},n.onPaused=function(e){n.props.updateAdPlaying(!1),n.setClearAdContextTimeout(!1);var t=n.props.mediaPlayerInstance;(e.adInfo&&e.adInfo.adFormat||By.f.VIDEO)===By.f.AUDIO&&(null==t||t.pause())},n.onContentPauseRequested=function(e){var t=n.props,i=t.ended,a=t.isLiveContent,r=t.mediaPlayerInstance,o=n.props,s=o.volume,l=o.muted,d=void 0!==s?s:.5;e.videoAd.setVolume(d),n.props.updateAdVolume(d),l&&(e.videoAd.setMuted(!0),n.props.updateAdMuted(!0)),a?(null==r?void 0:r.isMuted())||null==r||r.setMuted(!0):i||null==r||r.pause()},n.onLoad=function(e){n.track("video_ad_loaded",e,{player_mute:!!n.props.muted,player_volume:+(n.props.volume||0).toFixed(10)})},n.onVolumeChanged=function(e){n.props.updateAdVolume(e.volume)},n.onMuteChange=function(e){n.props.updateAdMuted(e.muted)},n.onCreativeClicked=function(e){var t;(null===(t=e.adInfo)||void 0===t?void 0:t.companionEvent)||n.track("ad_click",e,{stitched:!1})},n.getFormat=function(e){var t=n.props.videoAdRequest,i=e.adInfo;return i&&i.adFormat&&i.adFormat===By.f.AUDIO?Eg.Z$.STANDARD_AUDIO:(null==t?void 0:t.mafsDecision)?Eg.Z$.STANDARD_VIDEO:Eg.gz.STANDARD_VIDEO},n.onStart=function(e){var t=e.adInfo&&e.adInfo.adPodInfo,i=e.adInfo;n.setClearAdContextTimeout(!0),n.props.startClientSideAd({adFormat:n.getFormat(e),position:t&&t.adPosition||1,numberOfAds:t&&t.totalAds||1,adInfo:i})},n.onComplete=function(e){n.trackQuartileEvent(e),n.setClearAdContextTimeout(!1);var t;n.track("video_ad_impression_complete",e,{stitched:!1}),void 0===(t=Date.now())&&(t=Date.now()),c.x2.storage.set(Yg,t);var i,a,r=n.props.videoAdRequest&&n.props.videoAdRequest.status===pe.s.Filled?n.props.videoAdRequest:void 0;r&&r.broadcaster&&(i=r.broadcaster.id,void 0===(a=Date.now())&&(a=Date.now()),c.x2.storage.set($g,{channelId:i,time:a}))},n.onProgress=function(e){n.track("video_ad_time_elapsed",e,{time_elapsed:e.progress}),n.lastAdProgressTime=Date.now()},n.checkAdProgress=function(){Date.now()-n.lastAdProgressTime>8e3&&(n.props.reset(),n.clearIntervalTimeout())},n.setClearAdContextTimeout=function(e){n.isCleanAdContextTimeoutEnabled&&(e?n.timeoutID||(n.lastAdProgressTime=Date.now(),n.timeoutID=setInterval(n.checkAdProgress,1e3)):n.clearIntervalTimeout())},n.clearIntervalTimeout=function(){n.timeoutID&&(clearInterval(n.timeoutID),n.timeoutID=void 0)},n.onImpression=function(e){var t,i,a,r,o,s,l,d,u,c,p,m,v=n.props,f=v.shouldAdjustVolume,g=v.getAdjustedVolume,h=v.setVolume,y=v.getInitialMuteState,k=v.setMuted,_=v.clientSideAdSelectionParams,C=e.videoAd.getVolume(),b=Date.now(),P=g(C),x=Math.max(P||0,.1),E=f(C),A=E?x:C,N=y(),w=(0,S.EF)(n.props.videoAdMetadata)?n.props.videoAdMetadata:void 0,T=null===(t=null==w?void 0:w.adInfo)||void 0===t?void 0:t.adSystem;E&&(n.props.logger.withCategory("AdLoudness").debug("Adjusting ad volume at impression",{nextVolume:x,impressionVolume:C,playerMuted:N}),h(x),k(N));var I,D={request_to_impression_latency:b-e.request.requestTime,pre_impression_player_volume:C,player_volume:+(A||0).toFixed(10),quality:(null==_?void 0:_.isAutoQualityMode)?"auto":"".concat(null!==(i=null==_?void 0:_.currentVideoWidth)&&void 0!==i?i:0,"x").concat(null!==(a=null==_?void 0:_.currentVideoHeight)&&void 0!==a?a:0),current_bitrate:Math.round(null!==(r=null==_?void 0:_.currentVideoBitrate)&&void 0!==r?r:0),ad_stored_bitrate_kbps:null!==(o=null==_?void 0:_.storedAdBitrate)&&void 0!==o?o:0,ad_max_bitrate_kbps:null!==(s=null==_?void 0:_.maxAdBitrate)&&void 0!==s?s:0,ad_resolution:"".concat(null!==(d=null===(l=e.adInfo)||void 0===l?void 0:l.vastMediaWidth)&&void 0!==d?d:0,"x").concat(null!==(c=null===(u=e.adInfo)||void 0===u?void 0:u.vastMediaHeight)&&void 0!==c?c:0),ad_bitrate_kbps:null!==(m=null===(p=e.adInfo)||void 0===p?void 0:p.vastMediaBitrate)&&void 0!==m?m:0};n.trackRad(Hg.V.VideoAdImpression,e,D),T&&"FAS"===T?(n.track("video_ad_impression_fake",e,D),n.track("ad_impression_fake",e,D)):(I="ad_client_impression",n.track(I,e,zy(e.adInfo,n.props.videoAdRequest,n.props.videoAdMetadata)),n.track("video_ad_impression",e,D),n.track("ad_impression",e,D))},n.onError=function(e){var t={reason:e.reason,error_code:e.errorCode,error_type:e.errorType};n.props.trackVideoAdData("video_ad_error",t),n.props.trackVideoRAdEvent(Hg.V.VideoAdError,t),n.props.trackVideoAdData("ad_error",t),n.clearMetadataAndRestartMediaPlayer()},n.clearMetadataAndRestartMediaPlayer=function(){var e=n.props,t=e.shouldResetVolumeOnContentResume,i=e.getInitialMuteState,a=e.setMuted,r=e.mediaPlayerInstance,o=e.getInitialVolume,s=e.setVolume,l=e.audioBlocked,d=e.paused,u=e.ended,c=e.adMuted,p=e.adVolume,m=o(),v=i(),f=t();f&&m&&(n.props.logger.withCategory("AdLoudness").debug("Adjusting ad volume at resume",{nextVolume:m,nextMute:v}),s(m),a(v)),f||void 0===p||null==r||r.setVolume(p),c!==!!(null==r?void 0:r.isMuted())&&(c?null==r||r.setMuted(!0):l||null==r||r.setMuted(!1)),d&&!u&&(null==r||r.play()),n.props.reset()},n.track=function(e,t,i){var a=!!n.props.adMuted,r=+(n.props.adVolume||0).toFixed(10),o=Gy(t.adInfo,i,a,r);n.props.trackVideoAdData(e,o)},n.trackRad=function(e,t,i){var a=!!n.props.adMuted,r=+(n.props.adVolume||0).toFixed(10),o=Gy(t.adInfo,i,a,r);n.props.trackVideoRAdEvent(e,o)},n.trackQuartileEvent=function(e){var t={quartile:e.quartile};n.trackRad(Hg.V.VideoAdQuartileComplete,e,t),n.track("video_ad_quartile_complete",e,t),n.track("ad_quartile",e,t),n.track("ad_client_quartile",e,zy(e.adInfo,n.props.videoAdRequest,n.props.videoAdMetadata))},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.addInStreamEventListener(A.V.ContentPauseRequested,this.onContentPauseRequested),this.addInStreamEventListener(A.V.ContentResumeRequested,this.onContentResumeRequested),this.addInStreamEventListener(A.V.Complete,this.onComplete),this.addInStreamEventListener(A.V.Error,this.onError),this.addInStreamEventListener(A.V.FirstQuartile,this.trackQuartileEvent),this.addInStreamEventListener(A.V.Impression,this.onImpression),this.addInStreamEventListener(A.V.Loaded,this.onLoad),this.addInStreamEventListener(A.V.Midpoint,this.trackQuartileEvent),this.addInStreamEventListener(A.V.Paused,this.onPaused),this.addInStreamEventListener(A.V.Progress,this.onProgress),this.addInStreamEventListener(A.V.Resumed,this.onPlaying),this.addInStreamEventListener(A.V.Started,this.onStart),this.addInStreamEventListener(A.V.ThirdQuartile,this.trackQuartileEvent),this.addInStreamEventListener(A.V.VolumeChanged,this.onVolumeChanged),this.addInStreamEventListener(A.V.Click,this.onCreativeClicked),this.addInStreamEventListener(A.V.Muted,this.onMuteChange),this.addInStreamEventListener(A.V.Unmuted,this.onMuteChange)},n.prototype.render=function(){return null},n}(d.Component),Gy=function(e,n,t,a){return(0,i.__assign)({player_mute:!!t,player_volume:a||0,visible:"visible"===document.visibilityState,audible:!t&&(a||0)>0,ad_id:e&&e.adID,ad_position:e&&e.adPodInfo&&e.adPodInfo.adPosition,duration:e&&e.duration,ad_system:e&&e.adSystem,creative_id:e&&e.creativeID,total_ads:e&&e.adPodInfo&&e.adPodInfo.totalAds,title:e&&e.title,stitched:!1},n)},zy=function(e,n,t){return{date:(new Date).toDateString(),ad_id:e&&e.adID,emitting_service:"AdvantEdge",format_name:(0,Uh.r0)(null==n?void 0:n.adFormat),sdk:A.K.VAES,duration_actual:null==t?void 0:t.duration,commercial_id:null==n?void 0:n.commercialID,break_length:null==n?void 0:n.duration,ad_placement:Xg.p.CHANNEL_PLAYER,requested_ad_size:null,ad_size:null,allocation_strategy:(null==n?void 0:n.mafsDecision)||"",available_impression:(null==t?void 0:t.numberOfAds)||0,main_play_session_id:c.E5.getVideoPlayerTrackingData().playSessionID,stitched:!1}},qy=(0,g.Zz)(_(),(0,qg._)(),jy(),(0,k.VX)((function(e){var n=e.muted,t=e.volume,i=e.videoAdMetadata,a=e.videoAdRequest,r=e.reset,o=e.startClientSideAd,s=e.updateAdVolume,l=e.updateAdMuted,d=e.updateAdPlaying,u=e.clientSideAdSelectionParams;return{adMuted:n,adVolume:t,reset:r,videoAdMetadata:i,videoAdRequest:a,startClientSideAd:o,updateAdVolume:s,updateAdMuted:l,updateAdPlaying:d,clientSideAdSelectionParams:u}})),(0,P.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,paused:(0,ye.xB)(e),volume:e.volume,muted:e.muted,audioBlocked:e.audioBlocked,ended:(0,ye.pl)(e),logger:e.logger}})),(0,E.AP)((function(e){var n=e.setVolume,t=e.setMuted;return{setVolume:n,setMuted:t}})),(0,x.cj)((function(e){var n=e.content;return{isLiveContent:(0,V.DG)(n)}})))(Uy);var Hy=t(323692);function Wy(e){var n=d.useRef(e);return d.useEffect((function(){n.current=e}),[e]),d.useCallback((function(e){return n.current(e)}),[])}var Ky=(0,g.Zz)(_(),(0,Op.A)(),jy(),(0,k.VX)((function(e){var n=e.muted,t=e.volume,i=e.adFormatMetadata,a=e.adFormatRequest,r=e.resetOutstreamAd,o=e.startClientSideAd,s=e.updateAdVolume,l=e.updateAdMuted,d=e.updateAdPlaying,u=e.clientSideAdSelectionParams,c=e.updateOutstreamAdDisplayStatus;return{adMuted:n,adVolume:t,resetOutstreamAd:r,adFormatMetadata:i,adFormatRequest:a,startClientSideAd:o,updateAdVolume:s,updateAdMuted:l,updateAdPlaying:d,clientSideAdSelectionParams:u,updateOutstreamAdDisplayStatus:c}})),(0,P.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,volume:e.volume,muted:e.muted}})))((function(e){var n=e.adMuted,t=e.adVolume,i=e.adFormatMetadata,a=e.adFormatRequest,r=e.clientSideAdSelectionParams,o=e.resetOutstreamAd,s=e.startClientSideAd,l=e.updateAdVolume,u=e.updateAdMuted,c=e.updateAdPlaying,p=e.updateOutstreamAdDisplayStatus,m=e.mediaPlayerInstance,v=e.volume,f=e.muted,g=e.getInitialMuteState,h=e.getAdjustedVolume,y=e.shouldAdjustVolume,k=e.trackAdFormatData,_=e.trackAdFormatRAdEvent,C=d.useRef(),b=d.useRef(),P=d.useRef(!1),x=d.useCallback((function(e,i,a){var r=!!n,o=+(t||0).toFixed(10),s=Gy(i.adInfo,a,r,o);k(e,s)}),[n,t,k]),E=d.useCallback((function(e,i,a){var r=!!n,o=+(t||0).toFixed(10),s=Gy(i.adInfo,a,r,o);_(e,s)}),[n,t,_]),N=d.useCallback((function(){var e=g();e!==!!f&&(null==m||m.setMuted(e)),p("hiding");var n=setTimeout((function(){o()}),1e3);return function(){return clearTimeout(n)}}),[g,m,f,o,p]),w=Wy((function(){Date.now()-b.current>8e3&&(o(),z())})),T=d.useCallback((function(e){e?C.current||(b.current=Date.now(),C.current=setInterval(w,1e3)):z()}),[w]),I=Wy((function(e){x("ad_pod_complete",e,{stitched:!1}),x("ad_client_pod_completion",e,zy(e.adInfo,a,i)),N()})),D=Wy((function(e){x("ad_pause",e,{ad_is_paused:!1}),c(!0),T(!0)})),O=Wy((function(e){x("ad_pause",e,{ad_is_paused:!0}),c(!1),T(!1)})),F=Wy((function(e){var n=null!=v?v:.5;e.videoAd.setVolume(n),l(n),e.videoAd.setMuted(!0),u(!0)})),R=Wy((function(e){x("video_ad_loaded",e,{player_mute:!!f,player_volume:+(v||0).toFixed(10)})})),M=Wy((function(e){l(e.volume)})),L=Wy((function(e){if(x("ad_mute",e,{ad_is_muted:e.muted}),u(e.muted),!e.muted){var n=e.videoAd.getVolume(),t=h(n),i=y(n)?t:v,a=Math.max(i||0,.1);e.videoAd.setVolume(a),null==m||m.setMuted(!0)}})),V=Wy((function(e){x("ad_click",e,{stitched:!1})})),j=Wy((function(e){var n,t=e.adInfo&&e.adInfo.adPodInfo,a=e.adInfo;T(!0),c(!0),s({adFormat:null!==(n=null==i?void 0:i.adFormat)&&void 0!==n?n:Eg.Z$.OUTSTREAM_VERTICAL_VIDEO,position:t&&t.adPosition||1,numberOfAds:t&&t.totalAds||1,adInfo:a})})),B=Wy((function(e){x("ad_quartile",e,{quartile:e.quartile}),x("ad_client_quartile",e,zy(e.adInfo,a,i))})),U=Wy((function(e){B(e),T(!1),x("video_ad_impression_complete",e,{stitched:!1})})),G=Wy((function(e){x("video_ad_time_elapsed",e,{time_elapsed:e.progress}),b.current=Date.now()})),z=function(){C&&(clearInterval(C.current),C.current=void 0)},q=Wy((function(e){var n,t,o,s,l,d,u,c,p,m,f,g,h=Date.now(),y=i,k=null===(n=null==y?void 0:y.adInfo)||void 0===n?void 0:n.adSystem,S={request_to_impression_latency:h-e.request.requestTime,pre_impression_player_volume:v,player_volume:+(v||0).toFixed(10),quality:(null==r?void 0:r.isAutoQualityMode)?"auto":"".concat(null!==(t=null==r?void 0:r.currentVideoWidth)&&void 0!==t?t:0,"x").concat(null!==(o=null==r?void 0:r.currentVideoHeight)&&void 0!==o?o:0),current_bitrate:Math.round(null!==(s=null==r?void 0:r.currentVideoBitrate)&&void 0!==s?s:0),ad_stored_bitrate_kbps:null!==(l=null==r?void 0:r.storedAdBitrate)&&void 0!==l?l:0,ad_max_bitrate_kbps:null!==(d=null==r?void 0:r.maxAdBitrate)&&void 0!==d?d:0,ad_resolution:"".concat(null!==(c=null===(u=e.adInfo)||void 0===u?void 0:u.vastMediaWidth)&&void 0!==c?c:0,"x").concat(null!==(m=null===(p=e.adInfo)||void 0===p?void 0:p.vastMediaHeight)&&void 0!==m?m:0),ad_bitrate_kbps:null!==(g=null===(f=e.adInfo)||void 0===f?void 0:f.vastMediaBitrate)&&void 0!==g?g:0};E(Hy.V.AdImpression,e,S),k&&"FAS"===k?x("ad_impression_fake",e,S):(x("ad_impression",e,S),x("ad_client_impression",e,zy(e.adInfo,a,i)))})),H=Wy((function(e){var n={reason:e.reason,error_code:e.errorCode,error_type:e.errorType};k("ad_error",n),N()}));d.useEffect((function(){P.current=(0,S.hr)(i)}),[i]);var W=d.useCallback((function(n,t){(0,e.adEvents.addEventListener)(n,(function(e){P.current&&t(e)}))}),[e.adEvents]);return(0,Ze.S)((function(){W(A.V.ContentPauseRequested,F),W(A.V.ContentResumeRequested,I),W(A.V.Complete,U),W(A.V.Error,H),W(A.V.FirstQuartile,B),W(A.V.Impression,q),W(A.V.Loaded,R),W(A.V.Midpoint,B),W(A.V.Paused,O),W(A.V.Progress,G),W(A.V.Resumed,D),W(A.V.Started,j),W(A.V.ThirdQuartile,B),W(A.V.VolumeChanged,M),W(A.V.Click,V),W(A.V.Muted,L),W(A.V.Unmuted,L)})),null}));var Zy,Xy,Qy,Yy=function(){var e=d.useContext(P.$g).mediaPlayerInstance,n=(0,wl.O)(d.useContext(x.kl)),t=d.useContext(It.g7).track;return(0,M.p)(L.a.METADATA,d.useCallback((function(i){try{if("text/json"!==i.type)return;var a=void 0;try{a=JSON.parse(i.data)}catch(e){return void c.x2.logger.warn("failed to parse metadata event")}if("twitch-session"!==a.CLASS)return;if(void 0===a["X-TV-TWITCH-SESSIONID"]||void 0===a["START-DATE"])return;var r=null==e?void 0:e.getSessionData()["VIDEO-SESSION-ID"],o=a["X-TV-TWITCH-SESSIONID"],s=a["START-DATE"];r!==o&&void 0!==o&&t("ads_hank",{player:n,video_session_id:r,hank_id:"hs",hank_payload:JSON.stringify({hank_session_id:o,hank_start_time:s})})}catch(e){}}),[e,n,t])),null},$y=t(192453);!function(e){e.Paused="AdPaused",e.Playing="AdPlaying",e.Stopped="AdStopped",e.VideoComplete="AdVideoComplete",e.VideoFirstQuartile="AdVideoFirstQuartile",e.VideoMidpoint="AdVideoMidpoint",e.VideoStart="AdVideoStart",e.VideoThirdQuartile="AdVideoThirdQuartile",e.VolumeChanged="AdVolumeChanged"}(Zy||(Zy={})),function(e){e.Start="start",e.FirstQuartile="first-quartile",e.Midpoint="midpoint",e.ThirdQuartile="third-quartile",e.Complete="complete"}(Xy||(Xy={})),function(e){e.Stitched="stitched",e.VAES="vaes"}(Qy||(Qy={}));function Jy(e){var n=e.clearMoatAnalytics,t=e.initializeMoatAnalytics,i=e.trackMoatEvent,a=e.currentMoatAnalyticsType,r=d.useCallback((function(e){a===Qy.VAES&&i(e)}),[a,i]);(0,tf._)(A.V.Loaded,d.useCallback((function(e){(function(e){return!(!e.request.server||e.request.server!==A.K.VAES)})(e)&&e.adInfo&&t({type:Qy.VAES,duration:e.adInfo.duration,adCfId:e.adInfo.adCfId,advertiserCfId:e.adInfo.advertiserCfId,campaignCfId:e.adInfo.campaignCfId,creativeCfId:e.adInfo.creativeCfId})}),[t])),(0,tf._)(A.V.Progress,d.useCallback((function(){return r(Zy.Playing)}),[r])),(0,tf._)(A.V.Paused,d.useCallback((function(){return r(Zy.Paused)}),[r])),(0,tf._)(A.V.VolumeChanged,d.useMemo((function(){return(0,$y.n)((function(){r(Zy.VolumeChanged)}),5e3)}),[r])),(0,tf._)(A.V.Started,d.useCallback((function(){return r(Zy.VideoStart)}),[r])),(0,tf._)(A.V.FirstQuartile,d.useCallback((function(){return r(Zy.VideoFirstQuartile)}),[r])),(0,tf._)(A.V.Midpoint,d.useCallback((function(){return r(Zy.VideoMidpoint)}),[r])),(0,tf._)(A.V.ThirdQuartile,d.useCallback((function(){return r(Zy.VideoThirdQuartile)}),[r])),(0,tf._)(A.V.Complete,d.useCallback((function(){return r(Zy.VideoComplete)}),[r])),(0,tf._)(A.V.ContentResumeRequested,d.useCallback((function(){r(Zy.Stopped),n()}),[r,n]))}var ek="unknown";function nk(e){var n=e.videoAdRequest;if(!n||n.status!==pe.s.Processed&&n.status!==pe.s.Filled)return ek;var t=n.broadcaster&&n.broadcaster.login,i=n.game&&n.game.name.toLowerCase().replace(/[^a-z0-9]+/g,"_"),a=t||ek;return i?"".concat(a," + ").concat(i):a}var tk,ik,ak="www.twitch.tv";function rk(e){var n=d.useContext(k.jK),t=function(){var e=d.useContext(k.jK).volume,n=d.useContext(E.wL),t=n.volume,i=n.muted,a=d.useRef(e),r=d.useRef(t),o=d.useRef(i);return d.useEffect((function(){a.current=e,r.current=t,o.current=i})),d.useCallback((function(e){return o.current?0:e===Qy.VAES?a.current:r.current}),[])}(),i=d.useState(null),a=i[0],r=i[1],o=d.useState(null),s=o[0],l=o[1],u=d.useCallback((function(){r(null),l(null)}),[r]),c=d.useCallback((function(n){var t=window.navigator.languages||window.navigator.language||"";e("video_ad_moat_viewability_event",{accept_languages:t,query_string:n.queryString,stitched:n.stitched,ad_server:n.adServer,provider:n.provider})}),[e]),p=d.useCallback((function(e){if(e.type===Qy.VAES){var t={level1:e.advertiserCfId,level2:e.campaignCfId,level3:e.adCfId,level4:e.creativeCfId,slicer1:ak,slicer2:nk(n)};r(function(e,n,t,i,a,r){var o,s,l=document.createElement("script"),d=[],u={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:n,duration:t,url:a},dispatchEvent:function(e){u.sendEvent?(d&&(d.push(e),e=d,d=!1),u.sendEvent(e)):d&&d.push(e)},clientCallback:r};n="_mApi"+Math.floor(1e8*Math.random());try{s=(o=e.ownerDocument).defaultView||o.parentWindow}catch(e){o=document,s=window}return s[n]=u,l.type="text/javascript",e&&e.insertBefore(l,e.childNodes[0]||null),l.src="https://www.twitch.tv/r/s/m/va.min.js#".concat(n),u}(n.thirdPartyVideoAdElement,t,e.duration,0,null,(function(e){return c({adServer:tk.VAES,provider:ik.Amazon,stitched:!1,queryString:e})}))),l(Qy.VAES)}else if(e.type===Qy.Stitched){t={level1:e.advertiserId,level2:e.campaignId,level3:e.adId,level4:e.creativeId,slicer1:ak,slicer2:nk(n)};r(function(e,n,t,i,a,r){var o,s,l=document.createElement("script"),d=[],u={vidIntType:"3",vidIntVersion:"1.0",adData:{ids:n,duration:t,url:a},dispatchEvent:function(e){u.sendEvent?(d&&(d.push(e),e=d,d=!1),u.sendEvent(e)):d&&d.push(e)},clientCallback:r};n="_mApi"+Math.floor(1e8*Math.random());try{s=(o=e.ownerDocument).defaultView||o.parentWindow}catch(e){o=document,s=window}return s[n]=u,l.type="text/javascript",e&&e.insertBefore(l,e.childNodes[0]||null),l.src="https://www.twitch.tv/r/s/m/nat.min.js#".concat(n),u}(n.thirdPartyVideoAdElement,t,e.duration,0,null,(function(e){return c({adServer:tk.VAES,provider:ik.Fring,stitched:!0,queryString:e})}))),l(Qy.Stitched)}}),[r,n,c]),m=d.useCallback((function(e,n){if(void 0===n&&(n={}),a){var i=void 0===n.volume?t(s):n.volume;a.dispatchEvent({adVolume:i||0,type:e})}}),[a,t,s]);return{moatAnalytics:a,currentMoatAnalyticsType:s,initializeMoatAnalytics:p,clearMoatAnalytics:u,trackMoatEvent:m}}!function(e){e.VAES="vaes"}(tk||(tk={})),function(e){e.Amazon="amazon",e.Fring="fring"}(ik||(ik={}));var ok,sk=5e3;function lk(e){if(e)return e.status===pe.s.Filled||e.status===pe.s.Processed?e.server:void 0}!function(e){e.StartTracking="start-tracking",e.StopTracking="stop-tracking",e.Track="track",e.TrackStart="track-start",e.TrackFirstQuartile="track-first-quartile",e.TrackMidpoint="track-midpoint",e.TrackThirdQuartile="track-third-quartile",e.TrackComplete="track-complete"}(ok||(ok={}));var dk=function(e,n){var t;switch(n.type){case ok.StartTracking:return(0,i.__assign)((0,i.__assign)({},e),{hasTracked:{start:!1,firstQuartile:!1,midpoint:!1,thirdQuartile:!1,complete:!1},currentAd:{duration:n.adDuration,startTime:n.adStartTime}});case ok.StopTracking:return(0,i.__assign)((0,i.__assign)({},e),{currentAd:null});case ok.Track:return e.currentAd?(0,i.__assign)((0,i.__assign)({},e),{hasTracked:(0,i.__assign)((0,i.__assign)({},e.hasTracked),(t={},t[n.quartile]=!0,t))}):e;default:return e}};function uk(e){var n,t,i,a,r=e.initializeMoatAnalytics,o=e.trackMoatEvent,s=e.clearMoatAnalytics,l=e.currentMoatAnalyticsType,u=d.useCallback((function(e,n){void 0===n&&(n={}),l===Qy.Stitched&&o(e,n)}),[o,l]),c=function(e){var n=d.useContext(P.$g).mediaPlayerInstance,t=d.useReducer(dk,{hasTracked:{start:!1,firstQuartile:!1,midpoint:!1,thirdQuartile:!1,complete:!1},currentAd:null}),i=t[0],a=t[1],r=d.useCallback((function(e){a({type:ok.StartTracking,adDuration:e.adDuration,adStartTime:e.adStartTime})}),[a]),o=d.useCallback((function(){a({type:ok.StopTracking})}),[a]),s=d.useCallback((function(n){e(n,o)}),[e,o]),l=d.useCallback((function(){if(i.currentAd&&n){var e=n.getPosition(),t=i.currentAd,r=t.duration,o=(r+t.startTime-e)/r;o<=.02?i.hasTracked.complete||(a({type:ok.Track,quartile:"complete"}),s(Xy.Complete)):o<.25?i.hasTracked.thirdQuartile||(a({type:ok.Track,quartile:"thirdQuartile"}),s(Xy.ThirdQuartile)):o<.5?i.hasTracked.midpoint||(a({type:ok.Track,quartile:"midpoint"}),s(Xy.Midpoint)):o<.75?i.hasTracked.firstQuartile||(a({type:ok.Track,quartile:"firstQuartile"}),s(Xy.FirstQuartile)):o<.99&&(i.hasTracked.start||(a({type:ok.Track,quartile:"start"}),s(Xy.Start)))}}),[i,n,s]);return(0,M.p)(L.a.TIME_UPDATE,l),{startStitchedQuartileTracking:r,stopStitchedQuartileTracking:o}}(d.useCallback((function(e,n){switch(e){case Xy.Start:u(Zy.VideoStart);break;case Xy.FirstQuartile:u(Zy.VideoFirstQuartile);break;case Xy.Midpoint:u(Zy.VideoMidpoint);break;case Xy.ThirdQuartile:u(Zy.VideoThirdQuartile);break;case Xy.Complete:u(Zy.VideoComplete),n(),s()}}),[u,s])),p=c.startStitchedQuartileTracking,m=c.stopStitchedQuartileTracking;n=d.useCallback((function(e){var n=e.adMetadata,t=e.adServer,i=e.startTime;p({adDuration:n.duration,adStartTime:i}),r({type:Qy.Stitched,duration:n.duration,adId:n.lineItemId,creativeId:n.creativeId,advertiserId:n.advertiserId,campaignId:n.orderId,adServer:t})}),[r,p]),t=d.useRef(),i=d.useContext(k.jK),a=d.useContext(P.$g).mediaPlayerInstance,d.useEffect((function(){i.videoAdMetadata&&i.videoAdMetadata.stitched&&(t.current&&t.current.videoAdMetadata===i.videoAdMetadata||!a||n({adMetadata:i.videoAdMetadata,adServer:lk(i.videoAdRequest),startTime:a.getPosition()}))}),[t,i,n,a]),d.useEffect((function(){t.current=i}),[i]),function(e){var n=d.useContext(P.$g).mediaPlayerInstance,t=d.useMemo((function(){return(0,$y.n)((function(){var t=n&&n.isMuted()?0:n&&n.getVolume();e(t)}),sk)}),[e,n]);(0,M.p)(L.a.VOLUME_CHANGED,t),(0,M.p)(L.a.MUTED_CHANGED,t)}(d.useCallback((function(e){u(Zy.VolumeChanged,{volume:e})}),[u])),Ty({onPlay:d.useCallback((function(){u(Zy.Playing)}),[u]),onPause:d.useCallback((function(){u(Zy.Paused)}),[u])}),d.useEffect((function(){var e=function(){u(Zy.Stopped),m(),s()};return window.addEventListener("beforeunload",e),function(){window.removeEventListener("beforeunload",e)}}),[u,m,s])}var ck=(0,qg._)()((function(e){var n=rk(e.trackVideoAdData);return Jy(n),uk(n),null})),pk=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onMetadata=function(e){try{if("text/json"===e.type){var t=void 0;try{t=JSON.parse(e.data)}catch(e){return void c.x2.logger.warn("failed to parse pbyp metadata")}if(!t)return void c.x2.logger.warn("failed to parse pbyp metadata");if("live-video-net-metadata"===t.CLASS&&"pbyp-preflight"===t["X-NET-LIVE-VIDEO-METADATA-TYPE"]){var i=(t["X-NET-LIVE-VIDEO-METADATA-PBYP-WEIGHTED-BUCKETS"]||"").split(","),a={jitterTime:parseInt(t["X-NET-LIVE-VIDEO-METADATA-PBYP-JITTER-TIME"]||"",10),jitterBuckets:parseInt(t["X-NET-LIVE-VIDEO-METADATA-PBYP-JITTER-BUCKETS"]||"",10),warmupTime:parseInt(t["X-NET-LIVE-VIDEO-METADATA-PBYP-WARMUP-TIME"]||"",10),commercialId:t["X-NET-LIVE-VIDEO-METADATA-PBYP-COMMERCIAL-ID"]||"",weightedBuckets:i.map((function(e){return parseFloat(e)}))},r=a.weightedBuckets.reduce((function(e,n){return e+n}));isNaN(a.jitterTime)||isNaN(a.jitterBuckets)||isNaN(a.warmupTime)||!a.commercialId||1!==r||n.props.onMainPlayerHLSTrigger(a)}}}catch(e){c.x2.logger.errorAndReport(e,"Unable to create metadata for pbyp preflight.")}},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(L.a.METADATA,this.onMetadata)},n.prototype.render=function(){return null},n}(d.Component),mk=(0,g.Zz)((0,hv.dC)((function(e){return{onMainPlayerHLSTrigger:e.onMainPlayerHLSTrigger}})),(0,b.X)())(pk);var vk=t(787755),fk=["US"],gk=function(){var e=(0,Xe.If)()||"";return fk.includes(e)&&"active"===c.x2.experiments.getAndTrackAssignment("twilight_p_4")?45:30};function hk(e){return(null==e?void 0:e.split(",").map((function(e){var n=parseInt(e,10);return n in Eg.Z$?n:void 0})).filter((function(e){return void 0!==e})))||[]}var yk=t(174752),kk=t.n(yk),Sk=(0,g.Zz)((0,x.cj)((function(e){return{content:e.content}})),(0,z._v)(kk(),{props:function(e){var n=e.data;return{broadcastType:Ck(n),adProperties:_k(n)}},options:function(e){var n=e.content;return{variables:{isVOD:!!(0,V.wy)(n)||!(!(0,V.P3)(n)||!n.vodID),vodID:(0,V.hq)(n)||"",isCollection:!!(0,V.P3)(n)&&!n.vodID,collectionID:!(0,V.hq)(n)&&(0,V.Eq)(n)||""}}}}))((function(e){var n=d.useContext(k.jK),t=n.videoAdMetadata,i=n.requestAd,a=d.useContext(E.wL).isPlaying,r=e.adProperties,o=e.broadcastType,s=r&&r.hasVodAdsEnabled,l=r&&r.vodArchiveMidrolls,u=r&&r.vodArchiveMidrollsBreakLength,c=r&&r.vodArchiveMidrollsFrequency,p=o===ie.Suw.ARCHIVE||o===ie.Suw.PAST_PREMIERE,m=function(e,n){var t=(0,d.useRef)(0),i=(0,d.useRef)(0),a=(0,d.useRef)(0),r=(0,d.useCallback)((function(){i.current=0,a.current=0,clearTimeout(t.current)}),[]),o=(0,d.useCallback)((function(){a.current=Date.now();var s=e-i.current;clearTimeout(t.current),t.current=window.setTimeout((function(){n(),r(),o()}),s)}),[n,e,r]),s=(0,d.useCallback)((function(){clearTimeout(t.current),a.current>0&&(i.current=Date.now()-a.current+i.current)}),[]);return(0,d.useEffect)((function(){return r}),[r,e,n]),{start:o,pause:s,stop:r}}(6e4*(c||0),d.useCallback((function(){i({adFormat:Eg.gz.STANDARD_VIDEO,sessionID:(0,mh.SG)(),roll:pe.d.Mid,duration:u||30})}),[i,u])),v=m.start,f=m.pause,g=m.stop,h=!(s&&c&&p&&"inserted"===l&&!t);return d.useEffect((function(){h?g():a?v():f()}),[h,a,v,g,f]),null}));function _k(e){return e?e.video?e.video.owner&&e.video.owner.adProperties:e.collection?e.collection.owner&&e.collection.owner.adProperties:null:null}function Ck(e){if(!e)return null;if(e.video)return e.video.broadcastType;if(e.collection){var n=e.collection&&e.collection.items&&e.collection.items.edges,t=n&&(0,R.bK)(n);if(t&&t.length>0)return t[0].broadcastType}return null}var bk,Pk=(0,g.Zz)((0,qg._)(),(0,Op.A)())((function(e){var n=e.trackVideoAdData,t=e.trackAdFormatData,i=d.useContext(k.jK),r=i.requestAd,o=i.videoAdRequest,s=i.adFormatMetadata,l=i.resetOutstreamAd,u=i.updateOutstreamAdDisplayStatus,p=d.useContext(P.$g),m=d.useContext(x.kl).content,v=p.hasPlayed,f=p.logger,g=(0,ye.k1)(p),h=d.useRef(g),y=d.useRef(v),S=(0,V.Jn)(m);(0,M.p)(nf.ID3,d.useCallback((function(e){if(!(0,V.DG)(m)||!(0,Dl.fX)("VLM_HLS_Midrolls")){var n=function(e){var n=Lg(e);return n&&"commercial"===n.cmd&&n.length&&n.commercial_id?{duration:n.length,commercialID:n.commercial_id,spliceEventID:n.splice_event_id,availNum:n.avail_num}:null}(e);n&&r({sessionID:(0,mh.SG)(),adFormat:Eg.gz.STANDARD_VIDEO,roll:pe.d.Mid,duration:+n.duration,broadcasterInitiated:!0,commercialID:n.commercialID})}}),[r,m])),(0,M.p)(L.a.METADATA,d.useCallback((function(e){if((0,Dl.fX)("VLM_HLS_Midrolls"))try{if("text/json"===e.type){var i=void 0;try{i=JSON.parse(e.data)}catch(e){return void f.warn("failed to parse client ad metadata")}if(!i)return void f.warn("failed to parse client ad metadata");if("twitch-maf-ad"===i.CLASS&&i["X-TTV-MAF-AD-COMMERCIAL-ID"]&&i["X-TTV-MAF-AD-AD-SESSION-ID"]&&i["X-TTV-MAF-AD-PRIMARY-POD"]&&i["PLANNED-DURATION"]){var a=parseInt(i["PLANNED-DURATION"],10),d=i["X-TTV-MAF-AD-RADS-TOKEN"],p=i["X-TTV-MAF-AD-AD-SESSION-ID"]||(0,mh.SG)(),m=i["X-TTV-MAF-AD-COMMERCIAL-ID"],v=i["X-TTV-MAF-AD-DECISION"],g=hk(i["X-TTV-MAF-AD-PRIMARY-POD"]),h=hk(i["X-TTV-MAF-AD-FALLBACK-FORMATS"]);if(n("ad_request_client_trigger_received",{allocation_type:"PreFill",break_length:a,format_name:(0,Uh.r0)(g[0]),fallback_format_name:(0,Uh.r0)(h[0]),is_mafs:!!v,commercial_id:m,stitched:!1,roll_type:pe.d.Mid,ad_session_id:p,twitch_correlator:null==o?void 0:o.twitchCorrelator,main_play_session_id:c.E5.getVideoPlayerTrackingData().playSessionID,pbyp_play_session_id:void 0}),g.length>0&&(0,gv.rF)(g[0]))f.debug("outstream ad metadata event",{duration:a,primaryPod:g,fallbackFormats:h,radsToken:d,adSessionId:p}),(0,gv.C_)(null==s?void 0:s.adFormat)&&(t("ad_opportunity_abort",{abort_reason:"NextOutstreamAd"}),u("hiding"),setTimeout((function(){l()}),1e3)),r({adFormat:g[0],sessionID:p,duration:a,roll:pe.d.Mid,commercialID:m,radsToken:d,isVLM:!0,mafsDecision:v,sequenceLength:i["X-TTV-MAF-AD-SDA-SEQUENCE-LENGTH"]});else g.length>0&&v&&(0,gv.zf)(g[0])&&r({adFormat:g[0],sessionID:p,duration:a,roll:pe.d.Mid,broadcasterInitiated:!0,commercialID:m,radsToken:d,isVLM:"1"===i["X-TV-TWITCH-AD-VLM"],mafsDecision:v})}}}catch(e){f.errorAndReport(e,"Unable to create request for client side ad.")}}),[f,n,null==o?void 0:o.twitchCorrelator,null==s?void 0:s.adFormat,r,t,l,u])),d.useEffect((function(){!g&&h.current?(r({sessionID:(0,mh.SG)(),adFormat:Eg.gz.STANDARD_VIDEO,roll:pe.d.Pre,duration:gk()}),h.current=!1):g&&(h.current=!0)}),[g,h,r]),(0,M.p)(N.p.ENDED,d.useCallback((function(){v&&(0,V.DG)(m)&&r({sessionID:(0,mh.SG)(),adFormat:Eg.gz.STANDARD_VIDEO,roll:pe.d.Post,duration:30})}),[r,v,m]));var _=d.useRef(!1);return(0,M.p)(N.p.READY,d.useCallback((function(){return _.current=!0}),[])),(0,M.p)(L.a.DURATION_CHANGED,d.useCallback((function(){if(_.current){var e={sessionID:(0,mh.SG)(),adFormat:Eg.gz.STANDARD_VIDEO,roll:pe.d.Pre,duration:gk(),forced:!1};_.current=!1,r(function(e){var n=te.parse(e);if(!(n.force_preroll||n.force_midroll||n.force_postroll||n.force_lower_third_display||n.force_squeezeback_display))return null;var t={sessionID:(0,mh.SG)(),adFormat:Eg.gz.STANDARD_VIDEO,duration:30,forced:!0,roll:pe.d.Pre};n.force_midroll&&(t.roll=pe.d.Mid,t.duration=parseInt(n.force_midroll.toString(),10)||30);n.force_postroll&&(t.roll=pe.d.Post);n.force_lower_third_display&&(t.adFormat=Eg.Z$.LOWER_THIRD,t.duration=parseInt(n.force_lower_third_display.toString(),10)||10,t.roll=pe.d.Mid,t.mafsDecision=vk.LOWER_THIRD_MAFS_DECISION);n.force_squeezeback_display&&(t.adFormat=Eg.Z$.SQUEEZEBACK,t.duration=parseInt(n.force_squeezeback_display.toString(),10)||10,t.roll=pe.d.Mid,t.mafsDecision=vk.SQUEEZEBACK_MAFS_DECISION);return t}(window.location.search)||e)}}),[r])),d.useEffect((function(){!v||y.current||S||r({sessionID:(0,mh.SG)(),adFormat:Eg.gz.STANDARD_VIDEO,roll:pe.d.Pre,duration:gk()}),y.current=v}),[r,v,S]),(0,a.jsx)(Sk,{})})),xk=v.x.wrap((function(){return t.e(27230).then(t.bind(t,362791))}),"PushdownSDAEligibilityHandler",{failSilently:!0,placeholder:null}),Ek=(0,tn.X)({name:"VideoAds"})((function(){var e=(0,u.d4)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}}),u.bN).firstPageLoaded;return(0,a.jsxs)(Bg,{children:[(0,a.jsx)(Pk,{}),(0,a.jsx)(Fh,{}),(0,a.jsx)(Hh,{}),(0,a.jsx)(qy,{}),(0,a.jsx)(Ky,{}),(0,a.jsx)(Wh,{}),(0,a.jsx)(_v.Tm,{}),(0,a.jsx)(ck,{}),(0,a.jsx)(mk,{}),(0,a.jsx)(Vy,{}),e&&(0,a.jsx)(xk,{}),(0,a.jsx)(Yy,{})]})})),Ak=t(122560),Nk=t(128633),wk=t(701022),Tk=t(543256),Ik=(t(400989),(0,g.Zz)((0,Op.A)(),(0,tn.X)({name:"StreamDisplayAd"}))((function(e){var n,t,i=d.useContext(wk.OK),o=i.hasActiveBid,s=i.curFrame,u=i.iframeEl1,c=i.iframeEl2,p=i.sdaFormat,m=i.sdaMode,v=i.reportMount,f=i.reportUnmount,g=e.format,h=d.useContext(k.jK).adFormatMetadata,y=(0,S.I9)(h)?h:void 0,_=o&&e.format===p&&(p!==Eg.Z$.LOWER_THIRD||m!==wk.bi.Pushdown);d.useEffect((function(){var n={format:g,mode:wk.bi.InVideo,isSkyscraper:e.isSkyscraper};_?v(n):f(n)}),[g,e.isSkyscraper,v,f,_]);var C=(null==h?void 0:h.adFormat)===Eg.Z$.SQUEEZEBACK&&(160!==e.adDimensions.width||600!==e.adDimensions.height),b=d.useState({}),P=b[0],x=b[1],E=d.useState({}),A=E[0],N=E[1];if(d.useEffect((function(){C&&(1===s?x({width:e.containerDimensions.width||e.adDimensions.width,height:e.containerDimensions.height||e.adDimensions.height}):2===s&&N({width:e.containerDimensions.width||e.adDimensions.width,height:e.containerDimensions.height||e.adDimensions.height}))}),[s,e.adDimensions.height,e.adDimensions.width,e.containerDimensions.height,e.containerDimensions.width,C]),!_)return null;var w=(null==h?void 0:h.adFormat)===Eg.Z$.LOWER_THIRD?"lower-third":"squeezeback",T=l()(((n={})["stream-display-ad__iframe_".concat(w)]=!0,n["stream-display-ad__iframe_".concat(w,"--visible")]=1===s,n["stream-display-ad__iframe_".concat(w,"--hidden")]=2===s,n)),I=l()(((t={})["stream-display-ad__iframe_".concat(w)]=!0,t["stream-display-ad__iframe_".concat(w,"--visible")]=2===s,t["stream-display-ad__iframe_".concat(w,"--hidden")]=1===s,t)),D=(0,Tk.c0)(),O=C?"mirrorc":(null==h?void 0:h.adFormat)===Eg.Z$.LOWER_THIRD?gv.iN.stream.lowerthird:(null==h?void 0:h.adFormat)===Eg.Z$.SQUEEZEBACK?gv.iN.stream.squeezeback:"",F=C?e.containerDimensions.width:e.adDimensions.width,R=C?"1 1.1":"1",M=(0,S.DU)(null==y?void 0:y.bid)?null==y?void 0:y.bid:void 0,L=void 0!==M?(0,gv.A9)(M,O,null==y?void 0:y.adSessionId):{adInput:{advertiserIDNS:"",campaignIDNS:""},clientInput:{},countryInfo:{geoCode:null,isFromEU:!1}};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("iframe",{"aria-hidden":2===s,"data-test-selector":bk.IFrame1,className:T,style:1===s?P:void 0,title:D,ref:u,scrolling:"no",marginHeight:0,marginWidth:0}),(0,a.jsx)("iframe",{"aria-hidden":1===s,"data-test-selector":bk.IFrame2,className:I,style:2===s?A:void 0,title:D,ref:c,scrolling:"no",marginHeight:0,marginWidth:0}),(0,a.jsx)(r.P,{position:"relative",margin:"auto",style:{width:F,scale:R},children:(0,a.jsx)(Nk.V,{dsaContext:L,format:O,rendersInVideoPlayer:!0})})]})}))),Dk=t(319224),Ok=v.x.wrap((function(){return Promise.all([t.e(72180),t.e(93360)]).then(t.bind(t,989472))}),"BrandLiftSurveyManager",{placeholder:null,failSilently:!0}),Fk=v.x.wrap((function(){return Promise.all([t.e(18051),t.e(99605)]).then(t.bind(t,859039))}),"TurboSDAUPsell",{placeholder:null,failSilently:!0});!function(e){e.Wrapper="sda-wrapper",e.Container="sda-container",e.Transform="sda-transform",e.Frame="sda-frame",e.IFrame="sda-iframe",e.IFrame1="sda-iframe-1",e.IFrame2="sda-iframe-2"}(bk||(bk={}));var Rk,Mk=(0,g.Zz)((0,tn.X)({name:"LowerThirdContainer"}))((function(e){var n,t=e.injectStyles,r=(0,Uh.zB)(Eg.Z$.LOWER_THIRD).slotId,o=(0,Eg.Zj)(Eg.Z$.LOWER_THIRD),s=e.sdaVerticalOffset,u=e.scaledAdDimensions,c=e.sdaScale,p=d.useContext(De._t),m=d.useContext(E.wL),v=d.useContext(Tt.MP),f=d.useContext(x.kl),g=d.useContext(k.jK),h=d.useContext(P.$g),y=d.useContext(Vv.DV),_=d.useContext(rn.m9),C=(0,Dk.f)(),b=(0,ln.U0)(),A=b.isTurboSDAUpsellShowing,N=b.closeTurboSDAUpsell,w=A&&C,T=(0,i.__assign)((0,i.__assign)({uiContext:p,videoPlaybackContext:m,playerPublicPropsContext:f},v),{adContext:g,playerContext:h,channelSkinsContext:y,brandLiftContext:_,isTurboSDAUpsellShowing:w}),I=d.useContext(rn.m9),D=I.startVideoSession,O=I.isSurveyOpportunity,F=I.isSurveyShowing,R=I.setRefetchEnabled,M=I.retriggerTimer,L=O||F,j=(0,V.hd)(f.content)||null,B=(0,dr.Z)(j),U=(0,Uv.SU)(T)&&!F?Math.max(44,s):s,G={height:"".concat(u.height+U,"px")},z=(0,i.__assign)((0,i.__assign)((0,i.__assign)({},o),t),G),q=g.adFormatMetadata,H=g.isDisplayingSDASequence,W=d.useState(!1),K=W[0],Z=W[1],X=(0,S.I9)(q)?(null===(n=q.trackingParams)||void 0===n?void 0:n.sda_sequence_number)||0:void 0;d.useEffect((function(){if(X){Z(!0);var e=setTimeout((function(){Z(!1)}),500);return function(){clearTimeout(e)}}Z(!1)}),[X]),d.useEffect((function(){B&&B!==j&&(clearTimeout(M.current),D(),R(!0))}),[j,B,M,R,D]),d.useEffect((function(){!C&&A&&N()}),[N,C,A]);var Q={transform:"translateX(-50%) scale(".concat(c,")"),transition:K?"scale ".concat(500,"ms ease-in-out"):void 0},Y={height:"".concat(u.height,"px"),width:"".concat(u.width,"px"),transition:K?"height ".concat(500,"ms ease-in-out width ").concat(500,"ms ease-in-out"):void 0},$=d.useContext(wk.OK),J=$.sdaFormat,ee=$.isSDASequenceVisible,ne=!!((0,S.I9)(q)&&H&&ee||L||w),te=l()("stream-display-ad__wrapper","stream-display-ad__wrapper_lower-third","stream-display-ad__wrapper-".concat(ne?"visible":"hidden")),ie=l()({"stream-display-ad__container_lower-third":!0,"stream-display-ad__container_lower-third-hidden":!ne});return J===Eg.Z$.LOWER_THIRD||L||w?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{"data-test-selector":bk.Wrapper,className:te,children:(0,a.jsx)("div",{"data-test-selector":bk.Container,className:ie,style:z,children:(0,a.jsx)("div",{"data-test-selector":bk.Transform,className:"stream-display-ad__transform-container_lower-third",style:Y,children:(0,a.jsx)("div",{"data-test-selector":bk.Frame,id:r,className:"stream-display-ad__frame_lower-third",style:Q,children:L?(0,a.jsx)(Ok,{}):w?(0,a.jsx)(Fk,{channelLogin:j||""}):(0,a.jsx)(Ik,(0,i.__assign)({format:Eg.Z$.LOWER_THIRD,isSkyscraper:!1},e))})})})})}):null}));!function(e){e.Wrapper="sda-wrapper",e.Container="sda-container",e.Transform="sda-transform",e.Frame="sda-frame",e.IFrame="sda-iframe",e.IFrame1="sda-iframe-1",e.IFrame2="sda-iframe-2"}(Rk||(Rk={}));var Lk,Vk=(0,g.Zz)((0,tn.X)({name:"SkyscraperContainer"}))((function(e){var n,t,r,o=e.injectStyles,s=(0,Uh.zB)(Eg.Z$.SQUEEZEBACK).slotId,u=(0,Eg.Zj)(Eg.Z$.SQUEEZEBACK),c=e.adDimensions,p=e.scaledAdDimensions,m=e.sdaHorizontalOffset,v=e.sdaScale,f={left:"".concat(m,"px"),right:"0"},g={height:"".concat(p.height,"px"),width:"".concat(4*p.height/15,"px")},h=(0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)({},u),o),g),{background:"black"}),y=d.useContext(k.jK),_=y.adFormatMetadata,C=y.isDisplayingSDASequence,b={transform:"translateX(-50%) scale(".concat(v,")")},P=d.useContext(wk.OK),x=P.sdaFormat,E=P.isSDASequenceVisible,A=!!((0,S.I9)(_)&&C&&E),N=l()("stream-display-ad__wrapper","stream-display-ad__wrapper_skyscraper","stream-display-ad__wrapper-".concat(A?"visible":"hidden")),w="skyscraper",T=l()(((n={})["stream-display-ad__container_".concat(w)]=!0,n)),I=l()(((t={})["stream-display-ad__transform-container_".concat(w)]=!0,t)),D=l()(((r={})["stream-display-ad__frame_".concat(w)]=!0,r));return x===Eg.Z$.SQUEEZEBACK&&(0,Tk.Ny)(c)?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{"data-test-selector":Rk.Wrapper,className:N,style:f,children:(0,a.jsx)("div",{"data-test-selector":Rk.Container,className:T,style:h,children:(0,a.jsx)("div",{"data-test-selector":Rk.Transform,className:I,style:{},children:(0,a.jsx)("div",{"data-test-selector":Rk.Frame,id:s,className:D,style:b,children:(0,a.jsx)(Ik,(0,i.__assign)({format:Eg.Z$.SQUEEZEBACK,isSkyscraper:!0},e))})})})})}):null}));!function(e){e.Wrapper="sda-wrapper",e.Container="sda-container",e.Transform="sda-transform",e.Frame="sda-frame",e.IFrame="sda-iframe",e.IFrame1="sda-iframe-1",e.IFrame2="sda-iframe-2"}(Lk||(Lk={}));var jk=(0,g.Zz)((0,tn.X)({name:"SqueezebackContainer"}))((function(e){var n,t,r,o,s=e.injectStyles,u=(0,Uh.zB)(Eg.Z$.LOWER_THIRD).slotId,c=(0,Eg.Zj)(Eg.Z$.LOWER_THIRD),p=e.adDimensions,m=e.scaledAdDimensions,v=e.sdaScale,f={height:"".concat(m.height,"px"),width:"".concat(16*m.height/9,"px")},g=(0,i.__assign)((0,i.__assign)((0,i.__assign)((0,i.__assign)({},c),s),f),{background:"black"}),h=d.useContext(k.jK),y=h.adFormatMetadata,_=h.isDisplayingSDASequence,C="rtl"===document.dir,b={transform:"translateX(".concat(C?"":"-","50%) scale(").concat(v,")")},P=d.useContext(wk.OK),x=P.sdaFormat,E=P.isSDASequenceVisible,A=!!((0,S.I9)(y)&&_&&E),N=d.useState({}),w=N[0],T=N[1];d.useEffect((function(){T({width:e.containerDimensions.width||300,height:e.containerDimensions.height||1050,background:"black"})}),[e.containerDimensions.height,e.containerDimensions.width]);var I=l()("stream-display-ad__wrapper","stream-display-ad__wrapper_squeezeback","stream-display-ad__wrapper-".concat(A?"visible":"hidden")),D="squeezeback",O=l()(((n={})["stream-display-ad__container_".concat(D)]=!0,n)),F=l()(((t={})["stream-display-ad__transform-container_".concat(D)]=!0,t)),R=l()(((r={})["stream-display-ad__frame_".concat(D)]=!0,r)),M=l()(((o={})["stream-display-ad__iframe_".concat(D)]=!0,o["stream-display-ad__iframe_".concat(D,"--visible")]=!0,o));if(x!==Eg.Z$.SQUEEZEBACK)return null;var L=(0,a.jsx)(Ik,(0,i.__assign)({format:Eg.Z$.SQUEEZEBACK,isSkyscraper:!1},e));return(0,Tk.Ny)(p)&&(L=(0,a.jsx)("div",{"data-test-selector":Lk.IFrame,className:M,style:w})),(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{"data-test-selector":Lk.Wrapper,className:I,children:(0,a.jsx)("div",{"data-test-selector":Lk.Container,className:O,style:g,children:(0,a.jsx)("div",{"data-test-selector":Lk.Transform,className:F,style:{},children:(0,a.jsx)("div",{"data-test-selector":Lk.Frame,id:u,className:R,style:b,children:L})})})})})})),Bk=v.x.wrap((function(){return t.e(9029).then(t.bind(t,174779))}),"VerticalVideoControls",{failSilently:!0,placeholder:null}),Uk=(0,g.Zz)((0,Op.A)(),(0,tn.X)({name:"VerticalVideoContainer"}))((function(e){var n=e.scaledAdDimensions,t=e.sdaHorizontalOffset,o=e.trackAdFormatData,s=d.useContext(k.jK),l=s.adFormatMetadata,u=s.thirdPartyOutstreamVideoAdElement,c=s.updateOutstreamAdElement,p=s.videoAdMetadata,m=s.resetOutstreamAd,v=d.useContext(wk.OK).checkAndUpdateSDAHiddenState,f=d.useContext(x.kl).behaviors,g=(0,S.hr)(l),h=g&&"hiding"===(null==l?void 0:l.status),y=g&&!h,_=d.useRef(null),C=function(e){var n=d.useState(!1),t=n[0],i=n[1];return d.useEffect((function(){if(e&&e.current){var n=null==e?void 0:e.current,t=function(){return i(!0)},a=function(){return i(!1)};return n.addEventListener("mouseenter",t),n.addEventListener("mouseleave",a),function(){n.removeEventListener("mouseenter",t),n.removeEventListener("mouseleave",a)}}}),[e]),{isHovering:t}}(_).isHovering,b={position:"absolute",transition:"visibility 0.25s, opacity 0.25s ease-in-out",width:"100%",height:"100%",right:"0",visibility:y?"visible":"hidden"},P={position:"absolute",top:"50%",transform:"translateY(-50%)",height:"".concat(n.height,"px"),width:"".concat(n.width,"px"),opacity:y?1:0,background:"black",right:"".concat(t,"px")};d.useEffect((function(){if(y&&!(null==l?void 0:l.started)){var e=setTimeout((function(){l.videoAd.start(),v(u)}),1e3);return function(){return clearTimeout(e)}}}),[y,l,v,u]),d.useEffect((function(){y&&(null==p?void 0:p.stitched)&&(o("ad_opportunity_abort",{abort_reason:"SureStream"}),m())}),[y,m,null==p?void 0:p.stitched,o]),d.useEffect((function(){y&&(null==f?void 0:f.mini)&&(o("ad_opportunity_abort",{abort_reason:"MINI"}),m())}),[y,m,null==f?void 0:f.mini,o]);var E=(0,S.RO)(l),A={onClick:function(){return null==E?void 0:E.pause()},onClose:function(){return null==E?void 0:E.play()},right:2};return(0,a.jsx)(r.P,{style:b,children:(0,a.jsxs)(r.P,{style:P,ref:_,children:[(0,a.jsx)(r.P,{width:"100%",height:"100%","data-a-target":"outstream-ax-overlay",ref:c}),y&&(0,a.jsx)(r.P,{position:"absolute",width:"100%",style:{bottom:0,width:"100%"},children:(0,a.jsx)(Bk,{showControls:C})}),y&&(0,a.jsx)(Rv.Cq,(0,i.__assign)({},A))]})})})),Gk=function(e){var n=e.children,t=e.handleResize,o=d.useContext(x.kl),s=o.behaviors,l=d.useContext(De._t),u=d.useContext(E.wL),c=d.useContext(Tt.MP),p=d.useContext(k.jK),m=d.useContext(P.$g),v=d.useContext(Vv.DV),f=d.useContext(rn.m9),g=(0,ln.U0)().isTurboSDAUpsellShowing,h=(0,i.__assign)((0,i.__assign)({uiContext:l,videoPlaybackContext:u,playerPublicPropsContext:o},c),{adContext:p,playerContext:m,channelSkinsContext:v,brandLiftContext:f,isTurboSDAUpsellShowing:g}),y=d.useCallback((function(e){return!(!s||!s[e])}),[s]),S=p.adFormatMetadata,_=v.isLowerThirdEnabled,C=f.isSurveyShowing,b=f.isMouseHovering,A=S&&(0,gv.rW)(S.adFormat)||_||C&&!b||g,N=!(y("enableStreamDisplayAds")||y("enableChannelSkinsLowerThird"))||e.playerType===Nl.C.WatchPartyHost;return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(ct.$,{onResize:t}),!N&&(0,a.jsx)(jk,(0,i.__assign)({},e)),!N&&(0,a.jsx)(Vk,(0,i.__assign)({},e)),!N&&(0,a.jsx)(Uk,(0,i.__assign)({},e)),n,!N&&(0,a.jsx)(Mk,(0,i.__assign)({},e)),!N&&(0,Uv.oZ)(h)&&(0,a.jsx)(r.P,{hidden:!A,children:(0,a.jsx)(Mc,{shouldShow:(0,Uv.SU)(h),isOffline:!1,isAccessibilityLandmark:!1})})]})};Gk.displayName="StreamDisplayAdWrapper";var zk,qk=t(198640),Hk=t(565640),Wk=t(595101),Kk=t(862596),Zk=t.n(Kk);!function(e){e.Failure="failure",e.Skipped="skipped",e.Success="success"}(zk||(zk={}));var Xk=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={lastStreamUpServerTime:0},n.vp9Disabled=!1,n.logger=n.props.logger.withCategory("on-video-source-props-changed"),n.retryVP9Error=function(e,t){return(0,i.__awaiter)(n,void 0,Promise,(function(){var n,a,r,o;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return(n=this.props.mediaPlayerInstance)?(a=n.getQuality().codecs,r=e===Hk.g.DECODER,o=(e===Hk.g.MASTER_PLAYLIST||e===Hk.g.MEDIA_PLAYLIST)&&t>=500,a.includes(Of)&&(r||o)?(this.vp9Disabled=!0,hf(),[4,this.setSrc()]):[3,2]):[2,!1];case 1:return[2,i.sent()===zk.Success];case 2:return[2,!1]}}))}))},n.setSrc=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return(0,i.__awaiter)(n,(0,i.__spreadArray)([],e,!0),Promise,(function(e){var n,t,a,r,o,s,l,d,u,c,p,m,v;return void 0===e&&(e={}),(0,i.__generator)(this,(function(i){switch(i.label){case 0:return n=this.props,t=n.mediaPlayerInstance,a=n.mediaPlayerHandle,r=n.content,o=n.updatePlayerContext,s=n.playerType,l=n.forceManifestNode,d=n.quality,u=n.qualityBitrate,this.logger.debug("setting video source props",r),o({sourceStatus:jv.O.Loading,manualResetRequested:!1}),t?(t.pause(),c=this.props,p=!1,(null==a?void 0:a.isVP9Supported)?[4,a.isVP9Supported()]:[3,2]):(this.logger.debug("mediaplayer instance missing. Skipping."),[2,zk.Skipped]);case 1:p=i.sent(),i.label=2;case 2:return m=(0,H.k3)(),[4,Rf(r,s,l,o,d,u,p&&!this.vp9Disabled,!!e.refreshAccessToken,m)];case 3:return v=i.sent(),Ff(c.content,this.props.content)?(this.logger.debug("video source props have changed while getting new media player source. Skipping.",{propsRef:c,props:this.props}),[2,zk.Skipped]):this.props.mediaPlayerInstance&&this.props.mediaPlayerInstance===t?v.src?(this.props.adContextReset(),this.props.resetOnSourceChange(v,m),this.props.setClosedCaptionsAvailable(!1),this.props.mediaPlayerInstance.load(v.src),e.isNewMediaPlayerInstance&&this.setInitialPlaybackSettings(this.props.mediaPlayerInstance),v.videoAccessToken&&fn(v.videoAccessToken)&&this.props.addRestriction(vn.S.AccountRestricted),this.setSrcChangedPlaybackSettings(this.props.mediaPlayerInstance),[2,zk.Success]):(o({sourceStatus:jv.O.None}),this.logger.warn("Unable to get usher src"),[2,zk.Failure]):(this.logger.warn("mediaPlayerInstance not available or changed. Skipping."),[2,zk.Skipped])}}))}))},n.setInitialPlaybackSettings=function(e){n.setInitialMutedSetting(e),n.setInitialVolumeSetting(e),n.setInitialLoopingSetting(e),n.setInitialLiveLowLatencySetting(e)},n.setSrcChangedPlaybackSettings=function(e){n.setInitialPlaybackRateSetting(e),n.setPlaybackState(e)},n.setInitialMutedSetting=function(e){if(n.props.isPlaybackRestricted)e.setMuted(!0);else{var t=n.props.disableAudio||n.props.initialMuted||Kf.o.get("video-muted",n.props.playerType);void 0!==t&&e.setMuted(t)}},n.setInitialVolumeSetting=function(e){var t=void 0!==n.props.initialVolume?n.props.initialVolume:c.IG.get(Vd.U.VOLUME,.5);e.setVolume(t)},n.setInitialPlaybackRateSetting=function(e){if(n.props.playbackRateSupported){var t=c.IG.getOptional(Vd.U.PLAYBACK_RATE)||"1";void 0!==t&&e.setPlaybackRate(parseFloat(t))}},n.setInitialLoopingSetting=function(e){void 0!==n.props.enableLooping&&e.setLooping(n.props.enableLooping)},n.setInitialLiveLowLatencySetting=function(e){e.setLiveLowLatencyEnabled(n.props.isLiveLowLatencyEnabled)},n.setPlaybackState=function(e){!n.props.isPlaybackRestricted&&n.props.autoplay&&(n.props.setUserTriggeredPause(!1),n.props.setUserTriggeredPlay(!1),e.play())},n.onError=function(e){return(0,i.__awaiter)(n,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:switch(e.type){case Wk.B.NOT_AVAILABLE:case Wk.B.AUTHORIZATION:case Wk.B.NOT_SUPPORTED:case Wk.B.NETWORK_IO:return[3,1];case Wk.B.NETWORK:return[3,2]}return[3,4];case 1:return[2];case 2:return[4,this.handleNetworkError(e)];case 3:case 5:return n.sent(),[2];case 4:return[4,this.handleDefaultError(e)]}}))}))},n.handleNetworkError=function(e){return(0,i.__awaiter)(n,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return[4,this.retryVP9Error(e.source,e.code)];case 1:return n.sent()||this.props.setError(vr.O4.Network),[2]}}))}))},n.handleDefaultError=function(e){return(0,i.__awaiter)(n,void 0,void 0,(function(){return(0,i.__generator)(this,(function(n){switch(n.label){case 0:return e.source!==Hk.g.DECODER?[3,2]:[4,this.retryVP9Error(e.source,e.code)];case 1:return n.sent()?[2]:(this.props.setError(vr.O4.Decode),[3,3]);case 2:this.props.setError(vr.O4.Aborted),n.label=3;case 3:return[2]}}))}))},n}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(L.a.ERROR,this.onError),this.props.mediaPlayerInstance&&this.setSrc({isNewMediaPlayerInstance:!0})},n.prototype.componentDidUpdate=function(e){var n=e.mediaPlayerInstance!==this.props.mediaPlayerInstance;Ff(e.content,this.props.content)||n?(this.vp9Disabled=!1,this.setSrc({isNewMediaPlayerInstance:n})):this.props.manualResetRequested&&!e.manualResetRequested&&this.setSrc(),this.checkSubsUpdate(e),this.checkStreamUp()},n.prototype.render=function(){return null},n.prototype.checkStreamUp=function(){var e=this,n=this.props.pubsub.messages.streamUp;n&&this.state.lastStreamUpServerTime<n.server_time&&this.setState({lastStreamUpServerTime:n.server_time},(function(){return e.setSrc()}))},n.prototype.checkSubsUpdate=function(e){var n=this.props,t=n.userData,i=n.pubsub,a=n.isPlaybackRestrictedByPremiumContent;t.userByAttribute&&i.messages.subscriptionInfo!==e.pubsub.messages.subscriptionInfo&&i.messages.subscriptionInfo&&i.messages.subscriptionInfo.channel_id===t.userByAttribute.id&&a&&this.setSrc({refreshAccessToken:!0})},n}(d.Component);function Qk(e){return e.userData.userByAttribute&&e.userData.userByAttribute.id?(0,cn.RW)(e.userData.userByAttribute.id):""}function Yk(e){return!(0,V.DG)(e.content)||!e.userData||e.userData.loading||!e.userData.userByAttribute||!e.userData.userByAttribute.id}function $k(e){return e.currentUserID?(0,cn.CH)(e.currentUserID):""}function Jk(e){return!e.currentUserID}function eS(e){var n,t,i,a;return{input:{login:null!==(n=(0,V.jp)(e))&&void 0!==n?n:null,ownsVideoID:null!==(t=(0,V.hq)(e))&&void 0!==t?t:null,ownsCollectionID:null!==(i=(0,V.Eq)(e))&&void 0!==i?i:null,broadcasterOfClipSlug:null!==(a=(0,V.Qc)(e))&&void 0!==a?a:null}}}var nS=(0,g.Zz)((0,u.Ng)((function(e){var n;return{currentUserID:null===(n=e.session.user)||void 0===n?void 0:n.id}})),(0,E.AP)((function(e){var n=e.setUserTriggeredPause,t=e.setUserTriggeredPlay,i=e.userTriggeredPause;return{userTriggeredPause:i,setUserTriggeredPause:n,setUserTriggeredPlay:t}})),(0,P.dd)((function(e){var n=e.autoplay,t=e.isLiveLowLatencyEnabled,i=e.mediaPlayerHandle,a=e.mediaPlayerInstance,r=e.logger,o=e.updateContext,s=e.setError,l=e.resetOnSourceChange,d=e.quality,u=e.qualityBitrate,c=e.manualResetRequested,p=e.addRestriction;return{autoplay:n,isLiveLowLatencyEnabled:t,mediaPlayerHandle:i,mediaPlayerInstance:a,logger:r,updatePlayerContext:o,setError:s,resetOnSourceChange:l,quality:d,qualityBitrate:u,isPlaybackRestricted:(0,ye.k1)(e),isPlaybackRestrictedByPremiumContent:(0,ye.uJ)(e),manualResetRequested:c,addRestriction:p}})),(0,De.c0)((function(e){return{setClosedCaptionsAvailable:e.setClosedCaptionsAvailable}})),(0,k.VX)((function(e){return{adContextReset:e.resetForNewPlayerContent}})),(0,x.cj)((function(e){var n,t=(0,T.Rh)({playerPublicPropsContext:e}),i=(0,T.wk)({playerPublicPropsContext:e}),a=i.disableAudio,r=i.enableLooping,o=i.forceManifestNode,s=i.initialVolume,l=i.initialMuted;return{content:t,disableAudio:a,enableLooping:r,forceManifestNode:o,initialMuted:null!==(n=null==l?void 0:l.enabled)&&void 0!==n&&n,initialVolume:s,playerType:e.type,playbackRateSupported:(0,V.pk)(t)}})),(0,b.X)(),(0,z._v)(Zk(),{name:"userData",options:function(e){return{variables:eS(e.content)}}}),function(){var e;return(0,qk.U)([{topic:Qk,skip:Yk,mapMessageTypesToProps:(e={},e[Ka.PD.ChannelStreamUp]="streamUp",e)},{topic:$k,skip:Jk,mapMessageTypesToProps:{"*":"subscriptionInfo"}}])}())(Xk);var tS=(0,g.Zz)((0,Tt.In)((function(e){var n=e.active;return{active:n}})),(0,x.cj)((function(e){return{forceControlVisibilityShowing:(0,T.wk)({playerPublicPropsContext:e}).forceControlVisibility===Oe.Ie.Showing}})),(0,E.AP)((function(e){var n=e.isPlaying;return{isPlaying:n}})))((function(e){var n=e.active,t=e.children,i=e.forceControlVisibilityShowing,o=e.isPlaying;return(0,a.jsx)(r.P,{className:l()("video-player__default-player",{"video-player__inactive":!n&&o&&!i}),children:t})}));var iS;t(156425);!function(e){e.VideoContainer="video-player__video-container",e.VideoLayout="video-player__video-layout"}(iS||(iS={}));var aS=v.x.wrap((function(){return Promise.all([t.e(97316),t.e(14030),t.e(57792),t.e(70614)]).then(t.bind(t,794130))}),"CelebrationDisplayContainer",{failSilently:!0,placeholder:null}),rS=function(e){var n,t=(0,u.d4)(oS,u.bN),s=t.firstPageLoaded,v=t.theatreModeEnabled,g=d.useCallback((function(n){return!(!e.behaviors||!e.behaviors[n])}),[e.behaviors]),h={};v?h.maxHeight="100%":(null===(n=e.behaviors)||void 0===n?void 0:n.playerContainerMaxHeightStyleValue)&&(h.maxHeight=e.behaviors.playerContainerMaxHeightStyleValue);var y=(0,Ak.J)(),k=y.sdaVideoRefClasses,S=y.sdaVideoRefStyles,_=l().apply(void 0,(0,i.__spreadArray)(["video-ref"],k,!1)),C=d.useContext(P.$g).mediaPlayerInstance;return d.useEffect((function(){if(C){var e={timeoutID:void 0,setup:function(){this.timeoutID=setTimeout((function(){var e,n;C&&!C.isPaused()&&c.IG.set("ads_bitrate_bps",null!==(n=null===(e=C.getQuality())||void 0===e?void 0:e.bitrate)&&void 0!==n?n:0,{expireInMS:12096e5})}),2e4)},cancel:function(){clearTimeout(this.timeoutID)}},n=function(){e.setup()};return C.addEventListener(N.p.PLAYING,n),function(){C&&C.removeEventListener(N.p.PLAYING,n),e.cancel()}}}),[C]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(df,{logger:e.logger}),(0,a.jsx)(O,{playerId:e.id}),s&&(0,a.jsx)(p.K,{name:"project_celebration_alerts",children:(0,a.jsx)(aS,{enabled:g("enableCelebrations")})}),(0,a.jsx)(r.P,{className:"video-player","data-a-target":"video-player","data-a-player-type":e.type,"data-test-selector":iS.VideoLayout,children:(0,a.jsx)(r.P,{className:"video-player__container","data-test-selector":iS.VideoContainer,ref:e.onContainerRefDelegate,overflow:o.nE.Hidden,position:o.yX.Absolute,attachBottom:!0,attachLeft:!0,attachRight:!0,attachTop:!0,style:h,children:(0,a.jsx)(Gk,(0,i.__assign)({playerType:e.type,logger:e.logger},y,{children:(0,a.jsx)(r.P,{ref:e.onVideoRefDelegate,className:_,style:S,"data-a-target":"video-ref",children:(0,a.jsx)(tS,{children:(0,a.jsx)(r.P,{className:"video-player__overlay",position:o.yX.Absolute,attachBottom:!0,attachLeft:!0,attachRight:!0,attachTop:!0,children:(0,a.jsx)(Xv,{logger:e.logger})})})})}))})}),(0,a.jsx)(J,{}),(0,a.jsx)(nS,{}),(0,a.jsx)(rf,{}),(0,a.jsx)(af,{}),(0,a.jsx)(G,{isClip:(0,V.Jn)(e.content)}),g("enablePlaySessionTagTracking")&&(0,a.jsx)(Pg,{}),s&&(0,a.jsx)(ef,{}),(0,a.jsx)(m.j,{consentVendor:f.F.ComScore,children:(0,a.jsx)(Ce,{})}),(0,a.jsx)(Wf,{}),(0,a.jsx)($f,{}),(0,a.jsx)(eg,{}),(0,a.jsx)(Qf,{}),(0,a.jsx)(Ue,{}),(0,a.jsx)(_g,{}),!(0,V.JN)(e.content)&&(0,a.jsx)(mg,{}),(0,a.jsx)(be.H,{}),(0,a.jsx)(Ek,{}),(0,a.jsx)(Ke,{}),(0,V.JN)(e.content)&&(0,a.jsx)(Ne,{}),(0,a.jsx)(nn,{}),g("exclusivePlayback")&&(0,a.jsx)(D,{}),g("pauseWhenModalShowing")&&(0,a.jsx)(ze,{}),g("pauseWhenNotInViewport")&&(0,a.jsx)(fg,{}),(0,a.jsx)("div",{style:{display:"none"},children:e.children})]})};function oS(e){return{theatreModeEnabled:e.ui.theatreModeEnabled,firstPageLoaded:!!e.session.firstPageLoaded}}rS.displayName="VideoPlayerComponent"},583353:function(e,n,t){"use strict";t.d(n,{L:function(){return g}});var i=t(331635),a=t(474848),r=t(296540),o=t(868238),s=t(452088),l=t(805450),d=t(105146),u=t(863845),c=t(488910),p=t(860345),m=t(457063),v=t(538211),f=(t(156425),function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.state={},n.id=(0,d.yr)(16),n.logger=s.x2.logger.withCategory("video-player").withCategory(n.id),n.onContainerRefDelegate=function(e){return n.setState({videoContainer:e})},n.onVideoRefDelegate=function(e){return n.setState({video:e})},n}return(0,i.__extends)(n,e),n.prototype.render=function(){return(0,a.jsx)(m.df,(0,i.__assign)({},this.props,{children:(0,a.jsx)(p.x,{videoContainer:this.state.videoContainer,videoRef:this.state.video,playerRefID:this.id,logger:this.logger,children:(0,a.jsx)(v._4,(0,i.__assign)({onContainerRefDelegate:this.onContainerRefDelegate,onVideoRefDelegate:this.onVideoRefDelegate,id:this.id,logger:this.logger},this.props))})}))},n}(r.Component)),g=(0,o.Zz)((0,l.X)({name:"VideoPlayer",content:(0,a.jsx)((function(){return(0,a.jsx)(u.rj,{iconProps:{type:c.W.Empty},text:(0,s.hw)("An error occurred. Please try again.","VideoPlayerErrorBoundary")})}),{})}))(f)},711274:function(e,n,t){"use strict";t.d(n,{e:function(){return c}});var i=t(331635),a=t(474848),r=t(296540),o=t(457063),s=t(286169),l=t(648101),d=t(289007),u=t(118483);function c(){return function(e){var n=function(n){function t(){var e=null!==n&&n.apply(this,arguments)||this;return e.getContentUrl=function(n,t){var i=e.props;return function(e,n){var t,i,a,r;void 0===n&&(n={});var o=n.contentRoutingOverrides;return(0,u.DG)(e)?(null!==(t=null==o?void 0:o[l.FC.Live])&&void 0!==t?t:d.U)(e,n):(0,u.wy)(e)?(null!==(i=null==o?void 0:o[l.FC.VOD])&&void 0!==i?i:d.zb)(e,n):(0,u.P3)(e)?(null!==(a=null==o?void 0:o[l.FC.Collection])&&void 0!==a?a:d.Mr)(e,n):(0,u.Jn)(e)?(null!==(r=null==o?void 0:o[l.FC.Clip])&&void 0!==r?r:d.cs)(e,n):void 0}(n,{trackingContext:t,linkTrackingContext:i.linkTrackingContext,contentRoutingOverrides:i.overrideContentRouting})},e.getFullyFormedUrl=function(n,t){return function(e,n){return void 0===n&&(n={}),(0,u.DG)(e)&&(0,d.b3)(e,n)||(0,u.wy)(e)&&(0,d.A9)(e,n)||(0,u.P3)(e)&&(0,d.$q)(e,n)||(0,u.Jn)(e)&&(0,d.zM)(e,n)||d.Kk}(n,{trackingContext:t,linkTrackingContext:e.props.linkTrackingContext})},e}return(0,i.__extends)(t,n),t.prototype.render=function(){return(0,a.jsx)(e,(0,i.__assign)({},this.props,{getContentUrl:this.getContentUrl,getFullyFormedUrl:this.getFullyFormedUrl}))},t}(r.Component);return(0,o.cj)(p)(n)}}function p(e){var n=(0,s.wk)({playerPublicPropsContext:e});return{linkTrackingContext:n.linkTrackingContext,overrideContentRouting:n.overrideContentRouting}}},447925:function(e,n,t){"use strict";t.d(n,{p:function(){return r}});var i=t(296540),a=t(231273),r=function(e,n){var t=i.useContext(a.$g).mediaPlayerInstance;i.useEffect((function(){return t&&t.addEventListener(e,n),function(){t&&t.removeEventListener(e,n)}}),[e,n,t])}},557402:function(e,n,t){"use strict";t.d(n,{KK:function(){return _},DV:function(){return S},dC:function(){return k}});var i=t(474848),a=t(296540),r=t(868238),o=t(709673),s=t(436617),l=t(231273),d=t(457063),u=t(118483),c=t(267924),p=t(121050),m=t(51454),v=t(229915),f=t(573566),g=t(55195);var h={campaignSettings:null,channel:void 0,currentUser:void 0,isLowerThirdEnabled:!1,isVideoOverlayEnabled:!1,handleLowerThirdChannelSkinsAction:function(){},handleVideoOverlayChannelSkinsAction:function(){},isDarkMode:!1},y=(0,s.e)("ChannelSkinsContext",h,(function(e){return{channelSkinsContext:e}})),k=y.withMemoContext,S=y.context;var _=(0,r.Zz)((0,d.cj)((function(e){var n=e.content,t=e.type;return{channelLogin:(0,u.jp)(n),type:t}})),(0,o.VX)((function(e){return{videoAdMetadata:e.videoAdMetadata,adFormatMetadata:e.adFormatMetadata}})),(0,l.dd)((function(e){return{hasPlayed:e.hasPlayed}})))((function(e){var n=e.children,t=function(e){var n,t,i,r,s,u=e.channelLogin,h=a.useContext(d.kl),y=!!(null===(n=h.behaviors)||void 0===n?void 0:n.enableChannelSkinsLowerThird)||!!(null===(t=h.behaviors)||void 0===t?void 0:t.enableChannelSkinsVideoOverlay),k=a.useContext(o.jK),S=k.videoAdMetadata,_=k.adFormatMetadata,C=a.useContext(l.$g).hasPlayed,b=(0,g.O)(h),P=(0,p.L)({channelLogin:y?u:void 0}),x=P.canShowChannelSkins,E=P.campaignSettings,A=P.channel,N=P.currentUser,w=P.blockForAdFreeUser,T=P.isDarkMode,I=(0,f.cz)(S)||(0,f.g)(_),D=!(null===(i=h.behaviors)||void 0===i?void 0:i.mini)&&!I&&C,O=x&&!w&&D&&!!E,F=O&&!!(null===(r=h.behaviors)||void 0===r?void 0:r.enableChannelSkinsLowerThird)&&!!(0,v.ef)(c.OM7.LOWER_THIRD,null==E?void 0:E.placements),R=O&&!!(null===(s=h.behaviors)||void 0===s?void 0:s.enableChannelSkinsVideoOverlay)&&(!!(0,v.ef)(c.OM7.VIDEO_OVERLAY,null==E?void 0:E.placements)||!!(0,v.ef)(c.OM7.FRONT_PAGE_VIDEO_OVERLAY,null==E?void 0:E.placements)),M=(0,m.a)({campaignSettings:E,canShowChannelSkins:x,blockForAdFreeUser:w,channel:A,currentUser:N,type:c.OM7.LOWER_THIRD,isDarkMode:T,skipTracking:!F}).handleChannelSkinsAction,L=(0,m.a)({campaignSettings:E,canShowChannelSkins:x,blockForAdFreeUser:w,channel:A,currentUser:N,type:(0,v.cJ)(b),isDarkMode:T,skipTracking:!R}).handleChannelSkinsAction;return a.useMemo((function(){return{campaignSettings:E,channel:A,currentUser:N,handleVideoOverlayChannelSkinsAction:L,handleLowerThirdChannelSkinsAction:M,isLowerThirdEnabled:F,isVideoOverlayEnabled:R,isDarkMode:T}}),[E,A,N,L,M,F,R,T])}({channelLogin:e.channelLogin});return(0,i.jsx)(S.Provider,{value:t,children:n||null})}))},982592:function(e,n,t){"use strict";t.d(n,{_v:function(){return m},mh:function(){return v},vM:function(){return c}});var i=t(474848),a=t(296540),r=t(436617),o=t(447925),s=t(231273),l=t(749721),d={castingState:"unavailable",deviceName:"",startCast:function(){return null},stopCast:function(){return null}};var u=(0,r.e)("ChromecastContext",d,(function(e){return{chromecastContext:e}})),c=u.withMemoContext,p=u.context,m=function(e){var n=e.children,t=function(e){var n=e.logger,t=(0,a.useRef)(n.withCategory("chromecast-context")),i=(0,a.useContext)(s.$g).mediaPlayerInstance,r=(0,a.useState)(d.castingState),u=r[0],c=r[1],p=(0,a.useState)(d.deviceName),m=p[0],v=p[1],f=(0,a.useCallback)((function(){t.current.info("Initiating remote playback session via player core."),c("connecting"),null==i||i.startRemotePlayback()}),[i]),g=(0,a.useCallback)((function(){t.current.info("Ending remote playback session with ".concat(m," via player core.")),null==i||i.endRemotePlayback()}),[m,i]);return(0,o.p)(l.G.AVAILABLE,(0,a.useCallback)((function(){c("available")}),[])),(0,o.p)(l.G.UNAVAILABLE,(0,a.useCallback)((function(){c("unavailable")}),[])),(0,o.p)(l.G.SESSION_STARTED,(0,a.useCallback)((function(e){t.current.info("Remote playback session started with a device named ".concat(e)),c("connected"),v(e)}),[])),(0,o.p)(l.G.SESSION_ENDED,(0,a.useCallback)((function(){c("available")}),[])),(0,a.useMemo)((function(){return{castingState:u,deviceName:m,startCast:f,stopCast:g}}),[u,m,f,g])}({logger:e.logger});return(0,i.jsx)(p.Provider,{value:t,children:n||null})};function v(e){return"connected"===e.castingState}},145875:function(e,n,t){"use strict";t.d(n,{A3:function(){return s},GZ:function(){return r},iu:function(){return l}});var i=t(419813),a=t(436617),r={overlayExtension:null,componentExtensions:[],shouldMountExtensionComponents:!1,allVideoExtensions:[],isChannelInfoVisible:!1,isOverlayVisible:!1,permissionsStates:{},setOverlayVisibility:function(){},setMenuState:function(e,n){},setPlayerMenuState:function(e,n){},setPermissionsState:function(e,n){},setNotification:function(e){},openPopover:function(e){},closePopover:function(e){},togglePopover:function(e){},hoverExtensionCard:function(e){},isMenuOpen:function(e){return!1},isPopoverOpen:function(e){return!1},isDockIconHovered:function(e){return!1},isAnyPopoverOpen:function(){return!1},getMenuState:function(e){return{type:i.gu.NONE}},getPlayerMenuState:function(){return{type:i.gu.NONE,selectedInstallationID:null}},getNotification:function(){return{type:i._n.NONE}},hideExtensions:!0,trackEvent:function(e,n,t){}},o=(0,a.e)("ExtensionsUIContext",r,(function(e){return{extensionsUIContext:e}})),s=o.withMemoContext,l=o.context},15250:function(e,n,t){"use strict";var i,a,r;function o(e,n,t){return{action_type:e,action_result:n,extension_id:t.id,extension_name:t.extension.name,extension_type:t.activationConfig.anchor,extension_version:t.extension.version}}function s(e){switch(e){case r.ExtensionDockIconClick:return"extension_dock_icon_click";case r.ExtensionDockMenuOptionClick:return"extension_dock_menu_option_click";case r.ExtensionDockToolbarIconClick:return"extension_dock_toolbar_icon_click";default:return null}}t.d(n,{X2:function(){return i},dP:function(){return o},iN:function(){return a},si:function(){return r},w1:function(){return s}}),function(e){e.ToolbarLeftAngleIconClick="toolbar_left_angle_icon_click",e.ToolbarGearIconClick="toolbar_gear_icon_click",e.ToolbarXIconClick="toolbar_x_icon_click",e.MenuOptionClick="menu_option_click",e.ExtensionDockIconClick="dock_icon_click",e.ExtensionDockIconHover="dock_icon_hover"}(i||(i={})),function(e){e.MaximizeExtension="maximize_extension",e.MinimizeExtension="minimize_extension",e.BuildExtension="build_extension",e.ReportExtension="report_extension",e.ViewDetails="view_details",e.Grant="grant_access",e.Revoke="revoke_access",e.ViewMenu="view_menu",e.HideMenu="hide_menu",e.HideOverlay="hide_overlay",e.ViewOverlay="view_overlay",e.DisplayHoverInfo="display_hover_info"}(a||(a={})),function(e){e.ExtensionDockIconClick="extension_dock_icon_click",e.ExtensionDockToolbarIconClick="extension_dock_toolbar_icon_click",e.ExtensionDockMenuOptionClick="extension_dock_menu_option_click",e.ExtensionDockIconHover="extension_dock_icon_hover"}(r||(r={}))},860345:function(e,n,t){"use strict";t.d(n,{x:function(){return En}});var i,a=t(331635),r=t(474848),o=t(296540),s=t(194569),l=t(327167),d=t(764823),u=function(e){var n=o.useContext(d._t),t=n.isFullscreen,i=n.videoContainer,a=void 0!==i&&t?function(){return i}:void 0;return(0,r.jsx)(l.dw,{parentSelector:a,disableAriaHideApp:void 0!==a,children:e.children})},c=t(415044),p=t(868238),m=t(805450),v=t(407827),f=t(232290),g=t(701022),h=t(361124),y=v.x.wrap((function(){return t.e(61174).then(t.bind(t,489340))}),"PushdownSDAPortal",{failSilently:!0,placeholder:null}),k=(0,p.Zz)((0,f.A)(),(0,m.X)({name:"SDAContextManager"}))((function(e){var n=(0,h.MU)(e),t=(0,c.d4)((function(e){return{firstPageLoaded:e.session.firstPageLoaded}}),c.bN).firstPageLoaded;return(0,r.jsxs)(g.OK.Provider,{value:n,children:[t&&(0,r.jsx)(y,{}),e.children||null]})})),S=t(709673),_=t(430228),C=t.n(_),b=t(452088),P=t(345029),x=t(337930),E=t(267924),A=t(485272),N=t(55533),w=t(121050),T=t(229915),I=t(669022),D=t(945869),O=t(960052),F=t(231273),R=t(457063),M=t(44377),L=t(726280),V=t(573566),j=t(118483),B=t(177972),U=t(55195),G=function(e){switch(e){case M.Z$.STANDARD_VIDEO:case M.Z$.STANDARD_AUDIO:case M.gz.STANDARD_VIDEO:return!0;default:return!1}};function z(e,n){var t;switch(n.type){case i.AdElementUpdated:return(0,a.__assign)((0,a.__assign)({},e),{thirdPartyVideoAdElement:n.element});case i.CompanionElementUpdated:return(0,a.__assign)((0,a.__assign)({},e),{thirdPartyCompanionAdElement:n.element});case i.OutstreamAdElementUpdated:return(0,a.__assign)((0,a.__assign)({},e),{thirdPartyOutstreamVideoAdElement:n.element});case i.OutstreamAdDisplayStatusUpdated:return(0,A.rF)(null===(t=e.adFormatMetadata)||void 0===t?void 0:t.adFormat)?(0,a.__assign)((0,a.__assign)({},e),{adFormatMetadata:(0,a.__assign)((0,a.__assign)({},e.adFormatMetadata),{status:n.status})}):e;case i.AdStatsUpdated:return(0,a.__assign)((0,a.__assign)({},e),{adPodStats:(0,a.__spreadArray)((0,a.__spreadArray)([],e.adPodStats,!0),[n.stats],!1)});case i.ClientSideVideoAdMuted:return(0,a.__assign)((0,a.__assign)({},e),{muted:n.muted,userManuallyAdjustedVolumeDuringAd:n.userInitiated&&!!e.videoAdMetadata||e.userManuallyAdjustedVolumeDuringAd});case i.FillClientSideVideoAd:return(0,a.__assign)((0,a.__assign)({},e),{adPodStats:[],videoAdMetadata:n.metadata,videoAdRequest:(0,a.__assign)((0,a.__assign)({},n.request),{status:L.s.Filled})});case i.SetRadToken:return(0,a.__assign)((0,a.__assign)({},e),{radToken:n.radToken});case i.StitchedVideoAdStarted:return(0,a.__assign)((0,a.__assign)({},e),{videoAdMetadata:n.metadata,adPodStats:[]});case i.ClientSideAdSelectionParamsUpdated:return(0,a.__assign)((0,a.__assign)({},e),{clientSideAdSelectionParams:n.params});case i.ClientSideVideoAdRequested:return(0,a.__assign)((0,a.__assign)({},e),{videoAdRequest:n.request});case i.ProcessClientSideVideoAdRequest:var r=(0,a.__assign)((0,a.__assign)((0,a.__assign)({},n.request),n.metadata),{status:L.s.Processed});return(0,a.__assign)((0,a.__assign)({},e),{videoAdRequest:r});case i.ClientSideVideoAdStarted:if(!(0,V.EF)(e.videoAdMetadata))return e;var o=void 0;switch(n.adFormat){case M.gz.STANDARD_VIDEO:case M.gz.BROWSE_DISPLAY:case M.Z$.STANDARD_AUDIO:case M.Z$.STANDARD_VIDEO:o=n.adFormat;break;default:o=M.gz.STANDARD_VIDEO}return(0,a.__assign)((0,a.__assign)({},e),{videoAdMetadata:(0,a.__assign)((0,a.__assign)({},e.videoAdMetadata),{started:!0,start:n.start,adPosition:n.position,numberOfAds:n.numberOfAds,adFormat:o,adInfo:n.adInfo}),isPlaying:!0});case i.ClientSideVideoAdVolumeUpdated:return(0,a.__assign)((0,a.__assign)({},e),{volume:n.volume,userManuallyAdjustedVolumeDuringAd:n.userInitiated&&!!e.videoAdMetadata||e.userManuallyAdjustedVolumeDuringAd});case i.ClientSideVideoAdPlayingUpdated:return(0,a.__assign)((0,a.__assign)({},e),{isPlaying:n.isPlaying});case i.Reset:return(0,a.__assign)((0,a.__assign)({},e),{adFormatMetadata:void 0,adFormatRequest:void 0,userManuallyAdjustedVolumeDuringAd:!1,videoAdMetadata:void 0,videoAdRequest:void 0,isPlaying:!1,volume:void 0,muted:void 0,clientSideAdSelectionParams:void 0});case i.ResetForNewPlayerContent:return(0,a.__assign)((0,a.__assign)({},e),{adFormatMetadata:void 0,adFormatRequest:void 0,userManuallyAdjustedVolumeDuringAd:!1,videoAdMetadata:void 0,videoAdRequest:void 0,isPlaying:!1,volume:void 0,muted:void 0,clientSideAdSelectionParams:void 0,isSDAContainerHidden:!1,lastSDAAdRequestBlocked:!1});case i.ResetOutstreamAd:var s={};return(0,V.hr)(e.adFormatMetadata)&&(s={isPlaying:!1,volume:void 0,muted:void 0,clientSideAdSelectionParams:void 0,userManuallyAdjustedVolumeDuringAd:!1}),(0,a.__assign)((0,a.__assign)((0,a.__assign)({},e),{adFormatMetadata:void 0,adFormatRequest:void 0}),s);case i.ClientSideAdFormatRequested:return(0,a.__assign)((0,a.__assign)({},e),{adFormatRequest:n.request});case i.ClientSideAdFormatStarted:return(0,V.hr)(e.adFormatMetadata)?(0,a.__assign)((0,a.__assign)({},e),{adFormatMetadata:(0,a.__assign)((0,a.__assign)({},e.adFormatMetadata),{started:!0,start:n.start,adPosition:n.position,numberOfAds:n.numberOfAds,adInfo:n.adInfo}),isPlaying:!0}):(0,V.I9)(e.adFormatMetadata)?(0,a.__assign)((0,a.__assign)({},e),{adFormatMetadata:(0,a.__assign)((0,a.__assign)({},e.adFormatMetadata),{status:"visible",start:n.start,adPosition:n.position,numberOfAds:n.numberOfAds}),isPlaying:!0}):e;case i.FillClientSideAdFormat:return(0,a.__assign)((0,a.__assign)({},e),{adPodStats:[],adFormatMetadata:n.metadata,adFormatRequest:(0,a.__assign)((0,a.__assign)({},n.request),{status:L.s.Filled,video:null,broadcaster:null,content:null,currentUser:null,game:null})});case i.ProcessClientSideAdFormatRequest:var l=(0,a.__assign)((0,a.__assign)((0,a.__assign)({},n.request),n.metadata),{status:L.s.Processed});return(0,a.__assign)((0,a.__assign)({},e),{adFormatRequest:l});case i.PrepareClientSideAdFormat:return(0,a.__assign)((0,a.__assign)({},e),{adFormatRequest:(0,a.__assign)((0,a.__assign)((0,a.__assign)({},n.request),n.metadata),{status:L.s.Preparing})});case i.DisplaySDASequence:return(0,a.__assign)((0,a.__assign)({},e),{isDisplayingSDASequence:n.display});case i.UpdateSDAHiddenState:return(0,a.__assign)((0,a.__assign)({},e),{isSDAContainerHidden:n.hidden});case i.LastSDAdRequestBlocked:return(0,a.__assign)((0,a.__assign)({},e),{lastSDAAdRequestBlocked:n.isBlocked});case i.SDARequestCount:return(0,a.__assign)((0,a.__assign)({},e),{sdaRequestCount:e.sdaRequestCount+1});default:return e}}!function(e){e.AdElementUpdated="AdElementUpdated",e.OutstreamAdElementUpdated="OutstreamAdElementUpdated",e.OutstreamAdDisplayStatusUpdated="OutstreamAdDisplayStatusUpdated",e.AdStatsUpdated="AdStatsUpdated",e.ClientSideVideoAdMuted="ClientSideVideoAdMuted",e.ClientSideVideoAdPlayingUpdated="ClientSideVideoAdPlayingUpdated",e.ClientSideVideoAdRequested="ClientSideVideoAdRequested",e.ClientSideVideoAdStarted="ClientSideVideoAdStarted",e.ClientSideVideoAdVolumeUpdated="ClientSideVideoAdVolumeUpdated",e.CompanionElementUpdated="CompanionElementUpdated",e.FillClientSideVideoAd="FillClientSideVideoAd",e.ProcessClientSideVideoAdRequest="ProcessClientSideVideoAdRequest",e.Reset="reset",e.ResetForNewPlayerContent="ResetForNewPlayerContent",e.ResetOutstreamAd="ResetOutstreamAd",e.SetRadToken="SetRadToken",e.StitchedVideoAdStarted="StitchedVideoAdStarted",e.ClientSideAdSelectionParamsUpdated="ClientSideAdSelectionParamsUpdated",e.ClientSideAdFormatRequested="ClientSideAdFormatRequested",e.ClientSideAdFormatStarted="ClientSideAdFormatStarted",e.FillClientSideAdFormat="FillClientSideAdFormat",e.PrepareClientSideAdFormat="PrepareClientSideAdFormat",e.ProcessClientSideAdFormatRequest="ProcessClientSideAdFormatRequest",e.DisplaySDASequence="DisplaySDASequence",e.UpdateSDAHiddenState="UpdateSDAHiddenState",e.LastSDAdRequestBlocked="SDAAdEdgeRequestBlocked",e.SDARequestCount="SDARequestCount"}(i||(i={}));var q,H=function(e){var n=function(){var e,n,t,r,s,l,d,u=(0,o.useReducer)(z,S.AD),c=u[0],p=u[1],m=(0,o.useContext)(R.kl),v=(0,o.useContext)(F.$g),f=(0,I.S9)().data,g=null===(n=null===(e=null==f?void 0:f.consent)||void 0===e?void 0:e.gdprUserPreferences)||void 0===n?void 0:n.tcData,h=(0,j.jp)(m.content),y=(0,w.L)({channelLogin:h}).campaignSettings,k=(0,o.useMemo)((function(){return(0,T.TG)()&&!!(0,T.ef)(E.OM7.LOWER_THIRD,null==y?void 0:y.placements)}),[y]),_=c.adFormatMetadata,q=c.adFormatRequest,H=c.videoAdMetadata,W=c.videoAdRequest,K=(0,x.fX)(A.qi),Z=(0,o.useRef)(!1);Z.current=!(_&&!(0,A.C_)(null==_?void 0:_.adFormat)||q&&!(0,A.C_)(null==q?void 0:q.adFormat)||H||W||(0,B.k1)(v)||!v.playerState||!v.mediaPlayerInstance);var X=(0,o.useRef)(!1),Q="undefined"!=typeof MediaSource;K?X.current="true"===(null===(r=null===(t=null==v?void 0:v.mediaPlayerInstance)||void 0===t?void 0:t.getSessionData())||void 0===r?void 0:r.SUPPRESS)||!Q:Z.current=Z.current&&"true"!==(null===(l=null===(s=null==v?void 0:v.mediaPlayerInstance)||void 0===s?void 0:s.getSessionData())||void 0===l?void 0:l.SUPPRESS);var Y=(0,o.useRef)(null);Y.current=null!==(d=(0,V.jC)(H,_))&&void 0!==d?d:null,(0,o.useLayoutEffect)((function(){return function(){Y.current&&(Y.current.stop(),Y.current.destroy())}}),[]);var $=(0,o.useRef)(new(C())),J=(0,o.useCallback)((function(){$.current.emit("click")}),[]),ee=(0,o.useCallback)((function(e){$.current.addListener("click",e)}),[]),ne=(0,o.useCallback)((function(e){$.current.removeListener("click",e)}),[]),te=(0,o.useCallback)((function(e){p({type:i.SetRadToken,radToken:e})}),[p]),ie=(0,o.useCallback)((function(e){var n=e.position,t=e.numberOfAds,a=e.adFormat,r=e.adInfo,o=G(a)?i.ClientSideVideoAdStarted:i.ClientSideAdFormatStarted;p({type:o,start:Date.now(),position:n,numberOfAds:t,adFormat:a,adInfo:r})}),[p]),ae=(0,o.useRef)(),re=(0,o.useRef)(),oe=(0,o.useCallback)((function(e){var n,t,r,o,s,l,d,u,c,f;e.sessionID||(e.sessionID=(0,O.SG)());var h=void 0;(0,O.Ix)(e.adFormat)?h=e.adFormat:(0,O.vK)(e.adFormat)&&(h=M.Z$[e.adFormat]);var y=e.sessionID,S=W,_=null===(n=null==S?void 0:S.game)||void 0===n?void 0:n.id,C=_?parseInt(_,10):void 0,x=(0,P.If)()||"",E={ad_session_id:y,format_name:h,break_length:e.duration,country:x,play_session_id:b.E5.getVideoPlayerTrackingData().playSessionID,video_session_id:null===(t=v.mediaPlayerInstance)||void 0===t?void 0:t.getSessionData()["VIDEO-SESSION-ID"],browser:null===(r=b.E5.getLastPageview())||void 0===r?void 0:r.browser,user_agent:navigator.userAgent,content_type:null===(o=b.E5.getLastPageview())||void 0===o?void 0:o.content_type,channel_id:null===(s=null==S?void 0:S.broadcaster)||void 0===s?void 0:s.id,game:null===(l=b.E5.getLastPageview())||void 0===l?void 0:l.game,game_id:C,commercial_id:e.commercialID,twitch_correlator:y,roll_type:e.roll,player:(0,U.O)(m),stitched:!1,is_mafs:!!e.mafsDecision,requested_format:h||(0,D.r0)(e.adFormat),allocation_strategy:h||e.adFormat,gdpr_consent:null===(d=null==g?void 0:g.purpose.consents)||void 0===d?void 0:d.valueOf(),gdpr_enabled:null===(u=null==g?void 0:g.ifGDPRApplies)||void 0===u?void 0:u.valueOf(),referrer_domain:null===(c=b.E5.getLastPageview())||void 0===c?void 0:c.referrer_domain,is_embed:null===(f=m.behaviors)||void 0===f?void 0:f.embed};if(e.sessionID&&ae.current===e.sessionID||e.commercialID&&re.current===e.commercialID)b.E5.track("ad_request_client_trigger_declined",(0,a.__assign)({reason:JSON.stringify([N.A.DuplicateTrigger])},E));else if(e.commercialID&&(re.current=e.commercialID),e.sessionID&&(ae.current=e.sessionID),Z.current)if(e.forced||!X.current||(0,A.rF)(e.adFormat))if(k&&(0,A.rF)(e.adFormat))b.E5.track("ad_request_format_declined",(0,a.__assign)({reason:JSON.stringify([N.y.LowerThirdChannelSkinEnabled])},E));else{var w=b.Zn.get(A.MA,[]);if((0,A.rF)(e.adFormat)&&"visible"!==document.visibilityState&&(w.includes(x)||w.includes(A.qx))&&"treatment"===b.x2.experiments.getAndTrackAssignment(A.rg))b.E5.track("ad_request_format_declined",(0,a.__assign)({reason:JSON.stringify([N.y.TabNotVisible])},E));else{var T=G(e.adFormat)?i.ClientSideVideoAdRequested:i.ClientSideAdFormatRequested;b.E5.track("ad_request_client_trigger_accepted",(0,a.__assign)((0,a.__assign)({},E),{game_id:_})),p({type:T,request:(0,a.__assign)((0,a.__assign)({},e),{status:L.s.Pending,requestTime:Date.now(),twitchCorrelator:y,sessionID:y})})}}else b.E5.track("ad_request_format_declined",(0,a.__assign)({reason:JSON.stringify([N.y.NotSurestream])},E));else b.E5.track("ad_request_format_declined",(0,a.__assign)({reason:JSON.stringify([N.A.AdInProgress])},E))}),[W,v,m,null==g?void 0:g.purpose.consents,null==g?void 0:g.ifGDPRApplies,k]),se=(0,o.useCallback)((function(){Y.current&&Y.current.stop(),p({type:i.Reset})}),[p]),le=(0,o.useCallback)((function(){Y.current&&Y.current.stop(),p({type:i.ResetForNewPlayerContent})}),[p]),de=(0,o.useCallback)((function(){(0,A.rF)(null==_?void 0:_.adFormat)&&Y.current&&Y.current.stop(),p({type:i.ResetOutstreamAd})}),[p,null==_?void 0:_.adFormat]),ue=(0,o.useCallback)((function(e,n){var t=G(e.adFormat)?i.ProcessClientSideVideoAdRequest:i.ProcessClientSideAdFormatRequest;p({type:t,request:e,metadata:n})}),[p]),ce=(0,o.useCallback)((function(e,n){var t=G(n.adFormat)?i.FillClientSideVideoAd:i.FillClientSideAdFormat;p({type:t,request:n,metadata:e})}),[p]),pe=(0,o.useCallback)((function(e,n){p({type:i.PrepareClientSideAdFormat,request:n,metadata:e})}),[p]),me=(0,o.useCallback)((function(e){p({type:i.StitchedVideoAdStarted,metadata:e})}),[p]),ve=(0,o.useCallback)((function(e){p({type:i.ClientSideAdSelectionParamsUpdated,params:e})}),[p]),fe=(0,o.useCallback)((function(e){p({type:i.DisplaySDASequence,display:e})}),[p]),ge=(0,o.useCallback)((function(e){p({type:i.UpdateSDAHiddenState,hidden:e})}),[p]),he=(0,o.useCallback)((function(e,n){p({type:i.ClientSideVideoAdMuted,muted:e,userInitiated:n})}),[p]),ye=(0,o.useCallback)((function(e,n){p({type:i.ClientSideVideoAdVolumeUpdated,volume:e,userInitiated:n})}),[p]),ke=(0,o.useCallback)((function(e){p({type:i.ClientSideVideoAdPlayingUpdated,isPlaying:e})}),[p]),Se=(0,o.useCallback)((function(e){p({type:i.AdElementUpdated,element:e})}),[p]),_e=(0,o.useCallback)((function(e){p({type:i.CompanionElementUpdated,element:e})}),[p]),Ce=(0,o.useCallback)((function(e){p({type:i.OutstreamAdElementUpdated,element:e})}),[p]),be=(0,o.useCallback)((function(e){p({type:i.AdStatsUpdated,stats:e})}),[p]),Pe=(0,o.useCallback)((function(e){p({type:i.OutstreamAdDisplayStatusUpdated,status:e})}),[p]),xe=(0,o.useCallback)((function(e){p({type:i.LastSDAdRequestBlocked,isBlocked:e})}),[p]),Ee=(0,o.useCallback)((function(){p({type:i.SDARequestCount})}),[p]);return(0,o.useMemo)((function(){return(0,a.__assign)((0,a.__assign)({},c),{fillClientSideAd:ce,prepareClientSideAd:pe,processAdRequest:ue,requestAd:oe,reset:se,resetForNewPlayerContent:le,resetOutstreamAd:de,setRadToken:te,startClientSideAd:ie,emitClickEvent:J,addClickListener:ee,removeClickListener:ne,startStitchedAd:me,updateClientSideAdSelectionParams:ve,updateAdElement:Se,updateCompanionAdElement:_e,updateOutstreamAdElement:Ce,updateOutstreamAdDisplayStatus:Pe,updateAdMuted:he,updateAdPlaying:ke,updateAdStats:be,updateAdVolume:ye,displaySDASequence:fe,updateSDAHiddenState:ge,updateLastSDAAdRequestBlocked:xe,incrementSDARequestCount:Ee})}),[c,ce,pe,ue,oe,se,le,de,te,ie,J,ee,ne,me,ve,Se,_e,Ce,Pe,he,ke,be,ye,fe,ge,xe,Ee])}();return(0,r.jsx)(S.jK.Provider,{value:n,children:e.children||null})},W=t(557402),K=t(982592),Z=t(808835),X=t(783321),Q=t(805645),Y=t.n(Q),$=t(317193),J=t(424749),ee=t(486651),ne=t(891975),te=t(973421),ie=t.n(te),ae=t(145748),re=t(290942),oe=t(982821),se=t(503472),le=t(214120),de=t(456450),ue=t(131883),ce=t(263913),pe=t.n(ce),me=t(762436),ve="content-classification-labels-acknowledged",fe={loggedIn:{},loggedOut:{}},ge=t(116989),he=function(e){var n,t=e.disableMatureOverlay,i=e.content,r=e.playSessionId,s=e.isOffline,l=(0,o.useMemo)((function(){return(0,J.i5)(i)}),[i]),d=(0,o.useState)($.HX.PageLoad),u=d[0],p=d[1],m=t||s||!l.isStream&&!l.isVOD&&!l.isClip,v=(0,X.IT)(Y(),{variables:l,skip:m}),f=v.data,g=v.error,h=v.loading,y=null===(n=null==f?void 0:f.user)||void 0===n?void 0:n.id;!function(e){var n=e.disableMatureOverlay,t=e.setOverlayTiming,i=e.streamChannelID,r=e.variables,s=(0,ee.m)(),l=(0,c.d4)(ue.JK),d=(0,o.useRef)(),u=(0,ae.D)(i?(0,de.mq)(i):"",{skip:n||!r.isStream||"string"!=typeof i,skipMessage:function(e){return e.type!==oe.PD.ContentClassificationLabelsUpdated}})[0],p=(0,re.Z)(u);(0,o.useEffect)((function(){u&&u!==p&&(clearTimeout(d.current),d.current=setTimeout((function(){return(0,a.__awaiter)(void 0,void 0,void 0,(function(){var e;return(0,a.__generator)(this,(function(n){switch(n.label){case 0:return[4,s.query({query:pe(),variables:{channelID:i},fetchPolicy:"network-only"})];case 1:return e=n.sent().data,(0,se.oR)(Y(),r,(function(n){t($.HX.Interrupt);var i=ie()(n,(function(e){return e.user.stream.contentClassificationLabels}),(function(){return(0,J.NB)(l,null==u?void 0:u.content_classification_labels)}));return i=ie()(i,(function(e){return e.user.stream.contentClassificationLabelPolicyProperties}),(function(){var n,t;return(null===(t=null===(n=null==e?void 0:e.user)||void 0===n?void 0:n.stream)||void 0===t?void 0:t.contentClassificationLabelPolicyProperties)?{__typename:"ContentClassificationLabelPolicyProperties",signPostProperties:e.user.stream.contentClassificationLabelPolicyProperties.signPostProperties,contentGateProperties:e.user.stream.contentClassificationLabelPolicyProperties.contentGateProperties}:null})),i}),(function(n){var t,i,a;return!(null===(t=null==n?void 0:n.user)||void 0===t?void 0:t.stream)||(null===(i=null==n?void 0:n.user)||void 0===i?void 0:i.id)!==(null===(a=null==e?void 0:e.user)||void 0===a?void 0:a.id)}),s),[2]}}))}))}),(0,le.yT)(u.jitter)))}),[s,l,p,t,i,u,r]),(0,ne.S)((function(){return function(){clearTimeout(d.current)}}))}({disableMatureOverlay:t,setOverlayTiming:p,streamChannelID:y,variables:l}),(0,o.useEffect)((function(){h&&p($.HX.PageLoad)}),[h,p]);var k=(0,o.useMemo)((function(){return(0,J.$Q)({variables:l,loading:h,skip:m,data:f,error:g})}),[l,h,m,f,g]),S=k.channelName,_=k.contentLabels,C=k.contentPolicies,P=function(e){var n,t=null===(n=(0,c.d4)(ue.wz))||void 0===n?void 0:n.id,i=(0,me.r)(ve,fe),r=i[0],s=i[1],l=(0,o.useMemo)((function(){if(!e||0===e.length)return!0;if(t){var n=r.loggedIn[t];return!!n&&e.every((function(e){return n.includes(e)}))}var i=(0,J.Cp)(r.loggedOut);return e.every((function(e){return i.hasOwnProperty(e)}))}),[r,e,t]),d=(0,o.useCallback)((function(){var n;if(e&&0!==e.length){var i=b.IG.get(ve,fe);if(t){var r=null!==(n=i.loggedIn[t])&&void 0!==n?n:[],o=e.reduce((function(e,n){return e.includes(n)||e.push(n),e}),r);i.loggedIn[t]=o}else{var l=(0,J.Cp)(i.loggedOut),d=Date.now()+2592e6;i.loggedOut=e.reduce((function(e,n){return e[n]=d,e}),l)}s((0,a.__assign)({},i))}}),[e,t,s]);return{isAcknowledged:l,storeAcknowledgement:d}}((0,J.ky)(_,C)),x=P.isAcknowledged,E=P.storeAcknowledgement,A=(0,o.useMemo)((function(){return(0,J.$p)({result:k,isAcknowledged:x})}),[k,x]),N=function(e){var n=e.data,t=e.overlayTiming,i=e.overlayType,r=e.playSessionId,s=e.result,l=e.variables,d=(0,o.useMemo)((function(){var e,a,o,d,u,c,p,m;return{page_session_id:b.x2.session.pageviewID,play_session_id:r,channel_id:s.channelID,broadcast_id:null!==(o=null===(a=null===(e=null==n?void 0:n.user)||void 0===e?void 0:e.stream)||void 0===a?void 0:a.id)&&void 0!==o?o:null,category:s.category,live:l.isStream,vod_type:(null===(d=null==n?void 0:n.video)||void 0===d?void 0:d.broadcastType)?(0,ge.O)(n.video.broadcastType):null,clip_slug:null!==(c=null===(u=null==n?void 0:n.clip)||void 0===u?void 0:u.slug)&&void 0!==c?c:null,vod_id:null!==(m=null===(p=null==n?void 0:n.video)||void 0===p?void 0:p.id)&&void 0!==m?m:null,content_classification_label_display_type:i,content_classification_label_load_type:t,content_classification_label_set:(0,J.aH)(s.contentLabels)}}),[n,t,i,r,s,l]),u=(0,o.useRef)({location:null,page_session_id:b.x2.session.pageviewID,play_session_id:r,channel_id:null,broadcast_id:null,category:null,live:!1,vod_type:null,vod_id:null,clip_slug:null,content_classification_label_display_type:i,content_classification_label_load_type:t,content_classification_label_set:null}),c=(0,o.useRef)();(0,o.useEffect)((function(){d.channel_id===u.current.channel_id&&d.content_classification_label_display_type===u.current.content_classification_label_display_type&&d.content_classification_label_load_type===u.current.content_classification_label_load_type&&d.content_classification_label_set===u.current.content_classification_label_set||(clearTimeout(c.current),c.current=setTimeout((function(){var e,n;u.current=d,s.status!==$.ff.Skip&&d.content_classification_label_display_type!==$.P8.Unknown&&(d.content_classification_label_display_type===$.P8.FetchErrorDisclosure||null!==d.channel_id&&null!==d.content_classification_label_set)&&(b.x2.tracking.trackAvailability({category:"community",name:"VideoPlayer_ContentClassificationOverlays",is_available:s.status!==$.ff.Error,reason:s.status===$.ff.Error?s.reason:void 0}),d.content_classification_label_display_type!==$.P8.None&&b.x2.tracking.__track_SSRMigrationFixme("content_classification_label_display",(0,a.__assign)((0,a.__assign)({},d),{location:null!==(n=null===(e=b.x2.tracking.getLastPageview())||void 0===e?void 0:e.location)&&void 0!==n?n:null})))}),250))}),[u,s,d]);var p=(0,o.useCallback)((function(e){var n,t;return b.x2.tracking.__track_SSRMigrationFixme("content_classification_label_click",(0,a.__assign)((0,a.__assign)({},u.current),{action:e,location:null!==(t=null===(n=b.x2.tracking.getLastPageview())||void 0===n?void 0:n.location)&&void 0!==t?t:null}))}),[u]);return{trackClick:p}}({data:f,playSessionId:r,overlayTiming:u,overlayType:A,result:k,variables:l}).trackClick;return(0,o.useMemo)((function(){return{channelName:S,contentLabels:_,storeAcknowledgement:E,overlayTiming:u,overlayType:A,trackClick:N}}),[S,_,E,u,A,N])},ye=(0,p.Zz)((0,R.cj)((function(e){var n,t=e.behaviors,i=e.content;return{disableMatureOverlay:null!==(n=null==t?void 0:t.disableMatureOverlay)&&void 0!==n&&n,content:i}})),(0,F.dd)((function(e){return{playSessionId:e.playSessionId,isOffline:e.isOffline}})))((function(e){var n=e.children,t=e.content,i=e.disableMatureOverlay,a=e.playSessionId,o=e.isOffline,s=he({content:t,disableMatureOverlay:i,playSessionId:a,isOffline:o});return(0,r.jsx)(Z.J.Provider,{value:s,children:n})})),ke=t(288480),Se=t(928778),_e=t(769660),Ce=t(419813),be=t(343026),Pe=t(569939),xe=t(21824),Ee=t(286169),Ae=t(145875),Ne=t(841913),we=t.n(Ne);!function(e){e[e.RESET=0]="RESET",e[e.SET_OVERLAY_VISIBILITY=1]="SET_OVERLAY_VISIBILITY",e[e.OPEN_POPOVER=2]="OPEN_POPOVER",e[e.CLOSE_POPOVER=3]="CLOSE_POPOVER",e[e.SET_MENU_STATE=4]="SET_MENU_STATE",e[e.SET_PLAYER_MENU_STATE=5]="SET_PLAYER_MENU_STATE",e[e.SET_NOTIFICATION_STATE=6]="SET_NOTIFICATION_STATE"}(q||(q={}));var Te=t(15250);function Ie(e){var n=e.extensionsForChannel;return n&&n.fetchedChannelID}function De(e){var n=e.extensionsForChannel;if(!n)return!1;var t=n.error,i=n.loading,a=n.installedExtensions;return!(t||i||!a||!a.length)}function Oe(e){return e.reduce((function(e,n){var t=(0,be.wv)(n);return t&&(e[t]={identityLinkedStatus:(0,be.aX)(n.extension.token).identityLinkedStatus}),e}),{})}var Fe={isOverlayVisible:!0,menuState:{type:Ce.gu.NONE},playerMenuState:{type:Ce.gu.NONE,selectedInstallationID:null},notificationState:{type:Ce._n.NONE},selectedExtensionID:null,hoveredExtensionID:null,permissionsStates:{}},Re=function(e){function n(n){var t=e.call(this,n)||this;return t.computeContextProps=function(){var e,n,i,r,o=t.sortExtensions();return(0,a.__assign)((0,a.__assign)((0,a.__assign)((0,a.__assign)({},Ae.GZ),{loginID:t.props.loginID,channelID:Ie(t.props),hideExtensions:(e=t.props,n=e.isMini,i=e.isVideoAdShowing,r=e.isPlaying,!(!e.isCasting&&!n&&r&&!i)),isChannelInfoVisible:t.props.isFullscreen||t.props.isTheatreMode||!!t.props.showChannelInfoOnHover}),o),{shouldMountExtensionComponents:De(t.props),isOverlayVisible:t.state.isOverlayVisible&&!!o.overlayExtension,permissionsStates:t.state.permissionsStates,setOverlayVisibility:t.setOverlayVisibility,openPopover:t.openPopover,closePopover:t.closePopover,togglePopover:t.togglePopover,hoverExtensionCard:t.hoverExtensionCard,setMenuState:t.setMenuState,setPlayerMenuState:t.setPlayerMenuState,setPermissionsState:t.setPermissionsState,setNotification:t.setNotification,isMenuOpen:t.isMenuOpen,isDockIconHovered:t.isDockIconHovered,getMenuState:t.getMenuState,getPlayerMenuState:t.getPlayerMenuState,getNotification:t.getNotification,isPopoverOpen:t.isPopoverOpen,isAnyPopoverOpen:t.isAnyPopoverOpen,trackEvent:t.trackEvent})},t.sortExtensions=function(){var e=(0,be.gw)(t.installations),n=e[ke.Z1.Overlay][0]||null,i=e[ke.Z1.Component];return{overlayExtension:n,componentExtensions:i,allVideoExtensions:(0,a.__spreadArray)((0,a.__spreadArray)([],n?[n]:[],!0),i,!0)}},t.computeInitialNotificationState=function(e,n){return e===Ce._n.BITS_BALANCE?(0,a.__assign)((0,a.__assign)({},n),{type:Ce._n.BITS_BALANCE,expiration:Date.now()+be.QH}):{type:Ce._n.NONE}},t.computeNewState=function(e,n,i){var r="active"===b.x2.experiments.__hardcodedStaleExperiment("extension_overlay_improvement","control");switch(e.type){case q.RESET:return t.defaultState;case q.SET_OVERLAY_VISIBILITY:return(0,a.__assign)((0,a.__assign)({},n),{isOverlayVisible:e.payload.visible});case q.SET_NOTIFICATION_STATE:return(0,a.__assign)((0,a.__assign)({},n),{notificationState:e.payload.notificationState});case q.OPEN_POPOVER:var o=Ce.gu.NONE;return(0,be.l1)(e.payload.installation)&&(o=Ce.gu.SETTINGS),(0,be.MA)(e.payload.installation,n.permissionsStates)||(o=Ce.gu.UNRELEASED),(0,a.__assign)((0,a.__assign)({},n),{menuState:{type:o},selectedExtensionID:(0,be.wv)(e.payload.installation)});case q.CLOSE_POPOVER:return(0,a.__assign)((0,a.__assign)({},n),{menuState:{type:Ce.gu.NONE},selectedExtensionID:null});case q.SET_MENU_STATE:return r&&(0,be.l1)(e.payload.installation)&&e.payload.menuState.type===Ce.gu.MANAGE_ACCESS?(0,a.__assign)((0,a.__assign)({},n),{playerMenuState:{type:Ce.gu.MANAGE_ACCESS,selectedInstallationID:(0,be.wv)(e.payload.installation)}}):e.payload.menuState.type===Ce.gu.NONE&&(0,be.l1)(e.payload.installation)?(0,a.__assign)((0,a.__assign)({},n),{menuState:{type:Ce.gu.NONE},selectedExtensionID:null}):(0,be.l1)(e.payload.installation)||e.payload.menuState.type!==Ce.gu.MANAGE_ACCESS&&e.payload.menuState.type!==Ce.gu.LOGIN_REQUIRED||n.selectedExtensionID===(0,be.wv)(e.payload.installation)?e.payload.menuState.type!==Ce.gu.MANAGE_ACCESS||i.loginID?(0,a.__assign)((0,a.__assign)({},n),{menuState:e.payload.menuState,selectedExtensionID:(0,be.wv)(e.payload.installation)}):(0,a.__assign)((0,a.__assign)({},n),{menuState:t.addOnDestroyCallbackToMenuState(e.payload.menuState),selectedExtensionID:(0,be.wv)(e.payload.installation)}):n;case q.SET_PLAYER_MENU_STATE:return(0,a.__assign)((0,a.__assign)({},n),{playerMenuState:{type:e.payload.type,selectedInstallationID:e.payload.installation?(0,be.wv)(e.payload.installation):null}});default:return n}},t.getDefaultState=function(e){return e.length?(0,a.__assign)((0,a.__assign)({},Fe),{permissionsStates:Oe(e)}):Fe},t.updateState=function(e,n,i){void 0===i&&(i=!1);var a=t.state;t.setState((function(i){return t.computeNewState(e,i,n||t.props)}),(function(){t.handleExpiringNotification(),i||t.handleDestroyedConfirmationRequests(a),t.props.setIsMenuShowing(t.getPlayerMenuState().type!==Ce.gu.NONE)}))},t.handleDestroyedConfirmationRequests=function(e){var n=e.menuState;n!==t.state.menuState&&((0,Ce.GS)(n)||(0,Ce.Ns)(n)||(0,Ce.UE)(n))&&n.onDestroy&&n.onDestroy(n.confirmationRequest)},t.handleExpiringNotification=function(){var e=t.state.notificationState;(0,Ce.dD)(e)?t.createExpiringNotificationTimeout(e):t.cancelExpiringNotificationTimeout()},t.cancelExpiringNotificationTimeout=function(){t.expiringNotificationTimer&&(clearTimeout(t.expiringNotificationTimer),t.expiringNotificationTimer=0)},t.createExpiringNotificationTimeout=function(e){t.cancelExpiringNotificationTimeout(),t.expiringNotificationTimer=setTimeout(t.removeExpiringNotificationIfExpired,t.remainingExpiringNotificationTime(e))},t.removeExpiringNotificationIfExpired=function(){t.cancelExpiringNotificationTimeout();var e=t.state.notificationState;(0,Ce.dD)(e)&&(0===t.remainingExpiringNotificationTime(e)&&t.updateState({type:q.SET_NOTIFICATION_STATE,payload:{notificationState:{type:Ce._n.NONE}}}))},t.remainingExpiringNotificationTime=function(e){var n=Date.now(),t=e.expiration;return Math.max(t-n,0)},t.setNotification=function(e,n){t.updateState({type:q.SET_NOTIFICATION_STATE,payload:{notificationState:t.computeInitialNotificationState(e,n)}})},t.getNotification=function(){return t.state.notificationState},t.setOverlayVisibility=function(e){t.updateState({type:q.SET_OVERLAY_VISIBILITY,payload:{visible:e}})},t.openPopover=function(e){t.updateState({type:q.OPEN_POPOVER,payload:{installation:e}})},t.closePopover=function(e){t.updateState({type:q.CLOSE_POPOVER,payload:{installation:e}})},t.togglePopover=function(e){t.isPopoverOpen(e)?t.closePopover(e):t.openPopover(e)},t.hoverExtensionCard=function(e){var n=e&&(0,be.wv)(e);t.setState((function(e){return e.hoveredExtensionID!==n?{hoveredExtensionID:n}:null})),e&&t.trackEvent(Te.X2.ExtensionDockIconHover,Te.iN.DisplayHoverInfo,Te.si.ExtensionDockIconHover,e)},t.setMenuState=function(e,n,i){void 0===i&&(i=!1),t.updateState({type:q.SET_MENU_STATE,payload:{menuState:t.addOnDestroyCallbackToMenuState(e),installation:n}},void 0,i)},t.setPlayerMenuState=function(e,n){t.updateState({type:q.SET_PLAYER_MENU_STATE,payload:{type:e,installation:n}})},t.addOnDestroyCallbackToMenuState=function(e){return(0,Ce.GS)(e)||(0,Ce.Ns)(e)||(0,Ce.UE)(e)?(0,a.__assign)((0,a.__assign)({},e),{onDestroy:function(e){e&&e.resultCallback&&e.defaultResult&&e.resultCallback(e.defaultResult)}}):e},t.reset=function(){t.updateState({type:q.RESET})},t.getMenuState=function(e){return t.state.selectedExtensionID===(0,be.wv)(e)?t.state.menuState:{type:Ce.gu.NONE}},t.getPlayerMenuState=function(){return t.state.playerMenuState},t.isMenuOpen=function(e){return t.state.selectedExtensionID===(0,be.wv)(e)&&t.state.menuState.type!==Ce.gu.NONE},t.isDockIconHovered=function(e){return t.state.hoveredExtensionID===(0,be.wv)(e)},t.isPopoverOpen=function(e){return t.state.selectedExtensionID===(0,be.wv)(e)},t.isAnyPopoverOpen=function(){return null!==t.state.selectedExtensionID},t.setPermissionsState=function(e,n){var i=(0,be.wv)(e);t.setState((function(e){var t;return{permissionsStates:(0,a.__assign)((0,a.__assign)({},e.permissionsStates),(t={},t[i]=(0,a.__assign)((0,a.__assign)({},e.permissionsStates[i]),n),t))}}))},t.trackEvent=function(e,n,i,a){var r=(0,Te.w1)(i);r&&t.props.track(r,(0,Te.dP)(e,n,a))},t.state=t.getDefaultState(t.installations),t}return(0,a.__extends)(n,e),Object.defineProperty(n.prototype,"installations",{get:function(){var e=this.props.extensionsForChannel;return e&&e.installedExtensions?function(e){var n=e.extensionsForChannel;return n&&n.installedExtensions?n.installedExtensions.filter((function(e){return e.activationConfig.state===ke.sh.Active})):[]}(this.props):[]},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"defaultState",{get:function(){var e=this.props.extensionsForChannel;return e&&e.installedExtensions?(0,a.__assign)((0,a.__assign)({},Fe),{permissionsStates:Oe(this.installations)}):Fe},enumerable:!1,configurable:!0}),n.prototype.componentDidUpdate=function(e){Ie(e)!==Ie(this.props)&&this.reset()},n.prototype.render=function(){return(0,r.jsx)(Ae.iu.Provider,{value:this.computeContextProps(),children:this.props.children||null})},n}(o.Component);function Me(e){return e.channelID&&e.channelID.user&&e.channelID.user.id}var Le=(0,p.Zz)((0,c.Ng)((function(e){var n=(0,ue.wz)(e);return{loginID:n&&n.id||void 0,isTheatreMode:e.ui.theatreModeEnabled}})),(0,R.cj)((function(e){var n=(0,Ee.wk)({playerPublicPropsContext:e});return{channelLogin:(0,j.jp)(e.content),parentChannelID:(0,j.b3)(e.content),isMini:!!n.mini,showChannelInfoOnHover:!!n.showChannelInfoOnHover}})),(0,d.c0)((function(e){return{isFullscreen:e.isFullscreen,setIsMenuShowing:e.setIsMenuShowing,videoContainer:e.videoContainer}})),(0,Pe.o1)(),(0,xe.AP)((function(e){return{isPlaying:e.isPlaying}})),(0,S.VX)((function(e){return{isVideoAdShowing:(0,V.cz)(e.videoAdMetadata)}})),(0,K.vM)((function(e){return{isCasting:(0,K.mh)(e)}})),(0,Se._v)(we(),{name:"channelID",skip:function(e){return!e.channelLogin},options:function(e){return{variables:{channelLogin:e.channelLogin}}}}),(0,_e.Fe)({name:"extensionsForChannel",skip:function(e){return!Me(e)},options:function(e){return{variables:{channelID:e.parentChannelID||Me(e)||""}}}}))(Re),Ve=t(961166),je=t(318768),Be=t(495311),Ue=t(936608),Ge=t(557175),ze=t(179405),qe=t(107212),He=t(954978),We=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onAudioBlocked=function(){var e=n.props,t=e.updateContext,i=e.mediaPlayerInstance;t({audioBlocked:!0,muted:!0}),i&&!i.isMuted()&&i.setMuted(!0)},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(He.a.AUDIO_BLOCKED,this.onAudioBlocked)},n.prototype.render=function(){return null},n}(o.Component),Ke=(0,p.Zz)((0,F.dd)((function(e){return{updateContext:e.updateContext,mediaPlayerInstance:e.mediaPlayerInstance}})),(0,qe.X)())(We),Ze=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onDurationChanged=function(e){0!==e&&(0,n.props.updateContext)({isOffline:!1})},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(He.a.DURATION_CHANGED,this.onDurationChanged)},n.prototype.render=function(){return null},n}(o.Component),Xe=(0,p.Zz)((0,F.dd)((function(e){return{updateContext:e.updateContext}})),(0,qe.X)())(Ze),Qe=t(407310),Ye=t(15292),$e=t(595101),Je=t(565640),en=t(966872),nn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onError=function(e){var t=e.code,i=e.source;switch(e.type){case $e.B.NOT_AVAILABLE:return void n.handleNotAvailableError(t,i);case $e.B.AUTHORIZATION:return void n.handleAuthError(t,i);case $e.B.NOT_SUPPORTED:return void n.handleNotSupportedError();case $e.B.NETWORK_IO:return void n.handleNetworkIOError();case $e.B.GENERIC:return void(i===Je.g.DRM&&n.props.setError(en.O4.DRMLicenseServerError));case $e.B.NETWORK:default:return}},n.handleNotAvailableError=function(e,t){t!==Je.g.DRM?e===en.O4.LVSCCUCap?n.props.setError(en.O4.CCUCapReached):n.props.updateContext({isOffline:!0}):n.props.setError(en.O4.DRMLicenseNotAvailable)},n.handleAuthError=function(e,t){var i=n.props,a=i.setError,r=i.addRestriction;if(t!==Je.g.DRM)switch(e){case en.O4.GeoBlocked:return void a(en.O4.GeoBlocked);case en.O4.UnsupportedDevice:return void((0,Ye.F$)(n.props.data)&&Qe.j.browser.isSafari()?a(en.O4.SafariUnsupportedDevice):a(en.O4.UnsupportedDevice));case en.O4.AnonymizerBlocked:return void a(en.O4.AnonymizerBlocked);case en.O4.CellularNetworkProhibited:return void a(en.O4.CellularNetworkProhibited);case en.O4.UnauthorizationEntitlements:return void r(je.S.PremiumContent);case en.O4.VodRestricted:return void r(je.S.SubscriberVOD);default:if(n.props.isOffline)return;return void a(en.O4.ContentNotAvailable)}else a(en.O4.CDMNotAuthorized)},n.handleNotSupportedError=function(){n.props.setError(en.O4.FormatNotSupported)},n.handleNetworkIOError=function(){n.props.setError(en.O4.Network)},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(He.a.ERROR,this.onError)},n.prototype.render=function(){return null},n}(o.Component),tn=(0,p.Zz)((0,F.dd)((function(e){return{setError:e.setError,addRestriction:e.addRestriction,isOffline:e.isOffline,updateContext:e.updateContext}})),(0,qe.X)(),(0,Ye.yg)())(nn),an=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onMutedChange=function(){var e=n.props,t=e.updateContext,i=e.mediaPlayerInstance;t({muted:i&&i.isMuted()})},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(He.a.MUTED_CHANGED,this.onMutedChange)},n.prototype.render=function(){return null},n}(o.Component),rn=(0,p.Zz)((0,F.dd)((function(e){return{updateContext:e.updateContext,mediaPlayerInstance:e.mediaPlayerInstance}})),(0,qe.X)())(an),on=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onPlaybackRateChange=function(){var e=n.props,t=e.updateContext,i=e.mediaPlayerInstance;t({speed:i&&i.getPlaybackRate()})},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(He.a.PLAYBACK_RATE_CHANGED,this.onPlaybackRateChange)},n.prototype.render=function(){return null},n}(o.Component),sn=(0,p.Zz)((0,F.dd)((function(e){return{updateContext:e.updateContext,mediaPlayerInstance:e.mediaPlayerInstance}})),(0,qe.X)())(on),ln=t(337455),dn=t(324538),un=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.isUnmounted=!1,n.logger=n.props.logger.withCategory("on-player-core-loaded"),n.onPlayerCoreLoaded=function(e){var t,i;if(e)if(n.logger.debug("player core loaded"),n.isUnmounted)n.logger.debug("component is unmounted. will not in init mediaplayer");else{if(b.x2.config.buildType!==ln.n.Production&&(window.mediaPlayer=e),n.props.containerRef){n.logger.debug("attaching video element");var r=e.mediaPlayerInstance.getHTMLVideoElement();r.setAttribute("playsinline",""),r.setAttribute("webkit-playsinline","");var o=null===(i=(t=e.mediaPlayerInstance).getVideoRenderSurface)||void 0===i?void 0:i.call(t);null==o||o.setAttribute("class","video-render-surface"),n.props.containerRef.insertBefore(null!=o?o:r,n.props.containerRef.firstChild)}e.mediaPlayerInstance.setClientId(b.x2.config.authSettings.clientID);var s=e.mediaPlayerInstance.getVolume(),l=e.mediaPlayerInstance.isMuted();n.props.updateContext((0,a.__assign)((0,a.__assign)({},e),{volume:s,muted:l,isPlayerCoreLoading:!1}))}},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){return(0,a.__awaiter)(this,void 0,void 0,(function(){var e,n,t;return(0,a.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),e=this.onPlayerCoreLoaded,[4,(0,dn.F)({enableSuperResExperiment:null!==(t=this.props.enableSuperResExperiment)&&void 0!==t&&t})];case 1:return e.apply(this,[i.sent()]),[3,3];case 2:return n=i.sent(),this.props.logger.errorAndReport(n,"Failed to load player core via npm module."),[3,3];case 3:return[2]}}))}))},n.prototype.componentWillUnmount=function(){var e=this;this.isUnmounted=!0,setTimeout((function(){e.props.mediaPlayerInstance&&e.props.mediaPlayerInstance.delete(),e.props.onDestroy&&e.props.onDestroy()}))},n.prototype.render=function(){return null},n}(o.Component),cn=(0,p.Zz)((0,F.dd)((function(e){var n=e.updateContext,t=e.logger;return{mediaPlayerInstance:e.mediaPlayerInstance,updateContext:n,logger:t}})),(0,R.cj)((function(e){return{onDestroy:(0,Ee.zB)({playerPublicPropsContext:e}).onDestroy,enableSuperResExperiment:(0,Ee.wk)({playerPublicPropsContext:e}).enableSuperResExperiment}})))(un),pn=t(891918),mn=t(207817),vn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onPlayerStateChange=function(e){var t=n.props,i=t.updateContext,a=t.hasPlayed,r=t.mediaPlayerInstance,o=t.removeError,s=e===pn.p.PLAYING,l=s||a;if(i({hasPlayed:l,playerState:e}),n.props.disableGlobalPlaySessionIdUpdate||b.E5.setVideoPlayerTrackingData({hasPlayed:l}),s&&o(),e===pn.p.ENDED&&i({isOffline:!0}),e===pn.p.READY){if(!r)return;n.setInitialVideoOffset(r),n.setInitialQualitySetting(r)}},n.setInitialVideoOffset=function(e){var t=n.props,i=t.hasPlayed,a=t.initialOffset;a&&!i&&e.seekTo(a)},n.setInitialQualitySetting=function(e){var t=n.props,i=t.isClipContent,a=t.quality,r=t.qualityBitrate,o=t.updateContext,s=i?n.props.availableQualities:(0,ze.Er)(e);if(i||o({availableQualities:s}),0!==s.length){var l=s.some((function(e){return e.group===mn.s}));if(a===mn.s&&l)e.setAutoQualityMode(!0);else{var d=(0,ze.Tp)(s,a,r,i);l&&"lowest"===d.strategy?e.setAutoQualityMode(!0):(d.quality.group!==a&&o({quality:d.quality.group,qualityBitrate:d.quality.bitrate}),e.setQuality(d.quality))}}},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){var e=this;[pn.p.IDLE,pn.p.READY,pn.p.BUFFERING,pn.p.PLAYING,pn.p.ENDED].forEach((function(n){e.props.playerEvents.addEventListener(n,(function(){return e.onPlayerStateChange(n)}))})),this.props.playerEvents.addEventListener(He.a.QUALITIES_CHANGED,(function(){if(e.props.mediaPlayerInstance){var n=(0,ze.Er)(e.props.mediaPlayerInstance);b.vF.debug("Received player QUALITIES_CHANGED event",n),e.props.updateContext({availableQualities:n})}}))},n.prototype.render=function(){return null},n}(o.Component),fn=(0,p.Zz)((0,c.Ng)((function(e){return{activeVideoPlayerRefID:(0,Ue.LG)(e)}})),(0,F.dd)((function(e){var n=e.availableQualities,t=e.hasPlayed,i=e.mediaPlayerInstance,a=e.playerRefID,r=e.quality,o=e.qualityBitrate,s=e.updateContext,l=e.removeError;return{availableQualities:n,hasPlayed:t,mediaPlayerInstance:i,playerRefID:a,quality:r,qualityBitrate:o,updateContext:s,removeError:l}})),(0,qe.X)(),(0,R.cj)((function(e){var n=e.content,t=(0,Ee.wk)({playerPublicPropsContext:e}).disableGlobalPlaySessionIdUpdate;return{isClipContent:(0,j.Jn)(n),initialOffset:(0,j.xq)(n),disableGlobalPlaySessionIdUpdate:t}})))(vn);var gn=t(204870),hn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onQualityChange=function(){var e=n.props,t=e.mediaPlayerInstance,i=e.updateContext;if(t)if(t.isAutoQualityMode())i({quality:gn.IJ.group,qualityBitrate:gn.IJ.bitrate});else{var a=t.getQuality();i({quality:a.group,qualityBitrate:a.bitrate})}},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(He.a.QUALITY_CHANGED,this.onQualityChange)},n.prototype.render=function(){return null},n}(o.Component),yn=(0,p.Zz)((0,F.dd)((function(e){return{mediaPlayerInstance:e.mediaPlayerInstance,updateContext:e.updateContext}})),(0,qe.X)())(hn),kn=function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.onVolumeChanged=function(){var e=n.props,t=e.updateContext,i=e.mediaPlayerInstance,a=i&&i.getVolume();t({volume:a&&Math.round(100*a)/100})},n}return(0,a.__extends)(n,e),n.prototype.componentDidMount=function(){this.props.playerEvents.addEventListener(He.a.VOLUME_CHANGED,this.onVolumeChanged)},n.prototype.render=function(){return null},n}(o.Component),Sn=(0,p.Zz)((0,F.dd)((function(e){return{updateContext:e.updateContext,mediaPlayerInstance:e.mediaPlayerInstance}})),(0,qe.X)())(kn),_n=function(e){function n(n){var t=e.call(this,n)||this;return t.logger=t.props.logger.withCategory("player-context-provider"),t.maybeUpdateAutoplay=function(){var e=bn(t.props);t.state.autoplay===e||t.state.mediaPlayerInstance||t.updateContext({autoplay:e})},t.requestManualReset=function(){t.updateContext({manualResetRequested:!0})},t.updateContext=function(e,n){t.setState((function(n){return Object.keys(e).some((function(t){return e[t]!==n[t]}))?(0,a.__assign)((0,a.__assign)({},n),e):null}),(function(){t.logger.debug("player context updated",{state:t.state}),n&&n()}))},t.addRestriction=function(e){t.setState((function(n){var t;return n.restrictions[e]?null:{restrictions:(0,a.__assign)((0,a.__assign)({},n.restrictions),(t={},t[e]=!0,t))}}))},t.liftRestriction=function(e){t.setState((function(n){var t;return n.restrictions[e]?{restrictions:(0,a.__assign)((0,a.__assign)({},n.restrictions),(t={},t[e]=!1,t))}:null}))},t.setError=function(e){t.setState((function(n){return e===n.error?null:{error:e}}))},t.removeError=function(){t.setState((function(e){return e.error?{error:void 0}:null}))},t.resetOnSourceChange=function(e,n){t.setState({hasPlayed:!1,isOffline:void 0,playerState:void 0,playSessionId:n,playSessionStartTime:Date.now(),sourceStatus:Be.O.Provided,restrictions:(0,je.u)(),error:void 0,videoAccessToken:e&&e.videoAccessToken,accessExpiration:e&&e.accessExpiration,forbidden:e&&e.forbidden,accessTokenLoadTime:e&&e.accessTokenLoadTime}),t.props.disableGlobalPlaySessionIdUpdate||t.updatePlaySessionId(n)},t.state=(0,a.__assign)((0,a.__assign)({},F.Sw),{autoplay:bn(t.props),addRestriction:t.addRestriction,isLiveLowLatencyEnabled:b.IG.get(Ge.U.LOW_LATENCY_MODE,!0),liftRestriction:t.liftRestriction,setError:t.setError,removeError:t.removeError,availableQualities:[],isNetworkOffline:!navigator.onLine,playerRefID:t.props.playerRefID,quality:t.props.quality,qualityBitrate:(0,ze.Ao)()||F.Sw.qualityBitrate,updateContext:t.updateContext,requestManualReset:t.requestManualReset,resetOnSourceChange:t.resetOnSourceChange,logger:t.props.logger}),t.props.disableGlobalPlaySessionIdUpdate||t.updatePlaySessionId(F.Sw.playSessionId),t}return(0,a.__extends)(n,e),n.prototype.componentDidUpdate=function(){this.maybeUpdateAutoplay()},n.prototype.render=function(){return(0,r.jsxs)(F.$g.Provider,{value:this.state,children:[this.props.children||null,(0,r.jsx)(Ke,{}),(0,r.jsx)(Xe,{}),(0,r.jsx)(tn,{}),(0,r.jsx)(rn,{}),(0,r.jsx)(sn,{}),(0,r.jsx)(cn,{containerRef:this.props.videoRef}),(0,r.jsx)(fn,{}),(0,r.jsx)(yn,{}),(0,r.jsx)(Sn,{})]})},n.prototype.componentWillUnmount=function(){this.updatePlaySessionId(void 0)},n.prototype.updatePlaySessionId=function(e){b.x2.tracking.setVideoPlayerTrackingData({playSessionID:e,hasPlayed:!1})},n}(o.Component),Cn=(0,p.Zz)((0,c.Ng)((function(e){return{activePlayerRefID:(0,Ue.LG)(e)}})),(0,R.cj)((function(e){var n=(0,Ee.wk)({playerPublicPropsContext:e}),t=n.disableAutoplay,i=n.disableGlobalPlaySessionIdUpdate,a=n.exclusivePlayback,r=(0,ze.x0)({playerPublicPropsContext:e});return{disableAutoplay:t,disableGlobalPlaySessionIdUpdate:i,exclusivePlayback:a,quality:r}})))(_n);function bn(e){var n=e.disableAutoplay;return e.exclusivePlayback?!(n||e.activePlayerRefID&&e.activePlayerRefID!==e.playerRefID):!n}var Pn=t(465356),xn=function(e){var n=o.useContext(xe.wL),t=o.useContext(d._t),i=o.useContext(F.$g).requestManualReset,a=n.play,s=n.pause,l=n.seek,u=n.setVolume,c=n.setMuted,p=n.setQuality,m=n.getPlayerMetadata,v=t.setClosedCaptionsEnabled,f=o.useMemo((function(){return{getPlayerMetadata:m,pause:s,play:a,seek:l,requestManualReset:i,setClosedCaptionsEnabled:v,setMuted:c,setQuality:p,setVolume:u}}),[m,s,a,l,i,v,c,p,u]);return(0,r.jsx)(Pn.$_.Provider,{value:f,children:e.children||null})},En=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,a.__extends)(n,e),n.prototype.render=function(){return(0,r.jsx)(Cn,{videoRef:this.props.videoRef,logger:this.props.logger,playerRefID:this.props.playerRefID,children:(0,r.jsx)(H,{children:(0,r.jsx)(xe.X0,{children:(0,r.jsx)(d.nD,{videoContainer:this.props.videoContainer,videoRef:this.props.videoRef,children:(0,r.jsx)(Ve.RX,{containerRef:this.props.videoContainer,videoRef:this.props.videoRef,children:(0,r.jsx)(xn,{children:(0,r.jsx)(ye,{children:(0,r.jsx)(Pe.N1,{children:(0,r.jsx)(K._v,{logger:this.props.logger,children:(0,r.jsx)(k,{children:(0,r.jsx)(Le,{children:(0,r.jsx)(W.KK,{children:(0,r.jsx)(s.hW,{children:(0,r.jsx)(u,{children:this.props.children})})})})})})})})})})})})})})},n}(o.Component)},961166:function(e,n,t){"use strict";t.d(n,{In:function(){return y},MP:function(){return k},RX:function(){return _}});var i=t(331635),a=t(474848),r=t(296540),o=t(415044),s=t(868238),l=t(107212),d=t(891918),u=t(954978),c=t(573566),p=t(709673),m=t(436617),v=t(231273),f=t(457063),g=t(764823),h=(0,m.e)("PlayerActivityContext",{disablePlayerActiveTimeout:function(){return null},enablePlayerActiveTimeout:function(){return null},__doNotUse_SetPlayerActivity:function(){return null}},(function(e){return{playerActivityContext:e}})),y=h.withMemoContext,k=h.context,S=function(e){function n(n){var t=e.call(this,n)||this;return t.listenersAttached=!1,t.playerActiveTimeoutEnabled=!0,t.mouseIsInsidePlayer=!1,t.handleMouseEnter=function(){t.mouseIsInsidePlayer=!0,t.setPlayerActive()},t.handleMouseLeave=function(){t.mouseIsInsidePlayer=!1,t.setPlayerInactive()},t.onMouseMove=function(){t.mouseIsInsidePlayer&&(t.mouseMoveRAF||(t.mouseMoveRAF=requestAnimationFrame(t.setPlayerActive)))},t.onQualityChange=function(){var e=t.props.mediaPlayerInstance;e&&!e.isAutoQualityMode()&&t.setPlayerActive()},t.setPlayerActivity=function(e){e?t.setPlayerActive():t.setPlayerInactive()},t.setPlayerActive=function(){var e,n;t.clearPlayerActiveTimeout(),null===(n=(e=t.props).onPlayerActive)||void 0===n||n.call(e),t.setState((function(e){return e.active?null:{active:!0}}),t.setPlayerActiveTimeout)},t.setPlayerInactive=function(){var e,n;t.clearPlayerActiveTimeout(),null===(n=(e=t.props).onPlayerInactive)||void 0===n||n.call(e),t.clearMouseMoveRAF(),t.props.isMenuShowing||t.setState((function(e){return e.active?{active:!1}:null}))},t.setPlayerActiveTimeout=function(){t.clearPlayerActiveTimeout(),t.playerActiveTimeoutEnabled&&(t.playerActiveTimeout=setTimeout(t.setPlayerInactive,5e3))},t.clearPlayerActiveTimeout=function(){t.playerActiveTimeout&&(clearTimeout(t.playerActiveTimeout),delete t.playerActiveTimeout)},t.clearMouseMoveRAF=function(){t.mouseMoveRAF&&(cancelAnimationFrame(t.mouseMoveRAF),delete t.mouseMoveRAF)},t.disablePlayerActiveTimeout=function(){t.playerActiveTimeoutEnabled=!1,t.setPlayerActive()},t.enablePlayerActiveTimeout=function(){t.playerActiveTimeoutEnabled=!0,t.setPlayerActive()},t.state={disablePlayerActiveTimeout:t.disablePlayerActiveTimeout,enablePlayerActiveTimeout:t.enablePlayerActiveTimeout,__doNotUse_SetPlayerActivity:t.setPlayerActivity},t}return(0,i.__extends)(n,e),n.prototype.componentDidMount=function(){var e=this.props.playerEvents.addEventListener;this.updatePlayerRef(),this.maybeAttachDomEventListeners(),e(d.p.PLAYING,this.setPlayerActive),e(u.a.QUALITY_CHANGED,this.onQualityChange),e(u.a.SEEK_COMPLETED,this.setPlayerActive)},n.prototype.componentDidUpdate=function(e){e.isSDAPlaying!==this.props.isSDAPlaying&&this.removeDomEventListeners(),this.updatePlayerRef(),this.maybeAttachDomEventListeners();var n=e.theatreModeEnabled!==this.props.theatreModeEnabled,t=e.playerIsPersisting!==this.props.playerIsPersisting,i=e.isMenuShowing!==this.props.isMenuShowing;(n||t||i)&&this.setPlayerActive()},n.prototype.componentWillUnmount=function(){this.removeDomEventListeners(),this.clearPlayerActiveTimeout()},n.prototype.render=function(){return(0,a.jsx)(k.Provider,{value:this.state,children:this.props.children||null})},n.prototype.updatePlayerRef=function(){var e=this.props,n=e.containerRef,t=e.videoRef,i=e.isSDAPlaying;this.playerRef=i?n:t},n.prototype.removeDomEventListeners=function(){this.playerRef&&this.listenersAttached&&(this.playerRef.removeEventListener("mouseleave",this.handleMouseLeave),this.playerRef.removeEventListener("mouseenter",this.handleMouseEnter),this.playerRef.removeEventListener("mousemove",this.onMouseMove),this.playerRef.removeEventListener("focusin",this.setPlayerActive),this.playerRef.removeEventListener("focusout",this.setPlayerInactive),this.listenersAttached=!1)},n.prototype.maybeAttachDomEventListeners=function(){var e=this;this.playerRef&&!this.listenersAttached&&(this.listenersAttached=!0,this.playerRef.addEventListener("mouseleave",this.handleMouseLeave),this.playerRef.addEventListener("mouseenter",this.handleMouseEnter),this.playerRef.addEventListener("mousemove",this.onMouseMove),this.playerRef.addEventListener("focusin",this.setPlayerActive),this.playerRef.addEventListener("focusout",(function(n){var t;(null===(t=e.playerRef)||void 0===t?void 0:t.contains(n.relatedTarget))||e.setPlayerInactive()})))},n}(r.Component),_=(0,s.Zz)((0,l.X)(),(0,v.dd)((function(e){var n=e.mediaPlayerInstance;return{mediaPlayerInstance:n}})),(0,g.c0)((function(e){var n=e.isMenuShowing;return{isMenuShowing:n}})),(0,p.VX)((function(e){var n=e.adFormatMetadata;return{isSDAPlaying:(0,c.Eg)(n)}})),(0,f.cj)((function(e){var n=e.callbacks;return{onPlayerActive:null==n?void 0:n.onPlayerActive,onPlayerInactive:null==n?void 0:n.onPlayerInactive}})),(0,o.Ng)((function(e){var n=e.ui;return{theatreModeEnabled:n.theatreModeEnabled,playerIsPersisting:n.persistentPlayerEnabled&&n.persistentPlayerIsPersisting}})))(S)},465356:function(e,n,t){"use strict";t.d(n,{$_:function(){return u},BZ:function(){return d}});var i=t(436617),a=t(231273),r=t(764823),o=t(21824),s={play:o.Sm.play,pause:o.Sm.pause,seek:o.Sm.seek,requestManualReset:a.Sw.requestManualReset,setVolume:o.Sm.setVolume,setMuted:o.Sm.setMuted,setQuality:o.Sm.setQuality,getPlayerMetadata:o.Sm.getPlayerMetadata,setClosedCaptionsEnabled:r._u.setClosedCaptionsEnabled},l=(0,i.e)("PublicAPIContext",s,(function(e){return{publicAPIContext:e}})),d=l.withMemoContext,u=l.context},9195:function(e,n,t){"use strict";var i,a;t.d(n,{e:function(){return a},k:function(){return i}}),function(e){e.AdFreeChannel="reason_channeladfree",e.AdFreeChannelSubscription="reason_channelsub",e.AdFreeVOD="reason_vod_ads_disabled",e.BountyInProgress="reason_bounty",e.BroadcasterInitiatedVODMidroll="reason_vod_midroll",e.BroadcasterPreroll="reason_stream_broadcaster",e.EmbedPromo="reason_embed_promo",e.MidrollDensity="reason_p4m",e.NotAffiliateOrPartner="reason_lt",e.Raid="reason_raid",e.RateLimitMidroll="reason_midroll_during_preroll",e.RateLimitPreroll="reason_ratelimit",e.ShortVideo="reason_short_vod",e.Turbo="reason_turbo",e.VODCreator="reason_vod_creator",e.WatchParty="reason_wp",e.ZeroAdGroupDevice="reason_zagd",e.ZeroAdGroupUser="reason_zagu",e.MidrollRatelimit="reason_midlimit",e.TP="reason_tp",e.RaidValid="reason_raid_valid",e.ChannelSubErr="reason_channelsub_err"}(i||(i={})),function(e){e.AmazonProductPage="reason_amazon_product_page",e.AnimatedThumbnails="reason_animated_thumbnails",e.Creative="reason_creative_player",e.Dashboard="reason_dashboard",e.Facebook="reason_facebook",e.Frontpage="reason_frontpage",e.Highlighter="reason_highlighter",e.Onboarding="reason_onboarding",e.PictureByPicture="reason_pbyp",e.SquadSecondary="reason_squad_stream_secondary_player",e.ESports="reason_thunderdome",e.Embed="reason_embed",e.ChannelSwitcher="reason_channel_switcher",e.CreatorCollaborationPreview="reason_creator_collaboration_preview"}(a||(a={}))},855580:function(e,n,t){"use strict";var i,a,r,o,s;t.d(n,{Fc:function(){return r},Ie:function(){return s},_w:function(){return i},vM:function(){return a},vS:function(){return o}}),function(e){e[e.FollowAndSub=0]="FollowAndSub",e[e.FollowAndSubVerbose=1]="FollowAndSubVerbose",e[e.WatchAndSub=2]="WatchAndSub"}(i||(i={})),function(e){e[e.AboveStreamInfo=0]="AboveStreamInfo",e[e.BelowStreamInfo=1]="BelowStreamInfo"}(a||(a={})),function(e){e.Once="Once",e.Always="Always"}(r||(r={})),function(e){e[e.Navigate=0]="Navigate",e[e.Modal=1]="Modal"}(o||(o={})),function(e){e.Hidden="hidden",e.Showing="showing"}(s||(s={}))},565640:function(e,n,t){"use strict";var i;t.d(n,{g:function(){return i}}),function(e){e.UNKNOWN="Unspecified",e.FILE="File",e.SEGMENT="Segment",e.SOURCE="Source",e.DECODER="Decode",e.RENDERER="Render",e.MASTER_PLAYLIST="MasterPlaylist",e.MEDIA_PLAYLIST="MediaPlaylist",e.DRM="DRM"}(i||(i={}))},595101:function(e,n,t){"use strict";var i,a;t.d(n,{B:function(){return i}}),function(e){e.GENERIC="Error",e.NOT_SUPPORTED="ErrorNotSupported",e.NO_SOURCE="ErrorNoSource",e.INVALID_DATA="ErrorInvalidData",e.INVALID_STATE="ErrorInvalidState",e.INVALID_PARAMETER="ErrorInvalidParameter",e.TIMEOUT="ErrorTimeout",e.INVALID_OUTPUT="ErrorInvalidOutput",e.INTERNAL="ErrorInternal",e.NETWORK="ErrorNetwork",e.NETWORK_IO="ErrorNetworkIO",e.AUTHORIZATION="ErrorAuthorization",e.NOT_AVAILABLE="ErrorNotAvailable"}(i||(i={})),function(e){e[e.GEOBLOCKED=1]="GEOBLOCKED",e[e.UNSUPPORTED_DEVICE=2]="UNSUPPORTED_DEVICE",e[e.ANONYMIZER_BLOCKED=3]="ANONYMIZER_BLOCKED",e[e.CELLULAR_NETWORK_PROHIBITED=4]="CELLULAR_NETWORK_PROHIBITED",e[e.UNAUTHORIZATION_ENTITLEMENTS=5]="UNAUTHORIZATION_ENTITLEMENTS",e[e.VOD_RESTRICTED=6]="VOD_RESTRICTED"}(a||(a={}))},749721:function(e,n,t){"use strict";var i;t.d(n,{G:function(){return i}}),function(e){e.AVAILABLE="RemotePlayerAvailable",e.UNAVAILABLE="RemotePlayerUnavailable",e.SESSION_STARTED="RemotePlayerSessionStarted",e.SESSION_ENDED="RemotePlayerSessionEnded"}(i||(i={}))},966872:function(e,n,t){"use strict";var i,a;function r(e){return!![i.Aborted,i.Network,i.Decode].includes(e)}t.d(n,{G_:function(){return r},O4:function(){return i}}),function(e){e[e.GeoBlocked=1]="GeoBlocked",e[e.UnsupportedDevice=2]="UnsupportedDevice",e[e.AnonymizerBlocked=3]="AnonymizerBlocked",e[e.CellularNetworkProhibited=4]="CellularNetworkProhibited",e[e.UnauthorizationEntitlements=5]="UnauthorizationEntitlements",e[e.VodRestricted=6]="VodRestricted",e[e.LVSCCUCap=509]="LVSCCUCap",e[e.Aborted=1e3]="Aborted",e[e.DRMLicenseServerError=1001]="DRMLicenseServerError",e[e.Network=2e3]="Network",e[e.CCUCapReached=2001]="CCUCapReached",e[e.Decode=3e3]="Decode",e[e.FormatNotSupported=4e3]="FormatNotSupported",e[e.ContentNotAvailable=5e3]="ContentNotAvailable",e[e.DRMLicenseNotAvailable=5001]="DRMLicenseNotAvailable",e[e.RendererNotAvailable=6e3]="RendererNotAvailable",e[e.SafariUnsupportedDevice=7004]="SafariUnsupportedDevice",e[e.CDMNotAuthorized=7005]="CDMNotAuthorized",e[e.Fatal=8001]="Fatal",e[e.FatalAuth=8003]="FatalAuth",e[e.Offline=8002]="Offline",e[e.WarnAuth=8004]="WarnAuth"}(i||(i={})),function(e){e.PREMIUM_CONTENT_RESTRICTED="PREMIUM_CONTENT",e.VOD_RESTRICTED="vod_manifest_restricted"}(a||(a={}))},936608:function(e,n,t){"use strict";t.d(n,{LG:function(){return o}});var i=t(331635),a=t(452088),r=t(730930);function o(e){return e.videoPlayer.activeVideoPlayerInstanceRefID}a.x2.store.registerReducer("videoPlayer",(function(e,n){return void 0===e&&(e={activeVideoPlayerInstanceRefID:void 0}),n.type===r.Q?(0,i.__assign)((0,i.__assign)({},e),{activeVideoPlayerInstanceRefID:n.playerRefID}):e}))},289007:function(e,n,t){"use strict";t.d(n,{$q:function(){return g},A9:function(){return v},Kk:function(){return s},Mr:function(){return f},Ni:function(){return k},U:function(){return c},Yk:function(){return S},b3:function(){return p},cW:function(){return b},cs:function(){return h},dF:function(){return _},kG:function(){return u},zM:function(){return y},zb:function(){return m}});var i=t(331635),a=t(882439),r=t(612567),o=t(118483),s="https://www.twitch.tv",l="https://clips.twitch.tv",d="https://player.twitch.tv";function u(e,n){var t={};if(((0,o.wy)(e)||(0,o.P3)(e))&&(t.video=e.vodID),(0,o.P3)(e)&&(t.collection=e.collectionID),(0,o.DG)(e)&&(t.channel=e.channelLogin),!((t=(0,i.__assign)((0,i.__assign)({},t),n)).channel||t.video||t.collection))return s;var r=a.stringify(t);return"".concat(d,"/").concat(r&&"?".concat(r))}var c=function(e,n){void 0===n&&(n={});var t=n.linkTrackingContext,a=n.trackingContext;return{pathname:"/".concat(e.channelLogin),state:(t||a)&&(0,i.__assign)((0,i.__assign)({},t),a)}},p=function(e,n){void 0===n&&(n={});var t=c(e,n),i=C(t);return"".concat(s).concat(t.pathname).concat(i&&"?".concat(i))},m=function(e,n){void 0===n&&(n={});var t=n.linkTrackingContext,a=n.trackingContext;return{pathname:"/videos/".concat(e.vodID),search:e.videoOffset?"?t=".concat((0,r.W)(e.videoOffset)):void 0,state:(t||a)&&(0,i.__assign)((0,i.__assign)({},t),a)}},v=function(e,n){void 0===n&&(n={});var t=m(e,n),i=C(t);return"".concat(s).concat(t.pathname).concat(i&&"?".concat(i))},f=function(e,n){void 0===n&&(n={});var t=n.linkTrackingContext,o=n.trackingContext,s=e.videoOffset?(0,r.W)(e.videoOffset):void 0;return e.vodID?{pathname:"/videos/".concat(e.vodID),search:a.stringify({t:s,collection:e.collectionID}),state:(t||o)&&(0,i.__assign)((0,i.__assign)({},t),o)}:{pathname:"/collections/".concat(e.collectionID),search:a.stringify({t:s}),state:(t||o)&&(0,i.__assign)((0,i.__assign)({},t),o)}},g=function(e,n){void 0===n&&(n={});var t=f(e,n),i=C(t);return"".concat(s).concat(t.pathname).concat(i&&"?".concat(i))},h=function(e,n){void 0===n&&(n={});var t=n.linkTrackingContext,a=n.trackingContext;return e.channelLogin?{pathname:"/".concat(e.channelLogin,"/clip/").concat(e.clipSlug),search:e.videoOffset?"?t=".concat((0,r.W)(e.videoOffset)):void 0,state:(t||a)&&(0,i.__assign)((0,i.__assign)({},t),a)}:k(e,n)},y=function(e,n){var t,i,o,l,d,u;void 0===n&&(n={});var c={tt_content:null!==(i=null===(t=null==n?void 0:n.linkTrackingContext)||void 0===t?void 0:t.content)&&void 0!==i?i:null===(o=null==n?void 0:n.trackingContext)||void 0===o?void 0:o.content,tt_medium:null!==(d=null===(l=null==n?void 0:n.linkTrackingContext)||void 0===l?void 0:l.medium)&&void 0!==d?d:null===(u=null==n?void 0:n.trackingContext)||void 0===u?void 0:u.medium,t:e.videoOffset?(0,r.W)(e.videoOffset):void 0};return e.channelLogin?function(e,n,t){void 0===t&&(t={});var i=a.stringify(t);return"".concat(s,"/").concat(e,"/clip/").concat(n).concat(i&&"?".concat(i))}(e.channelLogin,e.clipSlug,c):S(e.clipSlug,c)},k=function(e,n){var t,i,a,o,s,l;return void 0===n&&(n={}),S(e.clipSlug,{tt_content:null!==(i=null===(t=null==n?void 0:n.linkTrackingContext)||void 0===t?void 0:t.content)&&void 0!==i?i:null===(a=null==n?void 0:n.trackingContext)||void 0===a?void 0:a.content,tt_medium:null!==(s=null===(o=null==n?void 0:n.linkTrackingContext)||void 0===o?void 0:o.medium)&&void 0!==s?s:null===(l=null==n?void 0:n.trackingContext)||void 0===l?void 0:l.medium,t:e.videoOffset?(0,r.W)(e.videoOffset):void 0})};function S(e,n){void 0===n&&(n={});var t=a.stringify(n);return"".concat(l,"/").concat(e).concat(t&&"?".concat(t))}function _(e,n){void 0===n&&(n={});var t=a.stringify(n);return"".concat(l,"/").concat(e,"/edit").concat(t&&"?".concat(t))}function C(e){var n=a.parse(e.search||""),t=e.state||{},r=t.content,o=void 0===r?void 0:r,s=t.medium,l=void 0===s?void 0:s,d=(0,i.__rest)(t,["content","medium"]);return a.stringify((0,i.__assign)((0,i.__assign)((0,i.__assign)({},d),n),{tt_content:o,tt_medium:l}))}function b(e,n){if("string"==typeof e)n(e);else{var t=e.state;n((0,i.__rest)(e,["state"]),{state:t})}}},324538:function(e,n,t){"use strict";t.d(n,{F:function(){return w}});var i,a=t(331635),r=t(248573),o=t(256760),s=t(699453),l=t(280579),d=t(815750),u=t(397923),c=t(954866),p=t(722795),m=t(542762),v=t(535911),f=t(809322),g=t(637415),h=t(882439),y=t(452088),k=t(681903);!function(e){e.DEBUG="debug",e.INFO="info",e.WARN="warn",e.ERROR="error"}(i||(i={}));var S=t(954978);var _,C={};function b(e,n){void 0===n&&(n=!1);var t=new URL(e,document.URL).toString();if(!n)return Promise.resolve(t);var i=C[t];return i||(C[t]=function(e){return(0,a.__awaiter)(this,void 0,void 0,(function(){var n;return(0,a.__generator)(this,(function(t){switch(t.label){case 0:return[4,fetch(e,{credentials:"include"})];case 1:return[4,t.sent().blob()];case 2:return n=t.sent(),[2,URL.createObjectURL(n)]}}))}))}(t))}var P,x,E={key:"cvp-log",validValues:["debug","error","info","warn"],defaultValue:"error"};!function(e){e.Base="player-core-base",e.VarA="player-core-variant-a",e.VarB="player-core-variant-b",e.VarM="player-core-variant-m"}(x||(x={}));var A=((_={})[x.Base]={baseJs:s,wasmJs:r,wasm:o,mediaPlayerLoader:function(){return Promise.all([t.e(38673),t.e(23687),t.e(62506)]).then(t.t.bind(t,502019,23))}},_[x.VarA]={baseJs:u,wasmJs:l,wasm:d,mediaPlayerLoader:function(){return Promise.all([t.e(38673),t.e(23687),t.e(95434)]).then(t.t.bind(t,10387,23))}},_[x.VarB]={baseJs:m,wasmJs:c,wasm:p,mediaPlayerLoader:function(){return Promise.all([t.e(38673),t.e(23687),t.e(82625)]).then(t.t.bind(t,256728,23))}},_[x.VarM]={baseJs:g,wasmJs:v,wasm:f,mediaPlayerLoader:function(){return Promise.all([t.e(38673),t.e(23687),t.e(92614)]).then(t.t.bind(t,508743,23))}},_),N=new Map([["debug",i.DEBUG],["error",i.ERROR],["warn",i.WARN],["info",i.INFO]]);function w(e){return(0,a.__awaiter)(this,void 0,Promise,(function(){var n,t,r,o,s,l,d,u,c,p,m,v,f,g,_,C,w;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:return n=performance.now(),t=y.x2.store.getState(),r=!(!t.session.user||!t.session.user.roles)&&t.session.user.roles.isStaff,o=y.x2.experiments.getAndTrackAssignment(r?"TWILIGHT_PLAYER_CORE_NPM_STAFF":"TWILIGHT_PLAYER_CORE_NPM")||"",I=(o||"").match(/([^+]+)(?:\+([^+]+))?/),D=I?"player-core-".concat(I[1]):x.Base,s=D in A?D:x.Base,l={enableRemoteSearch:!0,wasmWorker:"",asmWorker:"",wasmBinary:""},[4,(d=A[s]).mediaPlayerLoader()];case 1:return u=a.sent(),P?[3,5]:u.isWasmSupported?(p=(c=u.createWorker).apply,m=[u],[4,Promise.all([b(d.wasmJs),b(d.wasm)])]):[3,3];case 2:return P=p.apply(c,m.concat([a.sent()])),[3,5];case 3:return f=(v=u.createWorker).apply,g=[u],[4,Promise.all([b(d.baseJs),b(d.wasm)])];case 4:P=f.apply(v,g.concat([a.sent()])),a.label=5;case 5:return(_=new u.MediaPlayer(l,P)).setClientId(y.x2.config.authSettings.clientID),_.setLogLevel(N.get(function(){var e,n=null===(e=h.parse(window.location.search)[E.key])||void 0===e?void 0:e.toString();if(!n||-1===E.validValues.indexOf(n))return E.defaultValue;return n}().toString())||i.ERROR),T(_,k.Rv.ivs_player_mse_in_workers_safari.id),T(_,k.Rv.ivs_player_mse_in_workers_edge.id),T(_,k.Rv.ivs_player_mse_in_workers_opera.id),T(_,k.Rv.ivs_player_probe_endpoint.id),T(_,k.Rv.ivs_player_abr_score.id),C=new Set,e.enableSuperResExperiment?r?(T(_,k.Rv.ivs_player_web_gpu_transform_staff.id),C.add(k.Rv.ivs_player_web_gpu_transform.id)):(T(_,k.Rv.ivs_player_web_gpu_transform.id),C.add(k.Rv.ivs_player_web_gpu_transform_staff.id)):(C.add(k.Rv.ivs_player_web_gpu_transform.id),C.add(k.Rv.ivs_player_web_gpu_transform_staff.id)),_.addEventListener(S.a.INITIALIZED,(function(){if("function"==typeof _.getExperiments&&"function"==typeof _.setExperiment){var e=_.getExperiments();for(var n in y.x2.experiments.addToDefaultAssignments(e),e)e.hasOwnProperty(n)&&!C.has(n)&&T(_,n)}})),w=new Promise((function(e){_.addEventListener(S.a.INITIALIZED,(function(){var t=Math.round(performance.now()-n);e(t)}))})),[2,{mediaPlayerInstance:_,playerLoadTimePromise:w,mediaPlayerHandle:u,isWasm:u.isWasmSupported}]}var I,D}))}))}function T(e,n){var t=y.x2.experiments.getExperimentById(n);null!==t&&(e.setExperimentData?e.setExperimentData(t):null!==t.assignment&&e.setExperiment(n,t.assignment))}},55195:function(e,n,t){"use strict";t.d(n,{O:function(){return a}});var i=t(763932);function a(e){return e.type||i.C.Site}},179405:function(e,n,t){"use strict";t.d(n,{Ao:function(){return m},Er:function(){return y},Gi:function(){return x},S9:function(){return g},Tp:function(){return b},XF:function(){return p},Xz:function(){return f},di:function(){return v},fx:function(){return P},uU:function(){return k},x0:function(){return _}});var i=t(331635),a=t(452088),r=t(204870),o=t(231273),s=t(207817),l=t(943210),d=t(557175),u=t(286169);function c(e){var n,t=e.playerPublicPropsContext;return n=t.type,l.o.get("video-quality",n)}function p(e,n){!function(e,n){l.o.set("video-quality",n,e.group)}(e,n),e.bitrate>0&&a.IG.set(d.U.BITRATE,e.bitrate)}function m(){return a.IG.getOptional(d.U.BITRATE)}function v(){a.IG.set(r.A8,Date.now())}function f(e){return void 0===e&&(e=0),a.IG.get(r.A8,e)}function g(e,n){if(void 0===n&&(n=!1),0===e.length)return[];if(n){var t=e[0],i=t.frameRate,a=t.sourceURL;return[{bitrate:0,codecs:"",framerate:i||0,group:s.w,height:0,isDefault:!1,name:h(t),source:a,width:0}]}return e.map((function(e){return{bitrate:0,codecs:"",framerate:e.frameRate||0,group:(n=e,"".concat(h(n)).concat(n.frameRate)),height:0,isDefault:!1,name:h(e),source:e.sourceURL,width:0};var n}))}function h(e){return"p"===e.quality.trim().slice(-1)?e.quality:"".concat(e.quality,"p")}function y(e){var n=e.getQualities();return(0,i.__spreadArray)([r.IJ],n,!0)}function k(e){return function(e,n){return S(function(e){return e.availableQualities}(n),e)}(e.quality,e)||r.IJ}function S(e,n){return e.find((function(e){return e.group===n}))}function _(e){return(0,u.wk)(e).forceQuality||(0,u.wk)(e).initialQuality||c(e)||o.Sw.quality}function C(e,n){return{quality:e,strategy:n}}function b(e,n,t,i){var a=S(e,n);if(a)return C(a,"matching");if(i){var r=parseInt(n,10),o=e.slice().reverse().find((function(e){return parseInt(e.group,10)>r}));return o?C(o,"closest"):C(e[0],"highest")}var s=e.concat().sort((function(e,n){return n.bitrate-e.bitrate})),l=s.find((function(e){return e.bitrate<t}));return l?C(l,"closest"):C(s[s.length-1],"lowest")}function P(e,n){(0,n.updateContext)({quality:e.group,qualityBitrate:e.bitrate})}function x(e){return void 0!==e.source}},334315:function(e,n,t){"use strict";function i(e){return e?{height:e.clientHeight,width:e.clientWidth}:{}}function a(e){if(e){var n=e.getBoundingClientRect(),t=n.top;return{x:n.left,y:t,width:n.width,height:n.height}}return{}}t.d(n,{G:function(){return a},P:function(){return i}})},386864:function(e,n,t){"use strict";t.d(n,{M:function(){return d},X:function(){return l}});var i=t(331635),a=t(452088),r=t(472944),o=t(56612),s=t.n(o),l=function(e,n){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){return[2,u({live:!0,login:e,playerType:n})]}))}))},d=function(e,n){return(0,i.__awaiter)(void 0,void 0,void 0,(function(){return(0,i.__generator)(this,(function(t){return[2,u({live:!1,vodID:e,playerType:n})]}))}))};function u(e){return(0,i.__awaiter)(this,void 0,Promise,(function(){var n,t,o,l,d,u;return(0,i.__generator)(this,(function(i){switch(i.label){case 0:return i.trys.push([0,2,,3]),[4,a.x2.apollo.client.query({query:s(),fetchPolicy:"no-cache",variables:{isLive:e.live,login:e.live&&e.login||"",isVod:!e.live,vodID:!e.live&&e.vodID||"",playerType:e.playerType,platform:(0,r.R)()}})];case 1:return n=i.sent(),t=null===(d=null==n?void 0:n.data)||void 0===d?void 0:d.streamPlaybackAccessToken,o=null===(u=null==n?void 0:n.data)||void 0===u?void 0:u.videoPlaybackAccessToken,e.live&&t?[2,{token:t.value,sig:t.signature,authorization:t.authorization,mobile_restricted:!1}]:!e.live&&o?[2,{token:o.value,sig:o.signature,mobile_restricted:!1}]:[3,3];case 2:return l=i.sent(),a.x2.logger.warn("Received an error while fetching PlaybackAccessToken from GQL",l),[3,3];case 3:return[2]}}))}))}},471090:function(e,n,t){"use strict";t.d(n,{BZ:function(){return l},CD:function(){return m},Gd:function(){return r},Qf:function(){return u},Qq:function(){return g},Tz:function(){return o},WZ:function(){return c},a8:function(){return v},cc:function(){return s},g:function(){return h},mB:function(){return p},wh:function(){return i},wv:function(){return d},zd:function(){return f}});var i,a=t(376347),r=100,o=20,s=50,l="https://help.twitch.tv/s/article/watch-parties",d=3,u="515467",c="watch-parties",p="https://www.amazon.com/gp/video/storefront?filterId=OFFER_FILTER%3DPRIME",m="dvm_tch_wtp_us_cd_s_signup",v="https://primevideo.com",f={disableDoubleClickFullscreen:!0,disableFullscreen:!0,disableKeyboardShortcuts:!0,disablePopoutPlayer:!0,disableStatusIndicator:!0,disableStatusOverlay:!0,disableSettingsMenuButton:!0,disableTheatreMode:!0,disableUserPreferencePersistence:!1,disableWhispersCompatability:!0,enableExtensions:!1,forceQuality:a._6.Low,initialMuted:{enabled:!0,showOverlay:!0,overlayDuration:1/0}},g=5,h="https://www.primevideo.com/help?nodeId=202095490&view-type=content-only";!function(e){e.USER_NOT_PRIME="USER_NOT_PRIME",e.GEO_RESTRICTED="GEO_RESTRICTED"}(i||(i={}))},957139:function(e,n,t){"use strict";t.d(n,{Lw:function(){return g},Ng:function(){return A},Op:function(){return h},PU:function(){return N},SN:function(){return E},Sv:function(){return w},TM:function(){return y},Y0:function(){return x},_b:function(){return k},mu:function(){return _},rN:function(){return v},rs:function(){return f},y2:function(){return T},yo:function(){return P},zY:function(){return b},zn:function(){return S}});var i=t(331635),a=t(973421),r=t.n(a),o=t(452088),s=t(503472),l=t(214120),d=t(267924),u=t(957573),c=t(471090),p=t(604499),m=t.n(p),v=function(){return o.Zn.get("cf_jim_faxes_from_the_future",0)},f=function(){return o.Zn.get("cf_wp_retry_count",0)},g=function(e){return h(null==e?void 0:e.state)},h=function(e){return!(!e||e===d.DbI.OFFLINE||e===d.DbI.UNKNOWN)},y=function(e){return e&&e.isValid},k=function(e,n){return n===d.H2J.GEO_RESTRICTED||!!(null==e?void 0:e.self)&&(!e.self.eligibility.canView&&e.self.eligibility.reason===c.wh.GEO_RESTRICTED)},S=function(e){return e===d.LTh.BROAD_AVAILABILITY};function _(e,n){return null===e||e<0?0:n&&e>n?n:e}var C=function(e){return r()(e,(function(e){return(0,i.__assign)((0,i.__assign)({},e),{state:d.DbI.OFFLINE})}))},b=function(e){void 0===e&&(e=window.navigator.userAgent);return/(android[\w\.\s\-]{0,9});.+build/i.test(e)||/version\/([\w\.]+).+?(mobile\s?safari|safari)/i.test(e)},P=function(e){return e===c.Qf};function x(e,n){if(e===d.DbI.IN_PROGRESS&&n&&n.durationSeconds>0&&n.positionSeconds>0){var t=n.positionSeconds/n.durationSeconds;return Math.min(t,1)}return 0}var E=function(e){return"/".concat(e)},A=function(e){var n=(0,s.G5)(e);n&&(0,s.WY)({id:n,fragment:m(),fragmentName:"watchPartySession",mutator:C})},N=function(e){var n=window.location.pathname.substring(1);return(0,u.r3)(c.CD,n,e)},w=function(e){return e?{linkTo:"".concat(e,"#customer-review-section"),targetBlank:!0}:null},T=function(e){return(0,l.yT)((null!=e?e:1e4)/2e3*1e3)}},599534:function(e,n,t){"use strict";t.d(n,{h:function(){return a}});var i=t(296540);function a(e,n){void 0===n&&(n=1e3);var t=(0,i.useState)(r(o(e))),a=t[0],s=t[1];return(0,i.useEffect)((function(){s(r(o(e)));var t=setInterval((function(){s(r(o(e)))}),n);return function(){return clearInterval(t)}}),[e,n]),Math.round(a/1e3)}function r(e){return o(new Date)-e}function o(e){return new Date(e.toUTCString()).getTime()}},532083:function(e,n,t){"use strict";t.d(n,{E:function(){return u}});var i=t(145748),a=t(783321),r=t(982821),o=t(456450),s=t(681234),l=t.n(s),d=t(957139);function u(e,n){var t,s,u,c,p,m,v=(0,a.IT)(l(),{variables:{channelLogin:e||""},skip:!e||n,fetchPolicy:"network-only"}),f=v.data,g=v.loading,h=null!==(s=null===(t=null==f?void 0:f.user)||void 0===t?void 0:t.id)&&void 0!==s?s:null,y=(0,i.D)(h?(0,o.Tv)(h):"",{skip:!h||n,skipMessage:function(e){return e.type!==r.PD.PrimeVideoWatchPartyStateUpdate}})[0],k=null===(p=null===(c=null===(u=null==f?void 0:f.user)||void 0===u?void 0:u.watchParty)||void 0===c?void 0:c.session)||void 0===p?void 0:p.state;y&&(m=y.data.state);var S=!1;return m?S=(0,d.Op)(m):k&&(S=(0,d.Op)(k)),g&&(S=!1,m=void 0,k=void 0),{isHostingWatchParty:S,watchPartyStateFromPubsub:m,watchPartyStateFromGQL:k}}},265430:function(e,n,t){"use strict";function i(){return Promise.all([t.e(5647),t.e(78025)]).then(t.bind(t,705647))}function a(e,n){var t=function(e){return Array.from(e.normalize?e.normalize("NFC"):e)}(e);return t.length<=n?e:"".concat(t.slice(0,n-3).join("").trim(),"...")}t.d(n,{W:function(){return a},f:function(){return i}})},319224:function(e,n,t){"use strict";t.d(n,{f:function(){return a}});var i=t(415044),a=function(){return(0,i.d4)((function(e){var n;return null===(n=e.session.user)||void 0===n?void 0:n.id}))}}}]);